var B_=Object.defineProperty;var H_=(r,e,t)=>e in r?B_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Oe=(r,e,t)=>(H_(r,typeof e!="symbol"?e+"":e,t),t);import{i as Za,t as F_,f as Ht,j as te,s as Kw,h as pr,k as z_,w as eo,l as Xw,m as ld,v as V_,n as Jw,o as z,c as X,a as ue,u as M,q as Re,x as G,F as Me,y as wp,z as ud,A as kp,B as ne,g as _r,C as ur,D as mt,E as Te,G as re,H as br,I as Pn,J as Dt,K as Ni,T as q_,L as Qe,M as _e,N as Nn,O as Ta,b as dn,P as Nt,Q as Po,R as to,S as ns,U as qs,V as Us,W as U_,X as W_,Y as j_,_ as kc,r as Y_,p as Qw,d as Zw,Z as Zv,$ as hs}from"./index.ac5fa4b9.js";const G_=()=>{const r=t=>new Promise((n,i)=>{setTimeout(()=>{try{if(t)throw new Error("timeout");n("pass")}catch(a){console.error(a),i("timeout")}},1e3)}),e=new Promise((t,n)=>{setTimeout(()=>{n("timeout")},1100)});return{delayPromise:r,timeoutPromise:e}},K_=()=>{const r=["NUMBER#1-ORANGE","NUMBER#2-CORAL","NUMBER#3-SALMON","NUMBER#4-WHEAT"],e=["#FFA500","#FF7F50","#E18B6B","#F5DEB3"],t=Za({chartData:{labels:r,datasets:[{backgroundColor:e,data:[40,20,80,10]}]},charOption:{responsive:!0,maintainAspectRatio:!1}}),n=()=>{let i=[];for(let a=0;a<4;a++){let o=Math.floor(Math.random()*100);i.push(o)}t.chartData={labels:r,datasets:[{backgroundColor:e,data:i}]}};return{...F_(t),changeChartDataSize:n}};/*!
 * Chart.js v4.0.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function xn(){}const X_=(()=>{let r=0;return()=>r++})();function Ze(r){return r===null||typeof r>"u"}function nt(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Le(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function xt(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function yr(r,e){return xt(r)?r:e}function He(r,e){return typeof r>"u"?e:r}const J_=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,e1=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function je(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Ve(r,e,t,n){let i,a,o;if(nt(r))if(a=r.length,n)for(i=a-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<a;i++)e.call(t,r[i],i);else if(Le(r))for(o=Object.keys(r),a=o.length,i=0;i<a;i++)e.call(t,r[o[i]],o[i])}function jl(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Yl(r){if(nt(r))return r.map(Yl);if(Le(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Yl(r[t[i]]);return e}return r}function t1(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function Q_(r,e,t,n){if(!t1(r))return;const i=e[r],a=t[r];Le(i)&&Le(a)?jo(i,a,n):e[r]=Yl(a)}function jo(r,e,t){const n=nt(e)?e:[e],i=n.length;if(!Le(r))return r;t=t||{};const a=t.merger||Q_;let o;for(let s=0;s<i;++s){if(o=n[s],!Le(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)a(l[u],r,o,t)}return r}function No(r,e){return jo(r,e,{merger:Z_})}function Z_(r,e,t){if(!t1(r))return;const n=e[r],i=t[r];Le(n)&&Le(i)?No(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=Yl(i))}const em={"":r=>r,x:r=>r.x,y:r=>r.y};function eC(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function tC(r){const e=eC(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Yo(r,e){return(em[e]||(em[e]=tC(e)))(r)}function xp(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Ur=r=>typeof r<"u",ci=r=>typeof r=="function",tm=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function rC(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const bt=Math.PI,it=2*bt,Gl=Number.POSITIVE_INFINITY,nC=bt/180,at=bt/2,ki=bt/4,rm=bt*2/3,Qn=Math.log10,Kl=Math.sign;function Ws(r,e,t){return Math.abs(r-e)<t}function nm(r){const e=Math.round(r);r=Ws(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(Qn(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function iC(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function Xl(r){return!isNaN(parseFloat(r))&&isFinite(r)}function aC(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function r1(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function un(r){return r*(bt/180)}function Tp(r){return r*(180/bt)}function im(r){if(!xt(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function n1(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let a=Math.atan2(n,t);return a<-.5*bt&&(a+=it),{angle:a,distance:i}}function oC(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function an(r){return(r%it+it)%it}function Jl(r,e,t,n){const i=an(r),a=an(e),o=an(t),s=an(a-i),l=an(o-i),u=an(i-a),c=an(i-o);return i===a||i===o||n&&a===o||s>l&&u<c}function Ar(r,e,t){return Math.max(e,Math.min(t,r))}function sC(r){return Ar(r,-32768,32767)}function xo(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function _p(r,e,t){t=t||(o=>r[o]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}const cd=(r,e,t,n)=>_p(r,t,n?i=>{const a=r[i][e];return a<t||a===t&&r[i+1][e]===t}:i=>r[i][e]<t),lC=(r,e,t)=>_p(r,t,n=>r[n][e]>=t);function uC(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const i1=["push","pop","shift","splice","unshift"];function cC(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),i1.forEach(t=>{const n="_onData"+xp(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return r._chartjs.listeners.forEach(s=>{typeof s[n]=="function"&&s[n](...a)}),o}})})}function am(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(i1.forEach(a=>{delete r[a]}),delete r._chartjs)}function fC(r){const e=new Set;let t,n;for(t=0,n=r.length;t<n;++t)e.add(r[t]);return e.size===n?r:Array.from(e)}const a1=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function o1(r,e){let t=!1;return function(...n){t||(t=!0,a1.call(window,()=>{t=!1,r.apply(e,n)}))}}function dC(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const s1=r=>r==="start"?"left":r==="end"?"right":"center",gr=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,hC=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e,ps=r=>r===0||r===1,om=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*it/t)),sm=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*it/t)+1,js={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*at)+1,easeOutSine:r=>Math.sin(r*at),easeInOutSine:r=>-.5*(Math.cos(bt*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>ps(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>ps(r)?r:om(r,.075,.3),easeOutElastic:r=>ps(r)?r:sm(r,.075,.3),easeInOutElastic(r){return ps(r)?r:r<.5?.5*om(r*2,.1125,.45):.5+.5*sm(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-js.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?js.easeInBounce(r*2)*.5:js.easeOutBounce(r*2-1)*.5+.5};var lm=js;/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function is(r){return r+.5|0}const Zn=(r,e,t)=>Math.max(Math.min(r,t),e);function To(r){return Zn(is(r*2.55),0,255)}function ii(r){return Zn(is(r*255),0,255)}function On(r){return Zn(is(r/2.55)/100,0,1)}function um(r){return Zn(is(r*100),0,100)}const Mr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fd=[..."0123456789ABCDEF"],pC=r=>fd[r&15],vC=r=>fd[(r&240)>>4]+fd[r&15],vs=r=>(r&240)>>4===(r&15),mC=r=>vs(r.r)&&vs(r.g)&&vs(r.b)&&vs(r.a);function gC(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Mr[r[1]]*17,g:255&Mr[r[2]]*17,b:255&Mr[r[3]]*17,a:e===5?Mr[r[4]]*17:255}:(e===7||e===9)&&(t={r:Mr[r[1]]<<4|Mr[r[2]],g:Mr[r[3]]<<4|Mr[r[4]],b:Mr[r[5]]<<4|Mr[r[6]],a:e===9?Mr[r[7]]<<4|Mr[r[8]]:255})),t}const yC=(r,e)=>r<255?e(r):"";function bC(r){var e=mC(r)?pC:vC;return r?"#"+e(r.r)+e(r.g)+e(r.b)+yC(r.a,e):void 0}const wC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function l1(r,e,t){const n=e*Math.min(t,1-t),i=(a,o=(a+r/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function kC(r,e,t){const n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function xC(r,e,t){const n=l1(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function TC(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function Cp(r){const t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),o=Math.min(t,n,i),s=(a+o)/2;let l,u,c;return a!==o&&(c=a-o,u=s>.5?c/(2-a-o):c/(a+o),l=TC(t,n,i,c,a),l=l*60+.5),[l|0,u||0,s]}function Sp(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(ii)}function Op(r,e,t){return Sp(l1,r,e,t)}function _C(r,e,t){return Sp(xC,r,e,t)}function CC(r,e,t){return Sp(kC,r,e,t)}function u1(r){return(r%360+360)%360}function SC(r){const e=wC.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?To(+e[5]):ii(+e[5]));const i=u1(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=_C(i,a,o):e[1]==="hsv"?n=CC(i,a,o):n=Op(i,a,o),{r:n[0],g:n[1],b:n[2],a:t}}function OC(r,e){var t=Cp(r);t[0]=u1(t[0]+e),t=Op(t),r.r=t[0],r.g=t[1],r.b=t[2]}function MC(r){if(!r)return;const e=Cp(r),t=e[0],n=um(e[1]),i=um(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${On(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const cm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EC(){const r={},e=Object.keys(fm),t=Object.keys(cm);let n,i,a,o,s;for(n=0;n<e.length;n++){for(o=s=e[n],i=0;i<t.length;i++)a=t[i],s=s.replace(a,cm[a]);a=parseInt(fm[o],16),r[s]=[a>>16&255,a>>8&255,a&255]}return r}let ms;function DC(r){ms||(ms=EC(),ms.transparent=[0,0,0,0]);const e=ms[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const AC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PC(r){const e=AC.exec(r);let t=255,n,i,a;if(!!e){if(e[7]!==n){const o=+e[7];t=e[8]?To(o):Zn(o*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?To(n):Zn(n,0,255)),i=255&(e[4]?To(i):Zn(i,0,255)),a=255&(e[6]?To(a):Zn(a,0,255)),{r:n,g:i,b:a,a:t}}}function NC(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${On(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Xc=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,fa=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function RC(r,e,t){const n=fa(On(r.r)),i=fa(On(r.g)),a=fa(On(r.b));return{r:ii(Xc(n+t*(fa(On(e.r))-n))),g:ii(Xc(i+t*(fa(On(e.g))-i))),b:ii(Xc(a+t*(fa(On(e.b))-a))),a:r.a+t*(e.a-r.a)}}function gs(r,e,t){if(r){let n=Cp(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Op(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function c1(r,e){return r&&Object.assign(e||{},r)}function dm(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=ii(r[3]))):(e=c1(r,{r:0,g:0,b:0,a:1}),e.a=ii(e.a)),e}function LC(r){return r.charAt(0)==="r"?PC(r):SC(r)}class Ql{constructor(e){if(e instanceof Ql)return e;const t=typeof e;let n;t==="object"?n=dm(e):t==="string"&&(n=gC(e)||DC(e)||LC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=c1(this._rgb);return e&&(e.a=On(e.a)),e}set rgb(e){this._rgb=dm(e)}rgbString(){return this._valid?NC(this._rgb):void 0}hexString(){return this._valid?bC(this._rgb):void 0}hslString(){return this._valid?MC(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let a;const o=t===a?.5:t,s=2*o-1,l=n.a-i.a,u=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=RC(this._rgb,e._rgb,t)),this}clone(){return new Ql(this.rgb)}alpha(e){return this._rgb.a=ii(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=is(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gs(this._rgb,2,e),this}darken(e){return gs(this._rgb,2,-e),this}saturate(e){return gs(this._rgb,1,e),this}desaturate(e){return gs(this._rgb,1,-e),this}rotate(e){return OC(this._rgb,e),this}}function f1(r){return new Ql(r)}function d1(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function hm(r){return d1(r)?r:f1(r)}function Jc(r){return d1(r)?r:f1(r).saturate(.5).darken(.1).hexString()}const IC=["x","y","borderWidth","radius","tension"],$C=["color","borderColor","backgroundColor"];function BC(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:$C},numbers:{type:"number",properties:IC}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function HC(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pm=new Map;function FC(r,e){e=e||{};const t=r+JSON.stringify(e);let n=pm.get(t);return n||(n=new Intl.NumberFormat(r,e),pm.set(t,n)),n}function xc(r,e,t){return FC(e,t).format(r)}const h1={values(r){return nt(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,a=r;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=zC(r,t)}const o=Qn(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),xc(r,n,l)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(Qn(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?h1.numeric.call(this,r,e,t):""}};function zC(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var Tc={formatters:h1};function VC(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ji=Object.create(null),dd=Object.create(null);function Ro(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function Qc(r,e,t){return typeof e=="string"?jo(Ro(r,e),t):jo(Ro(r,""),e)}class qC{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Jc(i.backgroundColor),this.hoverBorderColor=(n,i)=>Jc(i.borderColor),this.hoverColor=(n,i)=>Jc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Qc(this,e,t)}get(e){return Ro(this,e)}describe(e,t){return Qc(dd,e,t)}override(e,t){return Qc(ji,e,t)}route(e,t,n,i){const a=Ro(this,e),o=Ro(this,n),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[s],u=o[i];return Le(l)?Object.assign({},u,l):He(l,u)},set(l){this[s]=l}}})}apply(e){e.forEach(t=>t(this))}}var ct=new qC({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BC,HC,VC]);function UC(r){return!r||Ze(r.size)||Ze(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function Zl(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function WC(r,e,t,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let o=0;const s=t.length;let l,u,c,f,d;for(l=0;l<s;l++)if(f=t[l],f!=null&&nt(f)!==!0)o=Zl(r,i,a,o,f);else if(nt(f))for(u=0,c=f.length;u<c;u++)d=f[u],d!=null&&!nt(d)&&(o=Zl(r,i,a,o,d));r.restore();const h=a.length/2;if(h>t.length){for(l=0;l<h;l++)delete i[a[l]];a.splice(0,h)}return o}function xi(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function vm(r,e){e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore()}function mm(r,e,t,n){p1(r,e,t,n,null)}function p1(r,e,t,n,i){let a,o,s,l,u,c,f,d;const h=e.pointStyle,p=e.rotation,v=e.radius;let m=(p||0)*nC;if(h&&typeof h=="object"&&(a=h.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(m),r.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),r.restore();return}if(!(isNaN(v)||v<=0)){switch(r.beginPath(),h){default:i?r.ellipse(t,n,i/2,v,0,0,it):r.arc(t,n,v,0,it),r.closePath();break;case"triangle":c=i?i/2:v,r.moveTo(t+Math.sin(m)*c,n-Math.cos(m)*v),m+=rm,r.lineTo(t+Math.sin(m)*c,n-Math.cos(m)*v),m+=rm,r.lineTo(t+Math.sin(m)*c,n-Math.cos(m)*v),r.closePath();break;case"rectRounded":u=v*.516,l=v-u,o=Math.cos(m+ki)*l,f=Math.cos(m+ki)*(i?i/2-u:l),s=Math.sin(m+ki)*l,d=Math.sin(m+ki)*(i?i/2-u:l),r.arc(t-f,n-s,u,m-bt,m-at),r.arc(t+d,n-o,u,m-at,m),r.arc(t+f,n+s,u,m,m+at),r.arc(t-d,n+o,u,m+at,m+bt),r.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,c=i?i/2:l,r.rect(t-c,n-l,2*c,2*l);break}m+=ki;case"rectRot":f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+d,n-o),r.lineTo(t+f,n+s),r.lineTo(t-d,n+o),r.closePath();break;case"crossRot":m+=ki;case"cross":f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+f,n+s),r.moveTo(t+d,n-o),r.lineTo(t-d,n+o);break;case"star":f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+f,n+s),r.moveTo(t+d,n-o),r.lineTo(t-d,n+o),m+=ki,f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+f,n+s),r.moveTo(t+d,n-o),r.lineTo(t-d,n+o);break;case"line":o=i?i/2:Math.cos(m)*v,s=Math.sin(m)*v,r.moveTo(t-o,n-s),r.lineTo(t+o,n+s);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(m)*(i?i/2:v),n+Math.sin(m)*v);break}r.fill(),e.borderWidth>0&&r.stroke()}}function v1(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function Mp(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function Ep(r){r.restore()}function Ra(r,e,t,n,i,a={}){const o=nt(e)?e:[e],s=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(r.save(),r.font=i.string,jC(r,a),l=0;l<o.length;++l)u=o[l],a.backdrop&&GC(r,a.backdrop),s&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),Ze(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(u,t,n,a.maxWidth)),r.fillText(u,t,n,a.maxWidth),YC(r,t,n,u,a),n+=i.lineHeight;r.restore()}function jC(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Ze(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function YC(r,e,t,n,i){if(i.strikethrough||i.underline){const a=r.measureText(n),o=e-a.actualBoundingBoxLeft,s=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,u=t+a.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(o,c),r.lineTo(s,c),r.stroke()}}function GC(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function eu(r,e){const{x:t,y:n,w:i,h:a,radius:o}=e;r.arc(t+o.topLeft,n+o.topLeft,o.topLeft,-at,bt,!0),r.lineTo(t,n+a-o.bottomLeft),r.arc(t+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,bt,at,!0),r.lineTo(t+i-o.bottomRight,n+a),r.arc(t+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,at,0,!0),r.lineTo(t+i,n+o.topRight),r.arc(t+i-o.topRight,n+o.topRight,o.topRight,0,-at,!0),r.lineTo(t+o.topLeft,n)}const KC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JC(r,e){const t=(""+r).match(KC);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const QC=r=>+r||0;function Dp(r,e){const t={},n=Le(e),i=n?Object.keys(e):e,a=Le(r)?n?o=>He(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of i)t[o]=QC(a(o));return t}function ZC(r){return Dp(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Oa(r){return Dp(r,["topLeft","topRight","bottomLeft","bottomRight"])}function rr(r){const e=ZC(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(r,e){r=r||{},e=e||ct.font;let t=He(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=He(r.style,e.style);n&&!(""+n).match(XC)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:He(r.family,e.family),lineHeight:JC(He(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:He(r.weight,e.weight),string:""};return i.string=UC(i),i}function ys(r,e,t,n){let i=!0,a,o,s;for(a=0,o=r.length;a<o;++a)if(s=r[a],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),i=!1),t!==void 0&&nt(s)&&(s=s[t%s.length],i=!1),s!==void 0))return n&&!i&&(n.cacheable=!1),s}function eS(r,e,t){const{min:n,max:i}=r,a=e1(e,(i-n)/2),o=(s,l)=>t&&s===0?0:s+l;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function oa(r,e){return Object.assign(Object.create(r),e)}function Ap(r,e=[""],t=r,n,i=()=>r[0]){Ur(n)||(n=b1("_fallback",r));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:t,_fallback:n,_getTarget:i,override:o=>Ap([o,...r],e,t,n)};return new Proxy(a,{deleteProperty(o,s){return delete o[s],delete o._keys,delete r[0][s],!0},get(o,s){return g1(o,s,()=>lS(s,e,r,o))},getOwnPropertyDescriptor(o,s){return Reflect.getOwnPropertyDescriptor(o._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(o,s){return ym(o).includes(s)},ownKeys(o){return ym(o)},set(o,s,l){const u=o._storage||(o._storage=i());return o[s]=u[s]=l,delete o._keys,!0}})}function La(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:m1(r,n),setContext:a=>La(r,a,t,n),override:a=>La(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete r[o],!0},get(a,o,s){return g1(a,o,()=>rS(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(a,o,s){return r[o]=s,delete a[o],!0}})}function m1(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:ci(t)?t:()=>t,isIndexable:ci(n)?n:()=>n}}const tS=(r,e)=>r?r+xp(e):e,Pp=(r,e)=>Le(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function g1(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e))return r[e];const n=t();return r[e]=n,n}function rS(r,e,t){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=r;let s=n[e];return ci(s)&&o.isScriptable(e)&&(s=nS(e,s,r,t)),nt(s)&&s.length&&(s=iS(e,s,r,o.isIndexable)),Pp(e,s)&&(s=La(s,i,a&&a[e],o)),s}function nS(r,e,t,n){const{_proxy:i,_context:a,_subProxy:o,_stack:s}=t;if(s.has(r))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+r);return s.add(r),e=e(a,o||n),s.delete(r),Pp(r,e)&&(e=Np(i._scopes,i,r,e)),e}function iS(r,e,t,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:s}=t;if(Ur(a.index)&&n(r))e=e[a.index%e.length];else if(Le(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const f=Np(u,i,r,c);e.push(La(f,a,o&&o[r],s))}}return e}function y1(r,e,t){return ci(r)?r(e,t):r}const aS=(r,e)=>r===!0?e:typeof r=="string"?Yo(e,r):void 0;function oS(r,e,t,n,i){for(const a of e){const o=aS(t,a);if(o){r.add(o);const s=y1(o._fallback,t,i);if(Ur(s)&&s!==t&&s!==n)return s}else if(o===!1&&Ur(n)&&t!==n)return null}return!1}function Np(r,e,t,n){const i=e._rootScopes,a=y1(e._fallback,t,n),o=[...r,...i],s=new Set;s.add(n);let l=gm(s,o,t,a||t,n);return l===null||Ur(a)&&a!==t&&(l=gm(s,o,a,l,n),l===null)?!1:Ap(Array.from(s),[""],i,a,()=>sS(e,t,n))}function gm(r,e,t,n,i){for(;t;)t=oS(r,e,t,n,i);return t}function sS(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return nt(i)&&Le(t)?t:i||{}}function lS(r,e,t,n){let i;for(const a of e)if(i=b1(tS(a,r),t),Ur(i))return Pp(r,i)?Np(t,n,r,i):i}function b1(r,e){for(const t of e){if(!t)continue;const n=t[r];if(Ur(n))return n}}function ym(r){let e=r._keys;return e||(e=r._keys=uS(r._scopes)),e}function uS(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function w1(){return typeof window<"u"&&typeof document<"u"}function Rp(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tu(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const _c=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function cS(r,e){return _c(r).getPropertyValue(e)}const fS=["top","right","bottom","left"];function Hi(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=fS[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const dS=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function hS(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:a}=n;let o=!1,s,l;if(dS(i,a,r.target))s=i,l=a;else{const u=e.getBoundingClientRect();s=n.clientX-u.left,l=n.clientY-u.top,o=!0}return{x:s,y:l,box:o}}function Di(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=_c(t),a=i.boxSizing==="border-box",o=Hi(i,"padding"),s=Hi(i,"border","width"),{x:l,y:u,box:c}=hS(r,t),f=o.left+(c&&s.left),d=o.top+(c&&s.top);let{width:h,height:p}=e;return a&&(h-=o.width+s.width,p-=o.height+s.height),{x:Math.round((l-f)/h*t.width/n),y:Math.round((u-d)/p*t.height/n)}}function pS(r,e,t){let n,i;if(e===void 0||t===void 0){const a=Rp(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{const o=a.getBoundingClientRect(),s=_c(a),l=Hi(s,"border","width"),u=Hi(s,"padding");e=o.width-u.width-l.width,t=o.height-u.height-l.height,n=tu(s.maxWidth,a,"clientWidth"),i=tu(s.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||Gl,maxHeight:i||Gl}}const bs=r=>Math.round(r*10)/10;function vS(r,e,t,n){const i=_c(r),a=Hi(i,"margin"),o=tu(i.maxWidth,r,"clientWidth")||Gl,s=tu(i.maxHeight,r,"clientHeight")||Gl,l=pS(r,e,t);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=Hi(i,"border","width"),h=Hi(i,"padding");u-=h.width+d.width,c-=h.height+d.height}return u=Math.max(0,u-a.width),c=Math.max(0,n?Math.floor(u/n):c-a.height),u=bs(Math.min(u,o,l.maxWidth)),c=bs(Math.min(c,s,l.maxHeight)),u&&!c&&(c=bs(u/2)),(e!==void 0||t!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=bs(Math.floor(c*n))),{width:u,height:c}}function bm(r,e,t){const n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=i/n,r.width=a/n;const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(r.currentDevicePixelRatio=n,o.height=i,o.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const mS=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return r}();function wm(r,e){const t=cS(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const gS=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},yS=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Ma(r,e,t){return r?gS(e,t):yS()}function k1(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function x1(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.0.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class bS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const a=t.listeners[i],o=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=a1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,s=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),s=!0):(a[o]=a[a.length-1],a.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _n=new bS;const km="transparent",wS={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=hm(r||km),i=n.valid&&hm(e||km);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class kS{constructor(e,t,n,i){const a=t[n];i=ys([e.to,i,a,e.from]);const o=ys([e.from,a,i]);this._active=!0,this._fn=e.fn||wS[e.type||typeof o],this._easing=lm[e.easing]||lm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=ys([e.to,t,i,e.from]),this._from=ys([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to;let l;if(this._active=a!==s&&(o||t<n),!this._active){this._target[i]=s,this._notify(!0);return}if(t<0){this._target[i]=a;return}l=t/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,s,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class T1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Le(e))return;const t=Object.keys(ct.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!Le(a))return;const o={};for(const s of t)o[s]=a[s];(nt(a.properties)&&a.properties||[i]).forEach(s=>{(s===i||!n.has(s))&&n.set(s,o)})})}_animateOptions(e,t){const n=t.options,i=TS(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&xS(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}const c=t[u];let f=a[u];const d=n.get(u);if(f)if(d&&f.active()){f.update(d,c,s);continue}else f.cancel();if(!d||!d.duration){e[u]=c;continue}a[u]=f=new kS(d,e,u,c),i.push(f)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return _n.add(this._chart,n),!0}}function xS(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function TS(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function xm(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function _S(r,e,t){if(t===!1)return!1;const n=xm(r,t),i=xm(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function CS(r){let e,t,n,i;return Le(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function _1(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function Tm(r,e,t,n={}){const i=r.keys,a=n.mode==="single";let o,s,l,u;if(e!==null){for(o=0,s=i.length;o<s;++o){if(l=+i[o],l===t){if(n.all)continue;break}u=r.values[l],xt(u)&&(a||e===0||Kl(e)===Kl(u))&&(e+=u)}return e}}function SS(r){const e=Object.keys(r),t=new Array(e.length);let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],t[n]={x:a,y:r[a]};return t}function _m(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function OS(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function MS(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function ES(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function Cm(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function Sm(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:s}=n,l=a.axis,u=o.axis,c=OS(a,o,n),f=e.length;let d;for(let h=0;h<f;++h){const p=e[h],{[l]:v,[u]:m}=p,g=p._stacks||(p._stacks={});d=g[u]=ES(i,c,v),d[s]=m,d._top=Cm(d,o,!0,n.type),d._bottom=Cm(d,o,!1,n.type)}}function Zc(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function DS(r,e){return oa(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function AS(r,e,t){return oa(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function oo(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(!!n){e=e||r._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t]}}}const ef=r=>r==="reset"||r==="none",Om=(r,e)=>e?r:Object.assign({},r),PS=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:_1(t,!0),values:null};class Lo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_m(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&oo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(f,d,h,p)=>f==="x"?d:f==="r"?p:h,a=t.xAxisID=He(n.xAxisID,Zc(e,"x")),o=t.yAxisID=He(n.yAxisID,Zc(e,"y")),s=t.rAxisID=He(n.rAxisID,Zc(e,"r")),l=t.indexAxis,u=t.iAxisID=i(l,a,o,s),c=t.vAxisID=i(l,o,a,s);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&am(this._data,this),e._stacked&&oo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Le(t))this._data=SS(t);else if(n!==t){if(n){am(n,this);const i=this._cachedMeta;oo(i),i._parsed=[]}t&&Object.isExtensible(t)&&cC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=_m(t.vScale,t),t.stack!==n.stack&&(i=!0,oo(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&Sm(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,s=a.axis;let l=e===0&&t===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,d;if(this._parsing===!1)n._parsed=i,n._sorted=!0,d=i;else{nt(i[e])?d=this.parseArrayData(n,i,e,t):Le(i[e])?d=this.parseObjectData(n,i,e,t):d=this.parsePrimitiveData(n,i,e,t);const h=()=>f[s]===null||u&&f[s]<u[s];for(c=0;c<t;++c)n._parsed[c+e]=f=d[c],l&&(h()&&(l=!1),u=f);n._sorted=l}o&&Sm(this,d)}parsePrimitiveData(e,t,n,i){const{iScale:a,vScale:o}=e,s=a.axis,l=o.axis,u=a.getLabels(),c=a===o,f=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+n,f[d]={[s]:c||a.parse(u[p],p),[l]:o.parse(t[p],p)};return f}parseArrayData(e,t,n,i){const{xScale:a,yScale:o}=e,s=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+n,f=t[c],s[l]={x:a.parse(f[0],c),y:o.parse(f[1],c)};return s}parseObjectData(e,t,n,i){const{xScale:a,yScale:o}=e,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,d,h;for(c=0,f=i;c<f;++c)d=c+n,h=t[d],u[c]={x:a.parse(Yo(h,s),d),y:o.parse(Yo(h,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,a=this._cachedMeta,o=t[e.axis],s={keys:_1(i,!0),values:t._stacks[e.axis]};return Tm(s,o,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const a=n[t.axis];let o=a===null?NaN:a;const s=i&&n._stacks[t.axis];i&&s&&(i.values=s,o=Tm(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,o=i.length,s=this._getOtherScale(e),l=PS(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=MS(s);let d,h;function p(){h=i[d];const v=h[s.axis];return!xt(h[e.axis])||c>v||f<v}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(u,e,h,l),a));++d);if(a){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,h,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=t.length;i<a;++i)o=t[i][e.axis],xt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=CS(He(this.options.clip,_S(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||i.length-s,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,a,s,l),c=s;c<s+l;++c){const f=i[c];f.hidden||(f.active&&u?o.push(f):f.draw(e,a))}for(c=0;c<o.length;++c)o[c].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=AS(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=DS(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",a=this._cachedDataOpts,o=e+"-"+t,s=a[o],l=this.enableOptionSharing&&Ur(n);if(s)return Om(s,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),h=Object.keys(ct.elements[e]),p=()=>this.getContext(n,i),v=u.resolveNamedOptions(d,h,p,f);return v.$shared&&(v.$shared=l,a[o]=Object.freeze(Om(v,l))),v}_resolveAnimations(e,t,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${t}`,s=a[o];if(s)return s;let l;if(i.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,t),d=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(d,this.getContext(e,n,t))}const u=new T1(i,l&&l.animations);return l&&l._cacheable&&(a[o]=Object.freeze(u)),u}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ef(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:o}}updateElement(e,t,n,i){ef(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!ef(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,l,u]of this._syncList)this[s](l,u);this._syncList=[];const i=n.length,a=t.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){const i=this._cachedMeta,a=i.data,o=e+t;let s;const l=u=>{for(u.length+=t,s=u.length-1;s>=o;s--)u[s]=u[s-t]};for(l(a),s=e;s<o;++s)a[s]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&oo(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Oe(Lo,"defaults",{}),Oe(Lo,"datasetElementType",null),Oe(Lo,"dataElementType",null);function NS(r,e,t){let n=1,i=1,a=0,o=0;if(e<it){const s=r,l=s+e,u=Math.cos(s),c=Math.sin(s),f=Math.cos(l),d=Math.sin(l),h=(k,T,x)=>Jl(k,s,l,!0)?1:Math.max(T,T*t,x,x*t),p=(k,T,x)=>Jl(k,s,l,!0)?-1:Math.min(T,T*t,x,x*t),v=h(0,u,f),m=h(at,c,d),g=p(bt,u,f),b=p(bt+at,c,d);n=(v-g)/2,i=(m-b)/2,a=-(v+g)/2,o=-(m+b)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class _o extends Lo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=l=>+n[l];if(Le(n[e])){const{key:l="value"}=this._parsing;a=u=>+Yo(n[u],l)}let o,s;for(o=e,s=e+t;o<s;++o)i._parsed[o]=a(o)}}_getRotation(){return un(this.options.rotation-90)}_getCircumference(){return un(this.options.circumference)}_getRotationExtents(){let e=it,t=-it;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(J_(this.options.cutout,s),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:p,offsetY:v}=NS(f,c,l),m=(n.width-o)/d,g=(n.height-o)/h,b=Math.max(Math.min(m,g)/2,0),k=e1(this.options.radius,b),T=Math.max(k*l,0),x=(k-T)/this._getVisibleDatasetWeightTotal();this.offsetX=p*k,this.offsetY=v*k,i.total=this.calculateTotal(),this.outerRadius=k-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/it)}updateElements(e,t,n,i){const a=i==="reset",o=this.chart,s=o.chartArea,u=o.options.animation,c=(s.left+s.right)/2,f=(s.top+s.bottom)/2,d=a&&u.animateScale,h=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:v,includeOptions:m}=this._getSharedOptions(t,i);let g=this._getRotation(),b;for(b=0;b<t;++b)g+=this._circumference(b,a);for(b=t;b<t+n;++b){const k=this._circumference(b,a),T=e[b],x={x:c+this.offsetX,y:f+this.offsetY,startAngle:g,endAngle:g+k,circumference:k,outerRadius:p,innerRadius:h};m&&(x.options=v||this.resolveDataElementOptions(b,T.active?"active":i)),g+=k,this.updateElement(T,b,x,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?it*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=xc(t._parsed[e],n.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,a,o,s,l;if(!e){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,s=o.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)l=s.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(He(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Oe(_o,"id","doughnut"),Oe(_o,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Oe(_o,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),Oe(_o,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((a,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class hd extends _o{}Oe(hd,"id","pie"),Oe(hd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ti(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lp{static override(e){Object.assign(Lp.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return Ti()}parse(){return Ti()}format(){return Ti()}add(){return Ti()}diff(){return Ti()}startOf(){return Ti()}endOf(){return Ti()}}var RS={_date:Lp};function LS(r,e,t,n){const{controller:i,data:a,_sorted:o}=r,s=i._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&o&&a.length){const l=s._reversePixels?lC:cd;if(n){if(i._sharedOptions){const u=a[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const f=l(a,e,t-c),d=l(a,e,t+c);return{lo:f.lo,hi:d.hi}}}}else return l(a,e,t)}return{lo:0,hi:a.length-1}}function as(r,e,t,n,i){const a=r.getSortedVisibleDatasetMetas(),o=t[e];for(let s=0,l=a.length;s<l;++s){const{index:u,data:c}=a[s],{lo:f,hi:d}=LS(a[s],e,o,i);for(let h=f;h<=d;++h){const p=c[h];p.skip||n(p,u,h)}}}function IS(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,o=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function tf(r,e,t,n,i){const a=[];return!i&&!r.isPointInArea(e)||as(r,t,e,function(s,l,u){!i&&!v1(s,r.chartArea,0)||s.inRange(e.x,e.y,n)&&a.push({element:s,datasetIndex:l,index:u})},!0),a}function $S(r,e,t,n){let i=[];function a(o,s,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],n),{angle:f}=n1(o,{x:e.x,y:e.y});Jl(f,u,c)&&i.push({element:o,datasetIndex:s,index:l})}return as(r,t,e,a),i}function BS(r,e,t,n,i,a){let o=[];const s=IS(t);let l=Number.POSITIVE_INFINITY;function u(c,f,d){const h=c.inRange(e.x,e.y,i);if(n&&!h)return;const p=c.getCenterPoint(i);if(!(!!a||r.isPointInArea(p))&&!h)return;const m=s(e,p);m<l?(o=[{element:c,datasetIndex:f,index:d}],l=m):m===l&&o.push({element:c,datasetIndex:f,index:d})}return as(r,t,e,u),o}function rf(r,e,t,n,i,a){return!a&&!r.isPointInArea(e)?[]:t==="r"&&!n?$S(r,e,t,i):BS(r,e,t,n,i,a)}function Mm(r,e,t,n,i){const a=[],o=t==="x"?"inXRange":"inYRange";let s=!1;return as(r,t,e,(l,u,c)=>{l[o](e[t],i)&&(a.push({element:l,datasetIndex:u,index:c}),s=s||l.inRange(e.x,e.y,i))}),n&&!s?[]:a}var HS={evaluateInteractionItems:as,modes:{index(r,e,t,n){const i=Di(e,r),a=t.axis||"x",o=t.includeInvisible||!1,s=t.intersect?tf(r,i,a,n,o):rf(r,i,a,!1,n,o),l=[];return s.length?(r.getSortedVisibleDatasetMetas().forEach(u=>{const c=s[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(r,e,t,n){const i=Di(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;let s=t.intersect?tf(r,i,a,n,o):rf(r,i,a,!1,n,o);if(s.length>0){const l=s[0].datasetIndex,u=r.getDatasetMeta(l).data;s=[];for(let c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:l,index:c})}return s},point(r,e,t,n){const i=Di(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return tf(r,i,a,n,o)},nearest(r,e,t,n){const i=Di(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return rf(r,i,a,t.intersect,n,o)},x(r,e,t,n){const i=Di(e,r);return Mm(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=Di(e,r);return Mm(r,i,"y",t.intersect,n)}}};const C1=["left","top","right","bottom"];function so(r,e){return r.filter(t=>t.pos===e)}function Em(r,e){return r.filter(t=>C1.indexOf(t.pos)===-1&&t.box.axis===e)}function lo(r,e){return r.sort((t,n)=>{const i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function FS(r){const e=[];let t,n,i,a,o,s;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:o,stackWeight:s=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:s});return e}function zS(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:a}=t;if(!n||!C1.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function VS(r,e){const t=zS(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,o,s;for(a=0,o=r.length;a<o;++a){s=r[a];const{fullSize:l}=s.box,u=t[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*n:l&&e.availableWidth,s.height=i):(s.width=n,s.height=c?c*i:l&&e.availableHeight)}return t}function qS(r){const e=FS(r),t=lo(e.filter(u=>u.box.fullSize),!0),n=lo(so(e,"left"),!0),i=lo(so(e,"right")),a=lo(so(e,"top"),!0),o=lo(so(e,"bottom")),s=Em(e,"x"),l=Em(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(o).concat(s),chartArea:so(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(o).concat(s)}}function Dm(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function S1(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function US(r,e,t,n){const{pos:i,box:a}=t,o=r.maxPadding;if(!Le(i)){t.size&&(r[i]-=t.size);const f=n[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?a.height:a.width),t.size=f.size/f.count,r[i]+=t.size}a.getPadding&&S1(o,a.getPadding());const s=Math.max(0,e.outerWidth-Dm(o,r,"left","right")),l=Math.max(0,e.outerHeight-Dm(o,r,"top","bottom")),u=s!==r.w,c=l!==r.h;return r.w=s,r.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function WS(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function jS(r,e){const t=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return n(r?["left","right"]:["top","bottom"])}function Co(r,e,t,n){const i=[];let a,o,s,l,u,c;for(a=0,o=r.length,u=0;a<o;++a){s=r[a],l=s.box,l.update(s.width||e.w,s.height||e.h,jS(s.horizontal,e));const{same:f,other:d}=US(e,t,s,n);u|=f&&i.length,c=c||d,l.fullSize||i.push(s)}return u&&Co(i,e,t,n)||c}function ws(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function Am(r,e,t,n){const i=t.padding;let{x:a,y:o}=e;for(const s of r){const l=s.box,u=n[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){const f=e.w*c,d=u.size||l.height;Ur(u.start)&&(o=u.start),l.fullSize?ws(l,i.left,o,t.outerWidth-i.right-i.left,d):ws(l,e.left+u.placed,o,f,d),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*c,d=u.size||l.width;Ur(u.start)&&(a=u.start),l.fullSize?ws(l,a,i.top,d,t.outerHeight-i.bottom-i.top):ws(l,a,e.top+u.placed,d,f),u.start=a,u.placed+=f,a=l.right}}e.x=a,e.y=o}var ei={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=rr(r.options.layout.padding),a=Math.max(e-i.width,0),o=Math.max(t-i.height,0),s=qS(r.boxes),l=s.vertical,u=s.horizontal;Ve(r.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const c=l.reduce((v,m)=>m.box.options&&m.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);S1(d,rr(n));const h=Object.assign({maxPadding:d,w:a,h:o,x:i.left,y:i.top},i),p=VS(l.concat(u),f);Co(s.fullSize,h,f,p),Co(l,h,f,p),Co(u,h,f,p)&&Co(l,h,f,p),WS(h),Am(s.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,Am(s.rightAndBottom,h,f,p),r.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ve(s.chartArea,v=>{const m=v.box;Object.assign(m,r.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class O1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class YS extends O1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ys="$chartjs",GS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pm=r=>r===null||r==="";function KS(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[Ys]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Pm(i)){const a=wm(r,"width");a!==void 0&&(r.width=a)}if(Pm(n))if(r.style.height==="")r.height=r.width/(e||2);else{const a=wm(r,"height");a!==void 0&&(r.height=a)}return r}const M1=mS?{passive:!0}:!1;function XS(r,e,t){r.addEventListener(e,t,M1)}function JS(r,e,t){r.canvas.removeEventListener(e,t,M1)}function QS(r,e){const t=GS[r.type]||r.type,{x:n,y:i}=Di(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function ru(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function ZS(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||ru(s.addedNodes,n),o=o&&!ru(s.removedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function eO(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||ru(s.removedNodes,n),o=o&&!ru(s.addedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Go=new Map;let Nm=0;function E1(){const r=window.devicePixelRatio;r!==Nm&&(Nm=r,Go.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function tO(r,e){Go.size||window.addEventListener("resize",E1),Go.set(r,e)}function rO(r){Go.delete(r),Go.size||window.removeEventListener("resize",E1)}function nO(r,e,t){const n=r.canvas,i=n&&Rp(n);if(!i)return;const a=o1((s,l)=>{const u=i.clientWidth;t(s,l),u<i.clientWidth&&t()},window),o=new ResizeObserver(s=>{const l=s[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||a(u,c)});return o.observe(i),tO(r,a),o}function nf(r,e,t){t&&t.disconnect(),e==="resize"&&rO(r)}function iO(r,e,t){const n=r.canvas,i=o1(a=>{r.ctx!==null&&t(QS(a,r))},r);return XS(n,e,i),i}class aO extends O1{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(KS(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Ys])return!1;const n=t[Ys].initial;["height","width"].forEach(a=>{const o=n[a];Ze(o)?t.removeAttribute(a):t.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[Ys],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:ZS,detach:eO,resize:nO}[t]||iO;i[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:nf,detach:nf,resize:nf}[t]||JS)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return vS(e,t,n,i)}isAttached(e){const t=Rp(e);return!!(t&&t.isConnected)}}function oO(r){return!w1()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?YS:aO}class Yi{constructor(){Oe(this,"active",!1)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Xl(this.x)&&Xl(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}Oe(Yi,"defaults",{}),Oe(Yi,"defaultRoutes");function sO(r,e){const t=r.options.ticks,n=lO(r),i=Math.min(t.maxTicksLimit||n,n),a=t.major.enabled?cO(e):[],o=a.length,s=a[0],l=a[o-1],u=[];if(o>i)return fO(e,u,a,o/i),u;const c=uO(a,e,i);if(o>0){let f,d;const h=o>1?Math.round((l-s)/(o-1)):null;for(ks(e,u,c,Ze(h)?0:s-h,s),f=0,d=o-1;f<d;f++)ks(e,u,c,a[f],a[f+1]);return ks(e,u,c,l,Ze(h)?e.length:l+h),u}return ks(e,u,c),u}function lO(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function uO(r,e,t){const n=dO(r),i=e.length/t;if(!n)return Math.max(i,1);const a=iC(n);for(let o=0,s=a.length-1;o<s;o++){const l=a[o];if(l>i)return l}return Math.max(i,1)}function cO(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function fO(r,e,t,n){let i=0,a=t[0],o;for(n=Math.ceil(n),o=0;o<r.length;o++)o===a&&(e.push(r[o]),i++,a=t[i*n])}function ks(r,e,t,n,i){const a=He(n,0),o=Math.min(He(i,r.length),r.length);let s=0,l,u,c;for(t=Math.ceil(t),i&&(l=i-n,t=l/Math.floor(l/t)),c=a;c<0;)s++,c=Math.round(a+s*t);for(u=Math.max(a,0);u<o;u++)u===c&&(e.push(r[u]),s++,c=Math.round(a+s*t))}function dO(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const hO=r=>r==="left"?"right":r==="right"?"left":r,Rm=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t;function Lm(r,e){const t=[],n=r.length/e,i=r.length;let a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function pO(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,o=r._endPixel,s=1e-6;let l=r.getPixelForTick(i),u;if(!(t&&(n===1?u=Math.max(l-a,o-l):e===0?u=(r.getPixelForTick(1)-l)/2:u=(l-r.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<a-s||l>o+s)))return l}function vO(r,e){Ve(r,t=>{const n=t.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function uo(r){return r.drawTicks?r.tickLength:0}function Im(r,e){if(!r.display)return 0;const t=Rt(r.font,e),n=rr(r.padding);return(nt(r.text)?r.text.length:1)*t.lineHeight+n.height}function mO(r,e){return oa(r,{scale:e,type:"scale"})}function gO(r,e,t){return oa(r,{tick:t,index:e,type:"tick"})}function yO(r,e,t){let n=s1(r);return(t&&e!=="right"||!t&&e==="right")&&(n=hO(n)),n}function bO(r,e,t,n){const{top:i,left:a,bottom:o,right:s,chart:l}=r,{chartArea:u,scales:c}=l;let f=0,d,h,p;const v=o-i,m=s-a;if(r.isHorizontal()){if(h=gr(n,a,s),Le(t)){const g=Object.keys(t)[0],b=t[g];p=c[g].getPixelForValue(b)+v-e}else t==="center"?p=(u.bottom+u.top)/2+v-e:p=Rm(r,t,e);d=s-a}else{if(Le(t)){const g=Object.keys(t)[0],b=t[g];h=c[g].getPixelForValue(b)-m+e}else t==="center"?h=(u.left+u.right)/2-m+e:h=Rm(r,t,e);p=gr(n,o,i),f=t==="left"?-at:at}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}class ro extends Yi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=yr(e,Number.POSITIVE_INFINITY),t=yr(t,Number.NEGATIVE_INFINITY),n=yr(n,Number.POSITIVE_INFINITY),i=yr(i,Number.NEGATIVE_INFINITY),{min:yr(e,n),max:yr(t,i),minDefined:xt(e),maxDefined:xt(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:t,max:n};const s=this.getMatchingVisibleMetas();for(let l=0,u=s.length;l<u;++l)o=s[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),a||(n=Math.max(n,o.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:yr(t,yr(n,t)),max:yr(n,yr(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eS(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=s<this.ticks.length;this._convertTicksToLabels(l?Lm(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=sO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=je(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,a=t.maxRotation;let o=i,s,l,u;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,h=Ar(this.chart.width-f,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),f+6>s&&(s=h/(n-(e.offset?.5:1)),l=this.maxHeight-uo(e.grid)-t.padding-Im(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),o=Tp(Math.min(Math.asin(Ar((c.highest.height+6)/s,-1,1)),Math.asin(Ar(l/u,-1,1))-Math.asin(Ar(d/u,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const l=Im(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=uo(a)+l):(e.height=this.maxHeight,e.width=uo(a)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),h=n.padding*2,p=un(this.labelRotation),v=Math.cos(p),m=Math.sin(p);if(s){const g=n.mirror?0:m*f.width+v*d.height;e.height=Math.min(this.maxHeight,e.height+g+h)}else{const g=n.mirror?0:v*f.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+g+h)}this._calculatePadding(u,c,m,v)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:a,padding:o},position:s}=this.options,l=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;l?u?(d=i*e.width,h=n*t.height):(d=n*e.height,h=i*t.width):a==="start"?h=t.width:a==="end"?d=e.width:a!=="inner"&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-f+o)*this.width/(this.width-f),0)}else{let c=t.height/2,f=e.height/2;a==="start"?(c=0,f=e.height):a==="end"&&(c=t.height,f=0),this.paddingTop=c+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Ze(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Lm(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:i}=this,a=[],o=[];let s=0,l=0,u,c,f,d,h,p,v,m,g,b,k;for(u=0;u<t;++u){if(d=e[u].label,h=this._resolveTickFontOptions(u),n.font=p=h.string,v=i[p]=i[p]||{data:{},gc:[]},m=h.lineHeight,g=b=0,!Ze(d)&&!nt(d))g=Zl(n,v.data,v.gc,g,d),b=m;else if(nt(d))for(c=0,f=d.length;c<f;++c)k=d[c],!Ze(k)&&!nt(k)&&(g=Zl(n,v.data,v.gc,g,k),b+=m);a.push(g),o.push(b),s=Math.max(g,s),l=Math.max(b,l)}vO(i,t);const T=a.indexOf(s),x=o.indexOf(l),w=_=>({width:a[_]||0,height:o[_]||0});return{first:w(0),last:w(t-1),widest:w(T),highest:w(x),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return sC(this._alignToPixels?xi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=gO(this.getContext(),e,n))}return this.$context||(this.$context=mO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=un(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,s=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*n>s*i?s/n:l/i:l*i<s*n?l/n:s/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:s}=i,l=a.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=uo(a),h=[],p=s.setContext(this.getContext()),v=p.display?p.width:0,m=v/2,g=function($){return xi(n,$,v)};let b,k,T,x,w,_,C,H,V,N,U,R;if(o==="top")b=g(this.bottom),_=this.bottom-d,H=b-m,N=g(e.top)+m,R=e.bottom;else if(o==="bottom")b=g(this.top),N=e.top,R=g(e.bottom)-m,_=b+m,H=this.top+d;else if(o==="left")b=g(this.right),w=this.right-d,C=b-m,V=g(e.left)+m,U=e.right;else if(o==="right")b=g(this.left),V=e.left,U=g(e.right)-m,w=b+m,C=this.left+d;else if(t==="x"){if(o==="center")b=g((e.top+e.bottom)/2+.5);else if(Le(o)){const $=Object.keys(o)[0],y=o[$];b=g(this.chart.scales[$].getPixelForValue(y))}N=e.top,R=e.bottom,_=b+m,H=_+d}else if(t==="y"){if(o==="center")b=g((e.left+e.right)/2);else if(Le(o)){const $=Object.keys(o)[0],y=o[$];b=g(this.chart.scales[$].getPixelForValue(y))}w=b-m,C=w-d,V=e.left,U=e.right}const S=He(i.ticks.maxTicksLimit,f),L=Math.max(1,Math.ceil(f/S));for(k=0;k<f;k+=L){const $=this.getContext(k),y=a.setContext($),A=s.setContext($),B=y.lineWidth,K=y.color,Q=A.dash||[],D=A.dashOffset,P=y.tickWidth,q=y.tickColor,pe=y.tickBorderDash||[],ke=y.tickBorderDashOffset;T=pO(this,k,l),T!==void 0&&(x=xi(n,T,B),u?w=C=V=U=x:_=H=N=R=x,h.push({tx1:w,ty1:_,tx2:C,ty2:H,x1:V,y1:N,x2:U,y2:R,width:B,color:K,borderDash:Q,borderDashOffset:D,tickWidth:P,tickColor:q,tickBorderDash:pe,tickBorderDashOffset:ke}))}return this._ticksLength=f,this._borderValue=b,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=a,d=uo(n.grid),h=d+c,p=f?-c:h,v=-un(this.labelRotation),m=[];let g,b,k,T,x,w,_,C,H,V,N,U,R="middle";if(i==="top")w=this.bottom-p,_=this._getXAxisLabelAlignment();else if(i==="bottom")w=this.top+p,_=this._getXAxisLabelAlignment();else if(i==="left"){const L=this._getYAxisLabelAlignment(d);_=L.textAlign,x=L.x}else if(i==="right"){const L=this._getYAxisLabelAlignment(d);_=L.textAlign,x=L.x}else if(t==="x"){if(i==="center")w=(e.top+e.bottom)/2+h;else if(Le(i)){const L=Object.keys(i)[0],$=i[L];w=this.chart.scales[L].getPixelForValue($)+h}_=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")x=(e.left+e.right)/2-h;else if(Le(i)){const L=Object.keys(i)[0],$=i[L];x=this.chart.scales[L].getPixelForValue($)}_=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const S=this._getLabelSizes();for(g=0,b=s.length;g<b;++g){k=s[g],T=k.label;const L=a.setContext(this.getContext(g));C=this.getPixelForTick(g)+a.labelOffset,H=this._resolveTickFontOptions(g),V=H.lineHeight,N=nt(T)?T.length:1;const $=N/2,y=L.color,A=L.textStrokeColor,B=L.textStrokeWidth;let K=_;o?(x=C,_==="inner"&&(g===b-1?K=this.options.reverse?"left":"right":g===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?u==="near"||v!==0?U=-N*V+V/2:u==="center"?U=-S.highest.height/2-$*V+V:U=-S.highest.height+V/2:u==="near"||v!==0?U=V/2:u==="center"?U=S.highest.height/2-$*V:U=S.highest.height-N*V,f&&(U*=-1),v!==0&&!L.showLabelBackdrop&&(x+=V/2*Math.sin(v))):(w=C,U=(1-N)*V/2);let Q;if(L.showLabelBackdrop){const D=rr(L.backdropPadding),P=S.heights[g],q=S.widths[g];let pe=U-D.top,ke=0-D.left;switch(R){case"middle":pe-=P/2;break;case"bottom":pe-=P;break}switch(_){case"center":ke-=q/2;break;case"right":ke-=q;break}Q={left:ke,top:pe,width:q+D.width,height:P+D.height,color:L.backdropColor}}m.push({rotation:v,label:T,font:H,color:y,strokeColor:A,strokeWidth:B,textOffset:U,textAlign:K,textBaseline:R,translation:[x,w],backdrop:Q})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-un(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),s=e+a,l=o.widest.width;let u,c;return t==="left"?i?(c=this.right+a,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-s,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?i?(c=this.left+a,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+s,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const s=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(a=0,o=i.length;a<o;++a){const l=i[a];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const s=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,d;this.isHorizontal()?(u=xi(e,this.left,o)-o/2,c=xi(e,this.right,s)+s/2,f=d=l):(f=xi(e,this.top,o)-o/2,d=xi(e,this.bottom,s)+s/2,u=c=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(u,f),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Mp(n,i);const a=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,s;for(o=0,s=a.length;o<s;++o){const l=a[o],u=l.font,c=l.label;let f=l.textOffset;Ra(n,c,0,f,u,l)}i&&Ep(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const a=Rt(n.font),o=rr(n.padding),s=n.align;let l=a.lineHeight/2;t==="bottom"||t==="center"||Le(t)?(l+=o.bottom,nt(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=bO(this,l,t,s);Ra(e,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:d,textAlign:yO(s,t,i),textBaseline:"middle",translation:[u,c]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=He(e.grid&&e.grid.z,-1),i=He(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ro.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=t.length;a<o;++a){const s=t[a];s[n]===this.id&&(!e||s.type===e)&&i.push(s)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Rt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class xs{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;xO(t)&&(n=this.register(t));const i=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,wO(e,o,n),this.override&&ct.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in ct[i]&&(delete ct[i][n],this.override&&delete ji[n])}}function wO(r,e,t){const n=jo(Object.create(null),[t?ct.get(t):{},ct.get(e),r.defaults]);ct.set(e,n),r.defaultRoutes&&kO(e,r.defaultRoutes),r.descriptors&&ct.describe(e,r.descriptors)}function kO(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),o=e[t].split("."),s=o.pop(),l=o.join(".");ct.route(a,i,l,s)})}function xO(r){return"id"in r&&"defaults"in r}class TO{constructor(){this.controllers=new xs(Lo,"datasets",!0),this.elements=new xs(Yi,"elements"),this.plugins=new xs(Object,"plugins"),this.scales=new xs(ro,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Ve(i,o=>{const s=n||this._getRegistryForType(o);this._exec(e,s,o)})})}_exec(e,t,n){const i=xp(e);je(n["before"+i],[],n),t[e](n),je(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var rn=new TO;class _O{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const a of e){const o=a.plugin,s=o[n],l=[t,i,a.options];if(je(s,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=He(n.options&&n.options.plugins,{}),a=CO(n);return i===!1&&!t?[]:OO(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function CO(r){const e={},t=[],n=Object.keys(rn.plugins.items);for(let a=0;a<n.length;a++)t.push(rn.getPlugin(n[a]));const i=r.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function SO(r,e){return!e&&r===!1?null:r===!0?{}:r}function OO(r,{plugins:e,localIds:t},n,i){const a=[],o=r.getContext();for(const s of e){const l=s.id,u=SO(n[l],i);u!==null&&a.push({plugin:s,options:MO(r.config,{plugin:s,local:t[l]},u,o)})}return a}function MO(r,{plugin:e,local:t},n,i){const a=r.pluginScopeKeys(e),o=r.getOptionScopes(n,a);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pd(r,e){const t=ct.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function EO(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function DO(r,e){return r===e?"_index_":"_value_"}function AO(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function nu(r,e){if(r==="x"||r==="y"||r==="r"||(r=e.axis||AO(e.position)||r.length>1&&nu(r[0].toLowerCase(),e),r))return r;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function PO(r,e){const t=ji[r.type]||{scales:{}},n=e.scales||{},i=pd(r.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{const s=n[o];if(!Le(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=nu(o,s),u=DO(l,i),c=t.scales||{};a[o]=No(Object.create(null),[{axis:l},s,c[l],c[u]])}),r.data.datasets.forEach(o=>{const s=o.type||r.type,l=o.indexAxis||pd(s,e),c=(ji[s]||{}).scales||{};Object.keys(c).forEach(f=>{const d=EO(f,l),h=o[d+"AxisID"]||d;a[h]=a[h]||Object.create(null),No(a[h],[{axis:d},n[h],c[f]])})}),Object.keys(a).forEach(o=>{const s=a[o];No(s,[ct.scales[s.type],ct.scale])}),a}function D1(r){const e=r.options||(r.options={});e.plugins=He(e.plugins,{}),e.scales=PO(r,e)}function A1(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function NO(r){return r=r||{},r.data=A1(r.data),D1(r),r}const $m=new Map,P1=new Set;function Ts(r,e){let t=$m.get(r);return t||(t=e(),$m.set(r,t),P1.add(t)),t}const co=(r,e,t)=>{const n=Yo(e,t);n!==void 0&&r.add(n)};class RO{constructor(e){this._config=NO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=A1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),D1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ts(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ts(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ts(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Ts(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:a}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;const l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(f=>co(l,e,f))),c.forEach(f=>co(l,i,f)),c.forEach(f=>co(l,ji[a]||{},f)),c.forEach(f=>co(l,ct,f)),c.forEach(f=>co(l,dd,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),P1.has(t)&&o.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,ji[t]||{},ct.datasets[t]||{},{type:t},ct,dd]}resolveNamedOptions(e,t,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:s}=Bm(this._resolverCache,e,i);let l=o;if(IO(o,t)){a.$shared=!1,n=ci(n)?n():n;const u=this.createResolver(e,n,s);l=La(o,n,u)}for(const u of t)a[u]=l[u];return a}createResolver(e,t,n=[""],i){const{resolver:a}=Bm(this._resolverCache,e,n);return Le(t)?La(a,t,void 0,i):a}}function Bm(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let a=n.get(i);return a||(a={resolver:Ap(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},n.set(i,a)),a}const LO=r=>Le(r)&&Object.getOwnPropertyNames(r).reduce((e,t)=>e||ci(r[t]),!1);function IO(r,e){const{isScriptable:t,isIndexable:n}=m1(r);for(const i of e){const a=t(i),o=n(i),s=(o||a)&&r[i];if(a&&(ci(s)||LO(s))||o&&nt(s))return!0}return!1}var $O="4.0.1";const BO=["top","bottom","left","right","chartArea"];function Hm(r,e){return r==="top"||r==="bottom"||BO.indexOf(r)===-1&&e==="x"}function Fm(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function zm(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),je(t&&t.onComplete,[r],e)}function HO(r){const e=r.chart,t=e.options.animation;je(t&&t.onProgress,[r],e)}function N1(r){return w1()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Gs={},Vm=r=>{const e=N1(r);return Object.values(Gs).filter(t=>t.canvas===e).pop()};function FO(r,e,t){const n=Object.keys(r);for(const i of n){const a=+i;if(a>=e){const o=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=o)}}}function zO(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}function VO(r){const{xScale:e,yScale:t}=r;if(e&&t)return{left:e.left,right:e.right,top:t.top,bottom:t.bottom}}class Gn{static register(...e){rn.add(...e),qm()}static unregister(...e){rn.remove(...e),qm()}constructor(e,t){const n=this.config=new RO(t),i=N1(e),a=Vm(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||oO(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,o.aspectRatio),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;if(this.id=X_(),this.ctx=s,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _O,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dC(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Gs[this.id]=this,!s||!l){console.error("Failed to create chart: can't acquire context from the given item");return}_n.listen(this,"complete",zm),_n.listen(this,"progress",HO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return Ze(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vm(this.canvas,this.ctx),this}stop(){return _n.stop(this),this}resize(e,t){_n.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,a),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,bm(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),je(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ve(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((o,s)=>(o[s]=!1,o),{});let a=[];t&&(a=a.concat(Object.keys(t).map(o=>{const s=t[o],l=nu(o,s),u=l==="r",c=l==="x";return{options:s,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Ve(a,o=>{const s=o.options,l=s.id,u=nu(l,s),c=He(s.type,o.dtype);(s.position===void 0||Hm(s.position,u)!==Hm(o.dposition))&&(s.position=o.dposition),i[l]=!0;let f=null;if(l in n&&n[l].type===c)f=n[l];else{const d=rn.getScale(c);f=new d({id:l,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(s,e)}),Ve(i,(o,s)=>{o||delete n[s]}),Ve(n,o=>{ei.configure(this,o,o.options),ei.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Fm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const a=t[n];let o=this.getDatasetMeta(n);const s=a.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=s,o.indexAxis=a.indexAxis||pd(s,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=rn.getController(s),{datasetElementType:u,dataElementType:c}=ct.datasets[s];Object.assign(l,{dataElementType:rn.getElement(c),datasetElementType:u&&rn.getElement(u)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ve(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(d),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Ve(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fm("z","_idx"));const{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Ve(this.scales,e=>{ei.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!tm(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of t){const o=n==="_removeElements"?-a:a;FO(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=a=>new Set(e.filter(o=>o[0]===a).map((o,s)=>s+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!tm(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ei.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ve(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ci(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_n.has(this)?this.attached&&!_n.running(this)&&_n.start(this):(this.draw(),zm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,a;for(i=0,a=t.length;i<a;++i){const o=t[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,a=VO(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Mp(t,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&Ep(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return v1(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const a=HS.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=oa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,i);Ur(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update(s=>s.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_n.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vm(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Gs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(a,o)=>{t.addEventListener(this,a,o),e[a]=o},i=(a,o,s)=>{a.offsetX=o,a.offsetY=s,this._eventHandler(a)};Ve(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){Ve(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ve(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let a,o,s,l;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),s=0,l=e.length;s<l;++s){o=e[s];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:a,index:o})=>{const s=this.getDatasetMeta(a);if(!s)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:s.data[o],index:o}});!jl(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,a=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),o=a(t,e),s=n?e:a(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:a}=this,o=t,s=this._getActiveElements(e,i,n,o),l=rC(e),u=zO(e,this._lastEvent,n,l);n&&(this._lastEvent=null,je(a.onHover,[e,s,this],this),l&&je(a.onClick,[e,s,this],this));const c=!jl(s,i);return(c||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=u,c}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}}Oe(Gn,"defaults",ct),Oe(Gn,"instances",Gs),Oe(Gn,"overrides",ji),Oe(Gn,"registry",rn),Oe(Gn,"version",$O),Oe(Gn,"getChart",Vm);function qm(){return Ve(Gn.instances,r=>r._plugins.invalidate())}var Ip=Gn;function qO(r,e,t){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:s,innerRadius:l}=e;let u=i/s;r.beginPath(),r.arc(a,o,s,n-u,t+u),l>i?(u=i/l,r.arc(a,o,l,t+u,n-u,!0)):r.arc(a,o,i,t+at,n-at),r.closePath(),r.clip()}function UO(r){return Dp(r,["outerStart","outerEnd","innerStart","innerEnd"])}function WO(r,e,t,n){const i=UO(r.options.borderRadius),a=(t-e)/2,o=Math.min(a,n*e/2),s=l=>{const u=(t-Math.min(a,l))*n/2;return Ar(l,0,Math.min(a,u))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Ar(i.innerStart,0,o),innerEnd:Ar(i.innerEnd,0,o)}}function da(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function iu(r,e,t,n,i,a){const{x:o,y:s,startAngle:l,pixelMargin:u,innerRadius:c}=e,f=Math.max(e.outerRadius+n+t-u,0),d=c>0?c+n+t+u:0;let h=0;const p=i-l;if(n){const L=c>0?c-n:0,$=f>0?f-n:0,y=(L+$)/2,A=y!==0?p*y/(y+n):p;h=(p-A)/2}const v=Math.max(.001,p*f-t/bt)/f,m=(p-v)/2,g=l+m+h,b=i-m-h,{outerStart:k,outerEnd:T,innerStart:x,innerEnd:w}=WO(e,d,f,b-g),_=f-k,C=f-T,H=g+k/_,V=b-T/C,N=d+x,U=d+w,R=g+x/N,S=b-w/U;if(r.beginPath(),a){const L=(H+V)/2;if(r.arc(o,s,f,H,L),r.arc(o,s,f,L,V),T>0){const B=da(C,V,o,s);r.arc(B.x,B.y,T,V,b+at)}const $=da(U,b,o,s);if(r.lineTo($.x,$.y),w>0){const B=da(U,S,o,s);r.arc(B.x,B.y,w,b+at,S+Math.PI)}const y=(b-w/d+(g+x/d))/2;if(r.arc(o,s,d,b-w/d,y,!0),r.arc(o,s,d,y,g+x/d,!0),x>0){const B=da(N,R,o,s);r.arc(B.x,B.y,x,R+Math.PI,g-at)}const A=da(_,g,o,s);if(r.lineTo(A.x,A.y),k>0){const B=da(_,H,o,s);r.arc(B.x,B.y,k,g-at,H)}}else{r.moveTo(o,s);const L=Math.cos(H)*f+o,$=Math.sin(H)*f+s;r.lineTo(L,$);const y=Math.cos(V)*f+o,A=Math.sin(V)*f+s;r.lineTo(y,A)}r.closePath()}function jO(r,e,t,n,i){const{fullCircles:a,startAngle:o,circumference:s}=e;let l=e.endAngle;if(a){iu(r,e,t,n,l,i);for(let u=0;u<a;++u)r.fill();isNaN(s)||(l=o+(s%it||it))}return iu(r,e,t,n,l,i),r.fill(),l}function YO(r,e,t,n,i){const{fullCircles:a,startAngle:o,circumference:s,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,f=l.borderAlign==="inner";if(!u)return;f?(r.lineWidth=u*2,r.lineJoin=c||"round"):(r.lineWidth=u,r.lineJoin=c||"bevel");let d=e.endAngle;if(a){iu(r,e,t,n,d,i);for(let h=0;h<a;++h)r.stroke();isNaN(s)||(d=o+(s%it||it))}f&&qO(r,e,d),a||(iu(r,e,t,n,d,i),r.stroke())}class Ks extends Yi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:a,distance:o}=n1(i,{x:e,y:t}),{startAngle:s,endAngle:l,innerRadius:u,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,p=He(f,l-s)>=it||Jl(a,s,l),v=xo(o,u+d,c+d);return p&&v}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:a,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:u}=this.options,c=(i+a)/2,f=(o+s+u+l)/2;return{x:t+Math.cos(c)*f,y:n+Math.sin(c)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,a=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>it?Math.floor(n/it):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*i,Math.sin(s)*i);const l=1-Math.sin(Math.min(bt,n||0)),u=i*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,jO(e,this,u,a,o),YO(e,this,u,a,o),e.restore()}}Oe(Ks,"id","arc"),Oe(Ks,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Oe(Ks,"defaultRoutes",{backgroundColor:"backgroundColor"});const Um=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},GO=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Wm extends Yi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=je(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Rt(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=Um(n,a);let u,c;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,a,s,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,s,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+s;let f=e;a.textAlign="left",a.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((p,v)=>{const m=n+t/2+a.measureText(p.text).width;(v===0||u[u.length-1]+m+2*s>o)&&(f+=c,u[u.length-(v>0?0:1)]=0,h+=c,d++),l[v]={left:0,top:h,row:d,width:m,height:i},u[u.length-1]+=m+s}),f}_fitCols(e,t,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let f=s,d=0,h=0,p=0,v=0;return this.legendItems.forEach((m,g)=>{const{itemWidth:b,itemHeight:k}=KO(n,t,a,m,i);g>0&&h+k+2*s>c&&(f+=d+s,u.push({width:d,height:h}),p+=d+s,v++,d=h=0),l[g]={left:p,top:h,col:v,width:b,height:k},d=Math.max(d,b),h+=k+s}),f+=d,u.push({width:d,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,o=Ma(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=gr(n,this.left+i,this.right-this.lineWidths[s]);for(const u of t)s!==u.row&&(s=u.row,l=gr(n,this.left+i,this.right-this.lineWidths[s])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let s=0,l=gr(n,this.top+e+i,this.bottom-this.columnSizes[s].height);for(const u of t)u.col!==s&&(s=u.col,l=gr(n,this.top+e+i,this.bottom-this.columnSizes[s].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Mp(e,this),this._draw(),Ep(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:o}=e,s=ct.color,l=Ma(e.rtl,this.left,this.width),u=Rt(o.font),{padding:c}=o,f=u.size,d=f/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:v,itemHeight:m}=Um(o,f),g=function(w,_,C){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const H=He(C.lineWidth,1);if(i.fillStyle=He(C.fillStyle,s),i.lineCap=He(C.lineCap,"butt"),i.lineDashOffset=He(C.lineDashOffset,0),i.lineJoin=He(C.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=He(C.strokeStyle,s),i.setLineDash(He(C.lineDash,[])),o.usePointStyle){const V={radius:v*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:H},N=l.xPlus(w,p/2),U=_+d;p1(i,V,N,U,o.pointStyleWidth&&p)}else{const V=_+Math.max((f-v)/2,0),N=l.leftForLtr(w,p),U=Oa(C.borderRadius);i.beginPath(),Object.values(U).some(R=>R!==0)?eu(i,{x:N,y:V,w:p,h:v,radius:U}):i.rect(N,V,p,v),i.fill(),H!==0&&i.stroke()}i.restore()},b=function(w,_,C){Ra(i,C.text,w,_+m/2,u,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},k=this.isHorizontal(),T=this._computeTitleHeight();k?h={x:gr(a,this.left+c,this.right-n[0]),y:this.top+c+T,line:0}:h={x:this.left+c,y:gr(a,this.top+T+c,this.bottom-t[0].height),line:0},k1(this.ctx,e.textDirection);const x=m+c;this.legendItems.forEach((w,_)=>{i.strokeStyle=w.fontColor,i.fillStyle=w.fontColor;const C=i.measureText(w.text).width,H=l.textAlign(w.textAlign||(w.textAlign=o.textAlign)),V=p+d+C;let N=h.x,U=h.y;l.setWidth(this.width),k?_>0&&N+V+c>this.right&&(U=h.y+=x,h.line++,N=h.x=gr(a,this.left+c,this.right-n[h.line])):_>0&&U+x>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,U=h.y=gr(a,this.top+T+c,this.bottom-t[h.line].height));const R=l.x(N);if(g(R,U,w),N=hC(H,N+p+d,k?N+V:this.right,e.rtl),b(l.x(N),U,w),k)h.x+=V+c;else if(typeof w.text!="string"){const S=u.lineHeight;h.y+=R1(w,S)}else h.y+=x}),x1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Rt(t.font),i=rr(t.padding);if(!t.display)return;const a=Ma(e.rtl,this.left,this.width),o=this.ctx,s=t.position,l=n.size/2,u=i.top+l;let c,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,f=gr(e.align,f,this.right-d);else{const p=this.columnSizes.reduce((v,m)=>Math.max(v,m.height),0);c=u+gr(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=gr(s,f,f+d);o.textAlign=a.textAlign(s1(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Ra(o,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Rt(e.font),n=rr(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(xo(e,this.left,this.right)&&xo(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],xo(e,i.left,i.left+i.width)&&xo(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!QO(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=GO(i,n);i&&!a&&je(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&je(t.onHover,[e,n,this],this)}else n&&je(t.onClick,[e,n,this],this)}}function KO(r,e,t,n,i){const a=XO(n,r,e,t),o=JO(i,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function XO(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+n.measureText(i).width}function JO(r,e,t){let n=r;return typeof e.text!="string"&&(n=R1(e,t)),n}function R1(r,e){const t=r.text?r.text.length+.5:0;return e*t}function QO(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var ZO={id:"legend",_element:Wm,start(r,e,t){const n=r.legend=new Wm({ctx:r.ctx,options:t,chart:r});ei.configure(r,n,t),ei.addBox(r,n)},stop(r){ei.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;ei.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:s}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),c=rr(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(s||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};const So={average(r){if(!r.length)return!1;let e,t,n=0,i=0,a=0;for(e=0,t=r.length;e<t;++e){const o=r[e].element;if(o&&o.hasValue()){const s=o.tooltipPosition();n+=s.x,i+=s.y,++a}}return{x:n/a,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=r.length;a<o;++a){const l=r[a].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=oC(e,u);c<i&&(i=c,s=l)}}if(s){const l=s.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function en(r,e){return e&&(nt(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Cn(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function eM(r,e){const{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:o,value:s}=a.getLabelAndValue(i);return{chart:r,label:o,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:s,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function jm(r,e){const t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:o,boxHeight:s}=e,l=Rt(e.bodyFont),u=Rt(e.titleFont),c=Rt(e.footerFont),f=a.length,d=i.length,h=n.length,p=rr(e.padding);let v=p.height,m=0,g=n.reduce((T,x)=>T+x.before.length+x.lines.length+x.after.length,0);if(g+=r.beforeBody.length+r.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),g){const T=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;v+=h*T+(g-h)*l.lineHeight+(g-1)*e.bodySpacing}d&&(v+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let b=0;const k=function(T){m=Math.max(m,t.measureText(T).width+b)};return t.save(),t.font=u.string,Ve(r.title,k),t.font=l.string,Ve(r.beforeBody.concat(r.afterBody),k),b=e.displayColors?o+2+e.boxPadding:0,Ve(n,T=>{Ve(T.before,k),Ve(T.lines,k),Ve(T.after,k)}),b=0,t.font=c.string,Ve(r.footer,k),t.restore(),m+=p.width,{width:m,height:v}}function tM(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function rM(r,e,t,n){const{x:i,width:a}=n,o=t.caretSize+t.caretPadding;if(r==="left"&&i+a+o>e.width||r==="right"&&i-a-o<0)return!0}function nM(r,e,t,n){const{x:i,width:a}=t,{width:o,chartArea:{left:s,right:l}}=r;let u="center";return n==="center"?u=i<=(s+l)/2?"left":"right":i<=a/2?u="left":i>=o-a/2&&(u="right"),rM(u,r,e,t)&&(u="center"),u}function Ym(r,e,t){const n=t.yAlign||e.yAlign||tM(r,t);return{xAlign:t.xAlign||e.xAlign||nM(r,e,t,n),yAlign:n}}function iM(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function aM(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Gm(r,e,t,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=r,{xAlign:s,yAlign:l}=t,u=i+a,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:h}=Oa(o);let p=iM(e,s);const v=aM(e,l,u);return l==="center"?s==="left"?p+=u:s==="right"&&(p-=u):s==="left"?p-=Math.max(c,d)+i:s==="right"&&(p+=Math.max(f,h)+i),{x:Ar(p,0,n.width-e.width),y:Ar(v,0,n.height-e.height)}}function _s(r,e,t){const n=rr(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Km(r){return en([],Cn(r))}function oM(r,e,t){return oa(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Xm(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const L1={beforeTitle:xn,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:xn,beforeBody:xn,beforeLabel:xn,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Ze(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xn,afterBody:xn,beforeFooter:xn,footer:xn,afterFooter:xn};function lr(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?L1[e].call(t,n):i}class vd extends Yi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new T1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=oM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=lr(n,"beforeTitle",this,e),a=lr(n,"title",this,e),o=lr(n,"afterTitle",this,e);let s=[];return s=en(s,Cn(i)),s=en(s,Cn(a)),s=en(s,Cn(o)),s}getBeforeBody(e,t){return Km(lr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Ve(e,a=>{const o={before:[],lines:[],after:[]},s=Xm(n,a);en(o.before,Cn(lr(s,"beforeLabel",this,a))),en(o.lines,lr(s,"label",this,a)),en(o.after,Cn(lr(s,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(e,t){return Km(lr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=lr(n,"beforeFooter",this,e),a=lr(n,"footer",this,e),o=lr(n,"afterFooter",this,e);let s=[];return s=en(s,Cn(i)),s=en(s,Cn(a)),s=en(s,Cn(o)),s}_createItems(e){const t=this._active,n=this.chart.data,i=[],a=[],o=[];let s=[],l,u;for(l=0,u=t.length;l<u;++l)s.push(eM(this.chart,t[l]));return e.filter&&(s=s.filter((c,f,d)=>e.filter(c,f,d,n))),e.itemSort&&(s=s.sort((c,f)=>e.itemSort(c,f,n))),Ve(s,c=>{const f=Xm(e.callbacks,c);i.push(lr(f,"labelColor",this,c)),a.push(lr(f,"labelPointStyle",this,c)),o.push(lr(f,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=s,s}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const s=So[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=jm(this,n),u=Object.assign({},s,l),c=Ym(this.chart,n,u),f=Gm(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,a={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:f}=Oa(s),{x:d,y:h}=e,{width:p,height:v}=t;let m,g,b,k,T,x;return a==="center"?(T=h+v/2,i==="left"?(m=d,g=m-o,k=T+o,x=T-o):(m=d+p,g=m+o,k=T-o,x=T+o),b=m):(i==="left"?g=d+Math.max(l,c)+o:i==="right"?g=d+p-Math.max(u,f)-o:g=this.caretX,a==="top"?(k=h,T=k-o,m=g-o,b=g+o):(k=h+v,T=k+o,m=g+o,b=g-o),x=k),{x1:m,x2:g,x3:b,y1:k,y2:T,y3:x}}drawTitle(e,t,n){const i=this.title,a=i.length;let o,s,l;if(a){const u=Ma(n.rtl,this.x,this.width);for(e.x=_s(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",o=Rt(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,l=0;l<a;++l)t.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s,l+1===a&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,i,a){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:l,boxWidth:u,boxPadding:c}=a,f=Rt(a.bodyFont),d=_s(this,"left",a),h=i.x(d),p=l<f.lineHeight?(f.lineHeight-l)/2:0,v=t.y+p;if(a.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},g=i.leftForLtr(h,u)+u/2,b=v+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,mm(e,m,g,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,mm(e,m,g,b)}else{e.lineWidth=Le(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,u-c),g=i.leftForLtr(i.xPlus(h,1),u-c-2),b=Oa(o.borderRadius);Object.values(b).some(k=>k!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,eu(e,{x:m,y:v,w:u,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),eu(e,{x:g,y:v+1,w:u-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(m,v,u,l),e.strokeRect(m,v,u,l),e.fillStyle=o.backgroundColor,e.fillRect(g,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:s,boxHeight:l,boxWidth:u,boxPadding:c}=n,f=Rt(n.bodyFont);let d=f.lineHeight,h=0;const p=Ma(n.rtl,this.x,this.width),v=function(C){t.fillText(C,p.x(e.x+h),e.y+d/2),e.y+=d+a},m=p.textAlign(o);let g,b,k,T,x,w,_;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=_s(this,m,n),t.fillStyle=n.bodyColor,Ve(this.beforeBody,v),h=s&&m!=="right"?o==="center"?u/2+c:u+2+c:0,T=0,w=i.length;T<w;++T){for(g=i[T],b=this.labelTextColors[T],t.fillStyle=b,Ve(g.before,v),k=g.lines,s&&k.length&&(this._drawColorBox(t,e,T,p,n),d=Math.max(f.lineHeight,l)),x=0,_=k.length;x<_;++x)v(k[x]),d=f.lineHeight;Ve(g.after,v)}h=0,d=f.lineHeight,Ve(this.afterBody,v),e.y-=a}drawFooter(e,t,n){const i=this.footer,a=i.length;let o,s;if(a){const l=Ma(n.rtl,this.x,this.width);for(e.x=_s(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",o=Rt(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,s=0;s<a;++s)t.fillText(i[s],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:a,yAlign:o}=this,{x:s,y:l}=e,{width:u,height:c}=n,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=Oa(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+f,l),o==="top"&&this.drawCaret(e,t,n,i),t.lineTo(s+u-d,l),t.quadraticCurveTo(s+u,l,s+u,l+d),o==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(s+u,l+c-p),t.quadraticCurveTo(s+u,l+c,s+u-p,l+c),o==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(s+h,l+c),t.quadraticCurveTo(s,l+c,s,l+c-h),o==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(s,l+f),t.quadraticCurveTo(s,l,s+f,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=So[e.position].call(this,this._active,this._eventPosition);if(!o)return;const s=this._size=jm(this,e),l=Object.assign({},o,this._size),u=Ym(t,e,l),c=Gm(e,l,u,t);(i._to!==c.x||a._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=s.width,this.height=s.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=rr(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),k1(e,t.textDirection),a.y+=o.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),x1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:s,index:l})=>{const u=this.chart.getDatasetMeta(s);if(!u)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:u.data[l],index:l}}),a=!jl(n,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(e,a,t,n),s=this._positionChanged(o,e),l=t||!jl(o,a)||s;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t;const o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:a}=this,o=So[a.position].call(this,e,t);return o!==!1&&(n!==o.x||i!==o.y)}}Oe(vd,"positioners",So);var sM={id:"tooltip",_element:vd,positioners:So,afterInit(r,e,t){t&&(r.tooltip=new vd({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:L1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function lM(r,e){const t=[],{bounds:i,step:a,min:o,max:s,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=r,h=a||1,p=c-1,{min:v,max:m}=e,g=!Ze(o),b=!Ze(s),k=!Ze(u),T=(m-v)/(f+1);let x=nm((m-v)/p/h)*h,w,_,C,H;if(x<1e-14&&!g&&!b)return[{value:v},{value:m}];H=Math.ceil(m/x)-Math.floor(v/x),H>p&&(x=nm(H*x/p/h)*h),Ze(l)||(w=Math.pow(10,l),x=Math.ceil(x*w)/w),i==="ticks"?(_=Math.floor(v/x)*x,C=Math.ceil(m/x)*x):(_=v,C=m),g&&b&&a&&aC((s-o)/a,x/1e3)?(H=Math.round(Math.min((s-o)/x,c)),x=(s-o)/H,_=o,C=s):k?(_=g?o:_,C=b?s:C,H=u-1,x=(C-_)/H):(H=(C-_)/x,Ws(H,Math.round(H),x/1e3)?H=Math.round(H):H=Math.ceil(H));const V=Math.max(im(x),im(_));w=Math.pow(10,Ze(l)?V:l),_=Math.round(_*w)/w,C=Math.round(C*w)/w;let N=0;for(g&&(d&&_!==o?(t.push({value:o}),_<o&&N++,Ws(Math.round((_+N*x)*w)/w,o,Jm(o,T,r))&&N++):_<o&&N++);N<H;++N)t.push({value:Math.round((_+N*x)*w)/w});return b&&d&&C!==s?t.length&&Ws(t[t.length-1].value,s,Jm(s,T,r))?t[t.length-1].value=s:t.push({value:s}):(!b||C===s)&&t.push({value:C}),t}function Jm(r,e,{horizontal:t,minRotation:n}){const i=un(n),a=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+r).length;return Math.min(e/a,o)}class au extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=l=>i=t?i:l,s=l=>a=n?a:l;if(e){const l=Kl(i),u=Kl(a);l<0&&u<0?s(0):l>0&&u>0&&o(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);s(a+l),e||o(i-l)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=lM(i,a);return e.bounds==="ticks"&&r1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return xc(e,this.chart.options.locale,this.options.ticks.format)}}class Qm extends au{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=xt(e)?e:0,this.max=xt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=un(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Oe(Qm,"id","linear"),Oe(Qm,"defaults",{ticks:{callback:Tc.formatters.numeric}});const Ko=r=>Math.floor(Qn(r)),_i=(r,e)=>Math.pow(10,Ko(r)+e);function Zm(r){return r/Math.pow(10,Ko(r))===1}function eg(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function uM(r,e){const t=e-r;let n=Ko(t);for(;eg(r,e,n)>10;)n++;for(;eg(r,e,n)<10;)n--;return Math.min(n,Ko(r))}function cM(r,{min:e,max:t}){e=yr(r.min,e);const n=[],i=Ko(e);let a=uM(e,t),o=a<0?Math.pow(10,Math.abs(a)):1;const s=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,c=Math.floor((e-l)/s/10)*s*10;let f=Math.floor((u-c)/Math.pow(10,a)),d=yr(r.min,Math.round((l+c+f*Math.pow(10,a))*o)/o);for(;d<t;)n.push({value:d,major:Zm(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,o=a>=0?1:o),d=Math.round((l+c+f*Math.pow(10,a))*o)/o;const h=yr(r.max,d);return n.push({value:h,major:Zm(h),significand:f}),n}class tg extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=au.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return xt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=xt(e)?Math.max(0,e):null,this.max=xt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xt(this._userMin)&&(this.min=e===_i(this.min,0)?_i(this.min,-1):_i(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const a=s=>n=e?n:s,o=s=>i=t?i:s;n===i&&(n<=0?(a(1),o(10)):(a(_i(n,-1)),o(_i(i,1)))),n<=0&&a(_i(i,-1)),i<=0&&o(_i(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=cM(t,this);return e.bounds==="ticks"&&r1(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":xc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qn(e),this._valueRange=Qn(this.max)-Qn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Oe(tg,"id","logarithmic"),Oe(tg,"defaults",{ticks:{callback:Tc.formatters.logarithmic,major:{enabled:!0}}});function md(r){const e=r.ticks;if(e.display&&r.display){const t=rr(e.backdropPadding);return He(e.font&&e.font.size,ct.font.size)+t.height}return 0}function fM(r,e,t){return t=nt(t)?t:[t],{w:WC(r,e.string,t),h:t.length*e.lineHeight}}function rg(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function dM(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],a=r._pointLabels.length,o=r.options.pointLabels,s=o.centerPointLabels?bt/a:0;for(let l=0;l<a;l++){const u=o.setContext(r.getPointLabelContext(l));i[l]=u.padding;const c=r.getPointPosition(l,r.drawingArea+i[l],s),f=Rt(u.font),d=fM(r.ctx,f,r._pointLabels[l]);n[l]=d;const h=an(r.getIndexAngle(l)+s),p=Math.round(Tp(h)),v=rg(p,c.x,d.w,0,180),m=rg(p,c.y,d.h,90,270);hM(t,e,h,v,m)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=pM(r,n,i)}function hM(r,e,t,n,i){const a=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let s=0,l=0;n.start<e.l?(s=(e.l-n.start)/a,r.l=Math.min(r.l,e.l-s)):n.end>e.r&&(s=(n.end-e.r)/a,r.r=Math.max(r.r,e.r+s)),i.start<e.t?(l=(e.t-i.start)/o,r.t=Math.min(r.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,r.b=Math.max(r.b,e.b+l))}function pM(r,e,t){const n=[],i=r._pointLabels.length,a=r.options,o=md(a)/2,s=r.drawingArea,l=a.pointLabels.centerPointLabels?bt/i:0;for(let u=0;u<i;u++){const c=r.getPointPosition(u,s+o+t[u],l),f=Math.round(Tp(an(c.angle+at))),d=e[u],h=gM(c.y,d.h,f),p=vM(f),v=mM(c.x,d.w,p);n.push({x:c.x,y:h,textAlign:p,left:v,top:h,right:v+d.w,bottom:h+d.h})}return n}function vM(r){return r===0||r===180?"center":r<180?"left":"right"}function mM(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function gM(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function yM(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const a=n.setContext(r.getPointLabelContext(i)),o=Rt(a.font),{x:s,y:l,textAlign:u,left:c,top:f,right:d,bottom:h}=r._pointLabelItems[i],{backdropColor:p}=a;if(!Ze(p)){const v=Oa(a.borderRadius),m=rr(a.backdropPadding);t.fillStyle=p;const g=c-m.left,b=f-m.top,k=d-c+m.width,T=h-f+m.height;Object.values(v).some(x=>x!==0)?(t.beginPath(),eu(t,{x:g,y:b,w:k,h:T,radius:v}),t.fill()):t.fillRect(g,b,k,T)}Ra(t,r._pointLabels[i],s,l+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function I1(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,it);else{let a=r.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let o=1;o<n;o++)a=r.getPointPosition(o,e),i.lineTo(a.x,a.y)}}function bM(r,e,t,n,i){const a=r.ctx,o=e.circular,{color:s,lineWidth:l}=e;!o&&!n||!s||!l||t<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),I1(r,t,o,n),a.closePath(),a.stroke(),a.restore())}function wM(r,e,t){return oa(r,{label:t,index:e,type:"pointLabel"})}class Cs extends au{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=rr(md(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=xt(e)&&!isNaN(e)?e:0,this.max=xt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/md(this.options))}generateTickLabels(e){au.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=je(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?dM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=it/(this._pointLabels.length||1),n=this.options.startAngle||0;return an(e*t+un(n))}getDistanceFromCenterForValue(e){if(Ze(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ze(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return wM(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-at+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),I1(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:a}=t,o=this._pointLabels.length;let s,l,u;if(t.pointLabels.display&&yM(this,o),i.display&&this.ticks.forEach((c,f)=>{if(f!==0){l=this.getDistanceFromCenterForValue(c.value);const d=this.getContext(f),h=i.setContext(d),p=a.setContext(d);bM(this,h,l,o,p)}}),n.display){for(e.save(),s=o-1;s>=0;s--){const c=n.setContext(this.getPointLabelContext(s)),{color:f,lineWidth:d}=c;!d||!f||(e.lineWidth=d,e.strokeStyle=f,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),u=this.getPointPosition(s,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&!t.reverse)return;const u=n.setContext(this.getContext(l)),c=Rt(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(s.label).width,e.fillStyle=u.backdropColor;const f=rr(u.backdropPadding);e.fillRect(-o/2-f.left,-a-c.size/2-f.top,o+f.width,c.size+f.height)}Ra(e,s.label,0,-a,c,{color:u.color})}),e.restore()}drawTitle(){}}Oe(Cs,"id","radialLinear"),Oe(Cs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Oe(Cs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Oe(Cs,"descriptors",{angleLines:{_fallback:"grid"}});const Cc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cr=Object.keys(Cc);function kM(r,e){return r-e}function ng(r,e){if(Ze(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),xt(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Xl(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,i)),+o)}function ig(r,e,t,n){const i=cr.length;for(let a=cr.indexOf(r);a<i-1;++a){const o=Cc[cr[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(s*o.size))<=n)return cr[a]}return cr[i-1]}function xM(r,e,t,n,i){for(let a=cr.length-1;a>=cr.indexOf(t);a--){const o=cr[a];if(Cc[o].common&&r._adapter.diff(i,n,o)>=e-1)return o}return cr[t?cr.indexOf(t):0]}function TM(r){for(let e=cr.indexOf(r)+1,t=cr.length;e<t;++e)if(Cc[cr[e]].common)return cr[e]}function ag(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=_p(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function _M(r,e,t,n){const i=r._adapter,a=+i.startOf(e[0].value,n),o=e[e.length-1].value;let s,l;for(s=a;s<=o;s=+i.add(s,1,n))l=t[s],l>=0&&(e[l].major=!0);return e}function og(r,e,t){const n=[],i={},a=e.length;let o,s;for(o=0;o<a;++o)s=e[o],i[s]=o,n.push({value:s,major:!1});return a===0||!t?n:_M(r,n,i,t)}class ou extends ro{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new RS._date(e.adapters.date);i.init(t),No(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:ng(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:s}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!s&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!o||!s)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=xt(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=xt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,s=uC(i,a,o);return this._unit=t.unit||(n.autoSkip?ig(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):xM(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:TM(this._unit),this.initOffsets(i),e.reverse&&s.reverse(),og(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ar(t,0,o),n=Ar(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||ig(a.minUnit,t,n,this._getLabelCapacity(t)),s=He(i.ticks.stepSize,1),l=o==="week"?a.isoWeekday:!1,u=Xl(l)||l===!0,c={};let f=t,d,h;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(n,t,o)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,h=0;d<n;d=+e.add(d,s,o),h++)ag(c,d,p);return(d===n||i.bounds==="ticks"||h===1)&&ag(c,d,p),Object.keys(c).sort((v,m)=>v-m).map(v=>+v)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){const a=this.options,o=a.ticks.callback;if(o)return je(o,[e,t,n],this);const s=a.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&s[l],f=u&&s[u],d=n[t],h=u&&f&&d&&d.major;return this._adapter.format(e,i||(h?f:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=un(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),o=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*a+s*o,h:n*o+s*a}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,og(this,[e],this._majorUnit),i),o=this._getLabelSize(a),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(ng(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fC(e.sort(kM))}}Oe(ou,"id","time"),Oe(ou,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ss(r,e,t){let n=0,i=r.length-1,a,o,s,l;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=cd(r,"pos",e)),{pos:a,time:s}=r[n],{pos:o,time:l}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=cd(r,"time",e)),{time:a,pos:s}=r[n],{time:o,pos:l}=r[i]);const u=o-a;return u?s+(l-s)*(e-a)/u:s}class sg extends ou{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ss(t,this.min),this._tableRange=Ss(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],a=[];let o,s,l,u,c;for(o=0,s=e.length;o<s;++o)u=e[o],u>=t&&u<=n&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&a.push({time:u,pos:o/(s-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ss(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Ss(this._table,n*this._tableRange+this._minPos,!0)}}Oe(sg,"id","timeseries"),Oe(sg,"defaults",ou.defaults);const $1={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},CM={type:{type:String,required:!0},...$1},SM=V_[0]==="2"?(r,e)=>Object.assign(r,{attrs:e}):(r,e)=>Object.assign(r,e);function ha(r){return Jw(r)?ld(r):r}function OM(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;return Jw(e)?new Proxy(r,{}):r}function MM(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function B1(r,e){r.labels=e}function H1(r,e,t){const n=[];r.datasets=e.map(i=>{const a=r.datasets.find(o=>o[t]===i[t]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function EM(r,e){const t={labels:[],datasets:[]};return B1(t,r.labels),H1(t,r.datasets,e),t}const DM=Ht({props:CM,setup(r,e){let{expose:t}=e;const n=te(null),i=Kw(null);t({chart:i});const a=()=>{if(!n.value)return;const{type:l,data:u,options:c,plugins:f,datasetIdKey:d}=r,h=EM(u,d),p=OM(h,u);i.value=new Ip(n.value,{type:l,data:p,options:{...c},plugins:f})},o=()=>{const l=ld(i.value);l&&(l.destroy(),i.value=null)},s=l=>{l.update(r.updateMode)};return pr(a),z_(o),eo([()=>r.options,()=>r.data],(l,u)=>{let[c,f]=l,[d,h]=u;const p=ld(i.value);if(!p)return;let v=!1;if(c){const m=ha(c),g=ha(d);m&&m!==g&&(MM(p,m),v=!0)}if(f){const m=ha(f.labels),g=ha(h.labels),b=ha(f.datasets),k=ha(h.datasets);m!==g&&(B1(p.config.data,m),v=!0),b&&b!==k&&(H1(p.config.data,b,r.datasetIdKey),v=!0)}v&&s(p)},{deep:!0}),()=>Xw("canvas",{ref:n})}});function AM(r,e){return Ip.register(e),Ht({props:$1,setup(t,n){let{expose:i}=n;const a=Kw(null),o=s=>{a.value=s==null?void 0:s.chart};return i({chart:a}),()=>Xw(DM,SM({ref:o},{type:r,...t}))}})}const PM=AM("pie",hd),NM=ue("h2",null,"Chart.js",-1),RM={class:"chartWrap"},LM=Ht({__name:"ChartPie",setup(r){Ip.register(Ks,sM,ZO);const{chartData:e,charOption:t,changeChartDataSize:n}=K_();let i=te(!1);return pr(()=>{i.value=!0}),(a,o)=>(z(),X(Me,null,[NM,ue("div",RM,[M(i)?(z(),Re(M(PM),{key:0,data:M(e),options:M(t)},null,8,["data","options"])):G("",!0)]),ue("button",{onClick:o[0]||(o[0]=(...s)=>M(n)&&M(n)(...s))},"change Data")],64))}});function ve(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ce(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function Xs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(t){return typeof t}:Xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(r)}function ge(r){ce(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Xs(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ai(r,e){ce(2,arguments);var t=ge(r),n=ve(e);return isNaN(n)?new Date(NaN):(n&&t.setDate(t.getDate()+n),t)}function cn(r,e){ce(2,arguments);var t=ge(r),n=ve(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var i=t.getDate(),a=new Date(t.getTime());a.setMonth(t.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(t.setFullYear(a.getFullYear(),a.getMonth(),i),t)}function Js(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Js=function(t){return typeof t}:Js=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(r)}function F1(r,e){if(ce(2,arguments),!e||Js(e)!=="object")return new Date(NaN);var t=e.years?ve(e.years):0,n=e.months?ve(e.months):0,i=e.weeks?ve(e.weeks):0,a=e.days?ve(e.days):0,o=e.hours?ve(e.hours):0,s=e.minutes?ve(e.minutes):0,l=e.seconds?ve(e.seconds):0,u=ge(r),c=n||t?cn(u,n+t*12):u,f=a||i?ai(c,a+i*7):c,d=s+o*60,h=l+d*60,p=h*1e3,v=new Date(f.getTime()+p);return v}function IM(r,e){ce(2,arguments);var t=ge(r).getTime(),n=ve(e);return new Date(t+n)}var $M={};function pi(){return $M}function gd(r,e){var t,n,i,a,o,s,l,u;ce(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ge(r),h=d.getDay(),p=(h<f?7:0)+h-f;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function su(r){return ce(1,arguments),gd(r,{weekStartsOn:1})}function BM(r){ce(1,arguments);var e=ge(r),t=e.getFullYear(),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var i=su(n),a=new Date(0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);var o=su(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function HM(r){ce(1,arguments);var e=BM(r),t=new Date(0);t.setFullYear(e,0,4),t.setHours(0,0,0,0);var n=su(t);return n}function lu(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function lg(r){ce(1,arguments);var e=ge(r);return e.setHours(0,0,0,0),e}var FM=864e5;function zM(r,e){ce(2,arguments);var t=lg(r),n=lg(e),i=t.getTime()-lu(t),a=n.getTime()-lu(n);return Math.round((i-a)/FM)}function z1(r,e){ce(2,arguments);var t=ve(e);return cn(r,t*12)}var $p=6e4,Bp=36e5,VM=1e3;function Qs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qs=function(t){return typeof t}:Qs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(r)}function V1(r){return ce(1,arguments),r instanceof Date||Qs(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Io(r){if(ce(1,arguments),!V1(r)&&typeof r!="number")return!1;var e=ge(r);return!isNaN(Number(e))}function ug(r,e){var t;ce(1,arguments);var n=r||{},i=ge(n.start),a=ge(n.end),o=a.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var s=[],l=i;l.setHours(0,0,0,0);var u=Number((t=e==null?void 0:e.step)!==null&&t!==void 0?t:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)s.push(ge(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return s}function qM(r,e){var t,n,i,a,o,s,l,u;ce(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ge(r),h=d.getDay(),p=(h<f?-7:0)+6-(h-f);return d.setDate(d.getDate()+p),d.setHours(23,59,59,999),d}function q1(r,e){ce(2,arguments);var t=ve(e);return IM(r,-t)}var UM=864e5;function WM(r){ce(1,arguments);var e=ge(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/UM)+1}function Ia(r){ce(1,arguments);var e=1,t=ge(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function U1(r){ce(1,arguments);var e=ge(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=Ia(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var o=Ia(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function jM(r){ce(1,arguments);var e=U1(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Ia(t);return n}var YM=6048e5;function W1(r){ce(1,arguments);var e=ge(r),t=Ia(e).getTime()-jM(e).getTime();return Math.round(t/YM)+1}function Gi(r,e){var t,n,i,a,o,s,l,u;ce(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ge(r),h=d.getUTCDay(),p=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Hp(r,e){var t,n,i,a,o,s,l,u;ce(1,arguments);var c=ge(r),f=c.getUTCFullYear(),d=pi(),h=ve((t=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,h),p.setUTCHours(0,0,0,0);var v=Gi(p,e),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var g=Gi(m,e);return c.getTime()>=v.getTime()?f+1:c.getTime()>=g.getTime()?f:f-1}function GM(r,e){var t,n,i,a,o,s,l,u;ce(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),d=Hp(r,e),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var p=Gi(h,e);return p}var KM=6048e5;function j1(r,e){ce(1,arguments);var t=ge(r),n=Gi(t,e).getTime()-GM(t,e).getTime();return Math.round(n/KM)+1}function ze(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var XM={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return ze(t==="yy"?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):ze(n+1,2)},d:function(e,t){return ze(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return ze(e.getUTCHours()%12||12,t.length)},H:function(e,t){return ze(e.getUTCHours(),t.length)},m:function(e,t){return ze(e.getUTCMinutes(),t.length)},s:function(e,t){return ze(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return ze(a,t.length)}};const Un=XM;var pa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JM={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Un.y(e,t)},Y:function(e,t,n,i){var a=Hp(e,i),o=a>0?a:1-a;if(t==="YY"){var s=o%100;return ze(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):ze(o,t.length)},R:function(e,t){var n=U1(e);return ze(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return ze(n,t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ze(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ze(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Un.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return ze(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=j1(e,i);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):ze(a,t.length)},I:function(e,t,n){var i=W1(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):ze(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Un.d(e,t)},D:function(e,t,n){var i=WM(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ze(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ze(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ze(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return ze(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i=e.getUTCHours(),a;switch(i===12?a=pa.noon:i===0?a=pa.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i=e.getUTCHours(),a;switch(i>=17?a=pa.evening:i>=12?a=pa.afternoon:i>=4?a=pa.morning:a=pa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Un.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Un.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ze(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):ze(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Un.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Un.s(e,t)},S:function(e,t){return Un.S(e,t)},X:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return fg(o);case"XXXX":case"XX":return Ai(o);case"XXXXX":case"XXX":default:return Ai(o,":")}},x:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"x":return fg(o);case"xxxx":case"xx":return Ai(o);case"xxxxx":case"xxx":default:return Ai(o,":")}},O:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cg(o,":");case"OOOO":default:return"GMT"+Ai(o,":")}},z:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cg(o,":");case"zzzz":default:return"GMT"+Ai(o,":")}},t:function(e,t,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return ze(o,t.length)},T:function(e,t,n,i){var a=i._originalDate||e,o=a.getTime();return ze(o,t.length)}};function cg(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=n%60;if(a===0)return t+String(i);var o=e||"";return t+String(i)+o+ze(a,2)}function fg(r,e){if(r%60===0){var t=r>0?"-":"+";return t+ze(Math.abs(r)/60,2)}return Ai(r,e)}function Ai(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),a=ze(Math.floor(i/60),2),o=ze(i%60,2);return n+a+t+o}const QM=JM;var dg=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Y1=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ZM=function(e,t){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return dg(e,t);var o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",dg(i,t)).replace("{{time}}",Y1(a,t))},eE={p:Y1,P:ZM};const yd=eE;var tE=["D","DD"],rE=["YY","YYYY"];function G1(r){return tE.indexOf(r)!==-1}function K1(r){return rE.indexOf(r)!==-1}function uu(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iE=function(e,t,n){var i,a=nE[e];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const aE=iE;function af(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var oE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uE={date:af({formats:oE,defaultWidth:"full"}),time:af({formats:sE,defaultWidth:"full"}),dateTime:af({formats:lE,defaultWidth:"full"})};const cE=uE;var fE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dE=function(e,t,n,i){return fE[e]};const hE=dE;function fo(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",i;if(n==="formatting"&&r.formattingValues){var a=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=r.formattingValues[o]||r.formattingValues[a]}else{var s=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[l]||r.values[s]}var u=r.argumentCallback?r.argumentCallback(e):e;return i[u]}}var pE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wE=function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kE={ordinalNumber:wE,era:fo({values:pE,defaultWidth:"wide"}),quarter:fo({values:vE,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:fo({values:mE,defaultWidth:"wide"}),day:fo({values:gE,defaultWidth:"wide"}),dayPeriod:fo({values:yE,defaultWidth:"wide",formattingValues:bE,defaultFormattingWidth:"wide"})};const xE=kE;function ho(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(s)?_E(s,function(f){return f.test(o)}):TE(s,function(f){return f.test(o)}),u;u=r.valueCallback?r.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function TE(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function _E(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function CE(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],a=e.match(r.parsePattern);if(!a)return null;var o=r.valueCallback?r.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var SE=/^(\d+)(th|st|nd|rd)?/i,OE=/\d+/i,ME={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EE={any:[/^b/i,/^(a|c)/i]},DE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AE={any:[/1/i,/2/i,/3/i,/4/i]},PE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$E={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BE={ordinalNumber:CE({matchPattern:SE,parsePattern:OE,valueCallback:function(e){return parseInt(e,10)}}),era:ho({matchPatterns:ME,defaultMatchWidth:"wide",parsePatterns:EE,defaultParseWidth:"any"}),quarter:ho({matchPatterns:DE,defaultMatchWidth:"wide",parsePatterns:AE,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ho({matchPatterns:PE,defaultMatchWidth:"wide",parsePatterns:NE,defaultParseWidth:"any"}),day:ho({matchPatterns:RE,defaultMatchWidth:"wide",parsePatterns:LE,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:IE,defaultMatchWidth:"any",parsePatterns:$E,defaultParseWidth:"any"})};const HE=BE;var FE={code:"en-US",formatDistance:aE,formatLong:cE,formatRelative:hE,localize:xE,match:HE,options:{weekStartsOn:0,firstWeekContainsDate:1}};const X1=FE;var zE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qE=/^'([^]*?)'?$/,UE=/''/g,WE=/[a-zA-Z]/;function $o(r,e,t){var n,i,a,o,s,l,u,c,f,d,h,p,v,m,g,b,k,T;ce(2,arguments);var x=String(e),w=pi(),_=(n=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:w.locale)!==null&&n!==void 0?n:X1,C=ve((a=(o=(s=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&o!==void 0?o:(f=w.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=ve((h=(p=(v=(m=t==null?void 0:t.weekStartsOn)!==null&&m!==void 0?m:t==null||(g=t.locale)===null||g===void 0||(b=g.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:w.weekStartsOn)!==null&&p!==void 0?p:(k=w.locale)===null||k===void 0||(T=k.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&h!==void 0?h:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var V=ge(r);if(!Io(V))throw new RangeError("Invalid time value");var N=lu(V),U=q1(V,N),R={firstWeekContainsDate:C,weekStartsOn:H,locale:_,_originalDate:V},S=x.match(VE).map(function(L){var $=L[0];if($==="p"||$==="P"){var y=yd[$];return y(L,_.formatLong)}return L}).join("").match(zE).map(function(L){if(L==="''")return"'";var $=L[0];if($==="'")return jE(L);var y=QM[$];if(y)return!(t!=null&&t.useAdditionalWeekYearTokens)&&K1(L)&&uu(L,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&G1(L)&&uu(L,e,String(r)),y(U,L,_.localize,R);if($.match(WE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return L}).join("");return S}function jE(r){var e=r.match(qE);return e?e[1].replace(UE,"'"):r}function YE(r,e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}function GE(r){ce(1,arguments);var e=ge(r),t=e.getDay();return t}function KE(r){ce(1,arguments);var e=ge(r),t=e.getFullYear(),n=e.getMonth(),i=new Date(0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Dn(r){ce(1,arguments);var e=ge(r),t=e.getHours();return t}var XE=6048e5;function JE(r){ce(1,arguments);var e=ge(r),t=su(e).getTime()-HM(e).getTime();return Math.round(t/XE)+1}function An(r){ce(1,arguments);var e=ge(r),t=e.getMinutes();return t}function Xe(r){ce(1,arguments);var e=ge(r),t=e.getMonth();return t}function $a(r){ce(1,arguments);var e=ge(r),t=e.getSeconds();return t}function Je(r){return ce(1,arguments),ge(r).getFullYear()}function Fp(r,e){ce(2,arguments);var t=ge(r),n=ge(e);return t.getTime()>n.getTime()}function zp(r,e){ce(2,arguments);var t=ge(r),n=ge(e);return t.getTime()<n.getTime()}function J1(r,e){ce(2,arguments);var t=ge(r),n=ge(e);return t.getTime()===n.getTime()}function Zs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zs=function(t){return typeof t}:Zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(r)}function Q1(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&bd(r,e)}function bd(r,e){return bd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bd(r,e)}function Z1(r){var e=ZE();return function(){var n=cu(r),i;if(e){var a=cu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QE(this,i)}}function QE(r,e){return e&&(Zs(e)==="object"||typeof e=="function")?e:wd(r)}function wd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cu(r){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(r)}function Vp(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function qp(r,e,t){return e&&hg(r.prototype,e),t&&hg(r,t),r}function kd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var eD=10,ek=function(){function r(){Vp(this,r),kd(this,"subPriority",0)}return qp(r,[{key:"validate",value:function(t,n){return!0}}]),r}(),tD=function(r){Q1(t,r);var e=Z1(t);function t(n,i,a,o,s){var l;return Vp(this,t),l=e.call(this),l.value=n,l.validateValue=i,l.setValue=a,l.priority=o,s&&(l.subPriority=s),l}return qp(t,[{key:"validate",value:function(i,a){return this.validateValue(i,this.value,a)}},{key:"set",value:function(i,a,o){return this.setValue(i,a,this.value,o)}}]),t}(ek),rD=function(r){Q1(t,r);var e=Z1(t);function t(){var n;Vp(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),kd(wd(n),"priority",eD),kd(wd(n),"subPriority",-1),n}return qp(t,[{key:"set",value:function(i,a){if(a.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),t}(ek);function nD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function pg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function iD(r,e,t){return e&&pg(r.prototype,e),t&&pg(r,t),r}var $e=function(){function r(){nD(this,r)}return iD(r,[{key:"run",value:function(t,n,i,a){var o=this.parse(t,n,i,a);return o?{setter:new tD(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t,n,i){return!0}}]),r}();function el(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(t){return typeof t}:el=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(r)}function aD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function vg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function oD(r,e,t){return e&&vg(r.prototype,e),t&&vg(r,t),r}function sD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&xd(r,e)}function xd(r,e){return xd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xd(r,e)}function lD(r){var e=cD();return function(){var n=fu(r),i;if(e){var a=fu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return uD(this,i)}}function uD(r,e){return e&&(el(e)==="object"||typeof e=="function")?e:Td(r)}function Td(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fu(r){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fu(r)}function mg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var fD=function(r){sD(t,r);var e=lD(t);function t(){var n;aD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),mg(Td(n),"priority",140),mg(Td(n),"incompatibleTokens",["R","u","t","T"]),n}return oD(t,[{key:"parse",value:function(i,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,a,o){return a.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),t}($e),ft={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},on={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function dt(r,e){return r&&{value:e(r.value),rest:r.rest}}function et(r,e){var t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function sn(r,e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(i*Bp+a*$p+o*VM),rest:e.slice(t[0].length)}}function tk(r){return et(ft.anyDigitsSigned,r)}function ot(r,e){switch(r){case 1:return et(ft.singleDigit,e);case 2:return et(ft.twoDigits,e);case 3:return et(ft.threeDigits,e);case 4:return et(ft.fourDigits,e);default:return et(new RegExp("^\\d{1,"+r+"}"),e)}}function du(r,e){switch(r){case 1:return et(ft.singleDigitSigned,e);case 2:return et(ft.twoDigitsSigned,e);case 3:return et(ft.threeDigitsSigned,e);case 4:return et(ft.fourDigitsSigned,e);default:return et(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Up(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rk(r,e){var t=e>0,n=t?e:1-e,i;if(n<=50)i=r||100;else{var a=n+50,o=Math.floor(a/100)*100,s=r>=a%100;i=r+o-(s?100:0)}return t?i:1-i}function nk(r){return r%400===0||r%4===0&&r%100!==0}function tl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tl=function(t){return typeof t}:tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(r)}function dD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function hD(r,e,t){return e&&gg(r.prototype,e),t&&gg(r,t),r}function pD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&_d(r,e)}function _d(r,e){return _d=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_d(r,e)}function vD(r){var e=gD();return function(){var n=hu(r),i;if(e){var a=hu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return mD(this,i)}}function mD(r,e){return e&&(tl(e)==="object"||typeof e=="function")?e:Cd(r)}function Cd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hu(r){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(r)}function yg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var yD=function(r){pD(t,r);var e=vD(t);function t(){var n;dD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),yg(Cd(n),"priority",130),yg(Cd(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return hD(t,[{key:"parse",value:function(i,a,o){var s=function(u){return{year:u,isTwoDigitYear:a==="yy"}};switch(a){case"y":return dt(ot(4,i),s);case"yo":return dt(o.ordinalNumber(i,{unit:"year"}),s);default:return dt(ot(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o){var s=i.getUTCFullYear();if(o.isTwoDigitYear){var l=rk(o.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function rl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rl=function(t){return typeof t}:rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(r)}function bD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function wD(r,e,t){return e&&bg(r.prototype,e),t&&bg(r,t),r}function kD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Sd(r,e)}function Sd(r,e){return Sd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Sd(r,e)}function xD(r){var e=_D();return function(){var n=pu(r),i;if(e){var a=pu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return TD(this,i)}}function TD(r,e){return e&&(rl(e)==="object"||typeof e=="function")?e:Od(r)}function Od(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pu(r){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(r)}function wg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var CD=function(r){kD(t,r);var e=xD(t);function t(){var n;bD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),wg(Od(n),"priority",130),wg(Od(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return wD(t,[{key:"parse",value:function(i,a,o){var s=function(u){return{year:u,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return dt(ot(4,i),s);case"Yo":return dt(o.ordinalNumber(i,{unit:"year"}),s);default:return dt(ot(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o,s){var l=Hp(i,s);if(o.isTwoDigitYear){var u=rk(o.year,l);return i.setUTCFullYear(u,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Gi(i,s)}var c=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Gi(i,s)}}]),t}($e);function nl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nl=function(t){return typeof t}:nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(r)}function SD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function kg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function OD(r,e,t){return e&&kg(r.prototype,e),t&&kg(r,t),r}function MD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Md(r,e)}function Md(r,e){return Md=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Md(r,e)}function ED(r){var e=AD();return function(){var n=vu(r),i;if(e){var a=vu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return DD(this,i)}}function DD(r,e){return e&&(nl(e)==="object"||typeof e=="function")?e:Ed(r)}function Ed(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function AD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vu(r){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(r)}function xg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var PD=function(r){MD(t,r);var e=ED(t);function t(){var n;SD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),xg(Ed(n),"priority",130),xg(Ed(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return OD(t,[{key:"parse",value:function(i,a){return du(a==="R"?4:a.length,i)}},{key:"set",value:function(i,a,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),Ia(s)}}]),t}($e);function il(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(r)}function ND(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Tg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function RD(r,e,t){return e&&Tg(r.prototype,e),t&&Tg(r,t),r}function LD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Dd(r,e)}function Dd(r,e){return Dd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Dd(r,e)}function ID(r){var e=BD();return function(){var n=mu(r),i;if(e){var a=mu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return $D(this,i)}}function $D(r,e){return e&&(il(e)==="object"||typeof e=="function")?e:Ad(r)}function Ad(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function BD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mu(r){return mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(r)}function _g(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var HD=function(r){LD(t,r);var e=ID(t);function t(){var n;ND(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),_g(Ad(n),"priority",130),_g(Ad(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return RD(t,[{key:"parse",value:function(i,a){return du(a==="u"?4:a.length,i)}},{key:"set",value:function(i,a,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function al(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(r)}function FD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Cg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function zD(r,e,t){return e&&Cg(r.prototype,e),t&&Cg(r,t),r}function VD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Pd(r,e)}function Pd(r,e){return Pd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pd(r,e)}function qD(r){var e=WD();return function(){var n=gu(r),i;if(e){var a=gu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return UD(this,i)}}function UD(r,e){return e&&(al(e)==="object"||typeof e=="function")?e:Nd(r)}function Nd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gu(r){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(r)}function Sg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var jD=function(r){VD(t,r);var e=qD(t);function t(){var n;FD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Sg(Nd(n),"priority",120),Sg(Nd(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return zD(t,[{key:"parse",value:function(i,a,o){switch(a){case"Q":case"QQ":return ot(a.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function ol(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ol=function(t){return typeof t}:ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(r)}function YD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Og(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function GD(r,e,t){return e&&Og(r.prototype,e),t&&Og(r,t),r}function KD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Rd(r,e)}function Rd(r,e){return Rd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rd(r,e)}function XD(r){var e=QD();return function(){var n=yu(r),i;if(e){var a=yu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return JD(this,i)}}function JD(r,e){return e&&(ol(e)==="object"||typeof e=="function")?e:Ld(r)}function Ld(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function QD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yu(r){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(r)}function Mg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ZD=function(r){KD(t,r);var e=XD(t);function t(){var n;YD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Mg(Ld(n),"priority",120),Mg(Ld(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return GD(t,[{key:"parse",value:function(i,a,o){switch(a){case"q":case"qq":return ot(a.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function sl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sl=function(t){return typeof t}:sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(r)}function eA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Eg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function tA(r,e,t){return e&&Eg(r.prototype,e),t&&Eg(r,t),r}function rA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Id(r,e)}function Id(r,e){return Id=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Id(r,e)}function nA(r){var e=aA();return function(){var n=bu(r),i;if(e){var a=bu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return iA(this,i)}}function iA(r,e){return e&&(sl(e)==="object"||typeof e=="function")?e:$d(r)}function $d(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bu(r){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bu(r)}function Dg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var oA=function(r){rA(t,r);var e=nA(t);function t(){var n;eA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Dg($d(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Dg($d(n),"priority",110),n}return tA(t,[{key:"parse",value:function(i,a,o){var s=function(u){return u-1};switch(a){case"M":return dt(et(ft.month,i),s);case"MM":return dt(ot(2,i),s);case"Mo":return dt(o.ordinalNumber(i,{unit:"month"}),s);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function ll(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ll=function(t){return typeof t}:ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(r)}function sA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ag(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function lA(r,e,t){return e&&Ag(r.prototype,e),t&&Ag(r,t),r}function uA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Bd(r,e)}function Bd(r,e){return Bd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bd(r,e)}function cA(r){var e=dA();return function(){var n=wu(r),i;if(e){var a=wu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fA(this,i)}}function fA(r,e){return e&&(ll(e)==="object"||typeof e=="function")?e:Hd(r)}function Hd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function dA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wu(r){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wu(r)}function Pg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var hA=function(r){uA(t,r);var e=cA(t);function t(){var n;sA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Pg(Hd(n),"priority",110),Pg(Hd(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return lA(t,[{key:"parse",value:function(i,a,o){var s=function(u){return u-1};switch(a){case"L":return dt(et(ft.month,i),s);case"LL":return dt(ot(2,i),s);case"Lo":return dt(o.ordinalNumber(i,{unit:"month"}),s);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function pA(r,e,t){ce(2,arguments);var n=ge(r),i=ve(e),a=j1(n,t)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}function ul(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ul=function(t){return typeof t}:ul=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(r)}function vA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ng(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function mA(r,e,t){return e&&Ng(r.prototype,e),t&&Ng(r,t),r}function gA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Fd(r,e)}function Fd(r,e){return Fd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fd(r,e)}function yA(r){var e=wA();return function(){var n=ku(r),i;if(e){var a=ku(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return bA(this,i)}}function bA(r,e){return e&&(ul(e)==="object"||typeof e=="function")?e:zd(r)}function zd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ku(r){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(r)}function Rg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var kA=function(r){gA(t,r);var e=yA(t);function t(){var n;vA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Rg(zd(n),"priority",100),Rg(zd(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return mA(t,[{key:"parse",value:function(i,a,o){switch(a){case"w":return et(ft.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o,s){return Gi(pA(i,o,s),s)}}]),t}($e);function xA(r,e){ce(2,arguments);var t=ge(r),n=ve(e),i=W1(t)-n;return t.setUTCDate(t.getUTCDate()-i*7),t}function cl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cl=function(t){return typeof t}:cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(r)}function TA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function _A(r,e,t){return e&&Lg(r.prototype,e),t&&Lg(r,t),r}function CA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Vd(r,e)}function Vd(r,e){return Vd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vd(r,e)}function SA(r){var e=MA();return function(){var n=xu(r),i;if(e){var a=xu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return OA(this,i)}}function OA(r,e){return e&&(cl(e)==="object"||typeof e=="function")?e:qd(r)}function qd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xu(r){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xu(r)}function Ig(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var EA=function(r){CA(t,r);var e=SA(t);function t(){var n;TA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Ig(qd(n),"priority",100),Ig(qd(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return _A(t,[{key:"parse",value:function(i,a,o){switch(a){case"I":return et(ft.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o){return Ia(xA(i,o))}}]),t}($e);function fl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fl=function(t){return typeof t}:fl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(r)}function DA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $g(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function AA(r,e,t){return e&&$g(r.prototype,e),t&&$g(r,t),r}function PA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Ud(r,e)}function Ud(r,e){return Ud=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ud(r,e)}function NA(r){var e=LA();return function(){var n=Tu(r),i;if(e){var a=Tu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RA(this,i)}}function RA(r,e){return e&&(fl(e)==="object"||typeof e=="function")?e:dl(r)}function dl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tu(r){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(r)}function of(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var IA=[31,28,31,30,31,30,31,31,30,31,30,31],$A=[31,29,31,30,31,30,31,31,30,31,30,31],BA=function(r){PA(t,r);var e=NA(t);function t(){var n;DA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),of(dl(n),"priority",90),of(dl(n),"subPriority",1),of(dl(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return AA(t,[{key:"parse",value:function(i,a,o){switch(a){case"d":return et(ft.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=nk(o),l=i.getUTCMonth();return s?a>=1&&a<=$A[l]:a>=1&&a<=IA[l]}},{key:"set",value:function(i,a,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),t}($e);function hl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hl=function(t){return typeof t}:hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(r)}function HA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Bg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function FA(r,e,t){return e&&Bg(r.prototype,e),t&&Bg(r,t),r}function zA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Wd(r,e)}function Wd(r,e){return Wd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wd(r,e)}function VA(r){var e=UA();return function(){var n=_u(r),i;if(e){var a=_u(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qA(this,i)}}function qA(r,e){return e&&(hl(e)==="object"||typeof e=="function")?e:pl(r)}function pl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function UA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _u(r){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(r)}function sf(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var WA=function(r){zA(t,r);var e=VA(t);function t(){var n;HA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),sf(pl(n),"priority",90),sf(pl(n),"subpriority",1),sf(pl(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return FA(t,[{key:"parse",value:function(i,a,o){switch(a){case"D":case"DD":return et(ft.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=nk(o);return s?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(i,a,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),t}($e);function Wp(r,e,t){var n,i,a,o,s,l,u,c;ce(2,arguments);var f=pi(),d=ve((n=(i=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:f.weekStartsOn)!==null&&i!==void 0?i:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ge(r),p=ve(e),v=h.getUTCDay(),m=p%7,g=(m+7)%7,b=(g<d?7:0)+p-v;return h.setUTCDate(h.getUTCDate()+b),h}function vl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vl=function(t){return typeof t}:vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(r)}function jA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Hg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function YA(r,e,t){return e&&Hg(r.prototype,e),t&&Hg(r,t),r}function GA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&jd(r,e)}function jd(r,e){return jd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jd(r,e)}function KA(r){var e=JA();return function(){var n=Cu(r),i;if(e){var a=Cu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return XA(this,i)}}function XA(r,e){return e&&(vl(e)==="object"||typeof e=="function")?e:Yd(r)}function Yd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cu(r){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(r)}function Fg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var QA=function(r){GA(t,r);var e=KA(t);function t(){var n;jA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Fg(Yd(n),"priority",90),Fg(Yd(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return YA(t,[{key:"parse",value:function(i,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=Wp(i,o,s),i.setUTCHours(0,0,0,0),i}}]),t}($e);function ml(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ml=function(t){return typeof t}:ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(r)}function ZA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function eP(r,e,t){return e&&zg(r.prototype,e),t&&zg(r,t),r}function tP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Gd(r,e)}function Gd(r,e){return Gd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Gd(r,e)}function rP(r){var e=iP();return function(){var n=Su(r),i;if(e){var a=Su(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nP(this,i)}}function nP(r,e){return e&&(ml(e)==="object"||typeof e=="function")?e:Kd(r)}function Kd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Su(r){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Su(r)}function Vg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var aP=function(r){tP(t,r);var e=rP(t);function t(){var n;ZA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Vg(Kd(n),"priority",90),Vg(Kd(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return eP(t,[{key:"parse",value:function(i,a,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(a){case"e":case"ee":return dt(ot(a.length,i),l);case"eo":return dt(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=Wp(i,o,s),i.setUTCHours(0,0,0,0),i}}]),t}($e);function gl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gl=function(t){return typeof t}:gl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(r)}function oP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function sP(r,e,t){return e&&qg(r.prototype,e),t&&qg(r,t),r}function lP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Xd(r,e)}function Xd(r,e){return Xd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xd(r,e)}function uP(r){var e=fP();return function(){var n=Ou(r),i;if(e){var a=Ou(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return cP(this,i)}}function cP(r,e){return e&&(gl(e)==="object"||typeof e=="function")?e:Jd(r)}function Jd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ou(r){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ou(r)}function Ug(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var dP=function(r){lP(t,r);var e=uP(t);function t(){var n;oP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Ug(Jd(n),"priority",90),Ug(Jd(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return sP(t,[{key:"parse",value:function(i,a,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(a){case"c":case"cc":return dt(ot(a.length,i),l);case"co":return dt(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=Wp(i,o,s),i.setUTCHours(0,0,0,0),i}}]),t}($e);function hP(r,e){ce(2,arguments);var t=ve(e);t%7===0&&(t=t-7);var n=1,i=ge(r),a=i.getUTCDay(),o=t%7,s=(o+7)%7,l=(s<n?7:0)+t-a;return i.setUTCDate(i.getUTCDate()+l),i}function yl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yl=function(t){return typeof t}:yl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(r)}function pP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Wg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function vP(r,e,t){return e&&Wg(r.prototype,e),t&&Wg(r,t),r}function mP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Qd(r,e)}function Qd(r,e){return Qd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qd(r,e)}function gP(r){var e=bP();return function(){var n=Mu(r),i;if(e){var a=Mu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yP(this,i)}}function yP(r,e){return e&&(yl(e)==="object"||typeof e=="function")?e:Zd(r)}function Zd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mu(r){return Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(r)}function jg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var wP=function(r){mP(t,r);var e=gP(t);function t(){var n;pP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),jg(Zd(n),"priority",90),jg(Zd(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return vP(t,[{key:"parse",value:function(i,a,o){var s=function(u){return u===0?7:u};switch(a){case"i":case"ii":return ot(a.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return dt(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return dt(o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return dt(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return dt(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,a){return a>=1&&a<=7}},{key:"set",value:function(i,a,o){return i=hP(i,o),i.setUTCHours(0,0,0,0),i}}]),t}($e);function bl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bl=function(t){return typeof t}:bl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(r)}function kP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Yg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function xP(r,e,t){return e&&Yg(r.prototype,e),t&&Yg(r,t),r}function TP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&eh(r,e)}function eh(r,e){return eh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eh(r,e)}function _P(r){var e=SP();return function(){var n=Eu(r),i;if(e){var a=Eu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return CP(this,i)}}function CP(r,e){return e&&(bl(e)==="object"||typeof e=="function")?e:th(r)}function th(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function SP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eu(r){return Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eu(r)}function Gg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var OP=function(r){TP(t,r);var e=_P(t);function t(){var n;kP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Gg(th(n),"priority",80),Gg(th(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return xP(t,[{key:"parse",value:function(i,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(Up(o),0,0,0),i}}]),t}($e);function wl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wl=function(t){return typeof t}:wl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(r)}function MP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Kg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function EP(r,e,t){return e&&Kg(r.prototype,e),t&&Kg(r,t),r}function DP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&rh(r,e)}function rh(r,e){return rh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rh(r,e)}function AP(r){var e=NP();return function(){var n=Du(r),i;if(e){var a=Du(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return PP(this,i)}}function PP(r,e){return e&&(wl(e)==="object"||typeof e=="function")?e:nh(r)}function nh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Du(r){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Du(r)}function Xg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var RP=function(r){DP(t,r);var e=AP(t);function t(){var n;MP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Xg(nh(n),"priority",80),Xg(nh(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return EP(t,[{key:"parse",value:function(i,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(Up(o),0,0,0),i}}]),t}($e);function kl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kl=function(t){return typeof t}:kl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(r)}function LP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Jg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function IP(r,e,t){return e&&Jg(r.prototype,e),t&&Jg(r,t),r}function $P(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ih(r,e)}function ih(r,e){return ih=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ih(r,e)}function BP(r){var e=FP();return function(){var n=Au(r),i;if(e){var a=Au(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return HP(this,i)}}function HP(r,e){return e&&(kl(e)==="object"||typeof e=="function")?e:ah(r)}function ah(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function FP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Au(r){return Au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Au(r)}function Qg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var zP=function(r){$P(t,r);var e=BP(t);function t(){var n;LP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Qg(ah(n),"priority",80),Qg(ah(n),"incompatibleTokens",["a","b","t","T"]),n}return IP(t,[{key:"parse",value:function(i,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(Up(o),0,0,0),i}}]),t}($e);function xl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(t){return typeof t}:xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(r)}function VP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Zg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function qP(r,e,t){return e&&Zg(r.prototype,e),t&&Zg(r,t),r}function UP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&oh(r,e)}function oh(r,e){return oh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},oh(r,e)}function WP(r){var e=YP();return function(){var n=Pu(r),i;if(e){var a=Pu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jP(this,i)}}function jP(r,e){return e&&(xl(e)==="object"||typeof e=="function")?e:sh(r)}function sh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function YP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pu(r){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(r)}function ey(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var GP=function(r){UP(t,r);var e=WP(t);function t(){var n;VP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),ey(sh(n),"priority",70),ey(sh(n),"incompatibleTokens",["H","K","k","t","T"]),n}return qP(t,[{key:"parse",value:function(i,a,o){switch(a){case"h":return et(ft.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=12}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):!s&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),t}($e);function Tl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tl=function(t){return typeof t}:Tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(r)}function KP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ty(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function XP(r,e,t){return e&&ty(r.prototype,e),t&&ty(r,t),r}function JP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&lh(r,e)}function lh(r,e){return lh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lh(r,e)}function QP(r){var e=eN();return function(){var n=Nu(r),i;if(e){var a=Nu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ZP(this,i)}}function ZP(r,e){return e&&(Tl(e)==="object"||typeof e=="function")?e:uh(r)}function uh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function eN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nu(r){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nu(r)}function ry(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var tN=function(r){JP(t,r);var e=QP(t);function t(){var n;KP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),ry(uh(n),"priority",70),ry(uh(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return XP(t,[{key:"parse",value:function(i,a,o){switch(a){case"H":return et(ft.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=23}},{key:"set",value:function(i,a,o){return i.setUTCHours(o,0,0,0),i}}]),t}($e);function _l(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_l=function(t){return typeof t}:_l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(r)}function rN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ny(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function nN(r,e,t){return e&&ny(r.prototype,e),t&&ny(r,t),r}function iN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ch(r,e)}function ch(r,e){return ch=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ch(r,e)}function aN(r){var e=sN();return function(){var n=Ru(r),i;if(e){var a=Ru(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return oN(this,i)}}function oN(r,e){return e&&(_l(e)==="object"||typeof e=="function")?e:fh(r)}function fh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ru(r){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(r)}function iy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var lN=function(r){iN(t,r);var e=aN(t);function t(){var n;rN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),iy(fh(n),"priority",70),iy(fh(n),"incompatibleTokens",["h","H","k","t","T"]),n}return nN(t,[{key:"parse",value:function(i,a,o){switch(a){case"K":return et(ft.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),t}($e);function Cl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cl=function(t){return typeof t}:Cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(r)}function uN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ay(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function cN(r,e,t){return e&&ay(r.prototype,e),t&&ay(r,t),r}function fN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&dh(r,e)}function dh(r,e){return dh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},dh(r,e)}function dN(r){var e=pN();return function(){var n=Lu(r),i;if(e){var a=Lu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hN(this,i)}}function hN(r,e){return e&&(Cl(e)==="object"||typeof e=="function")?e:hh(r)}function hh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lu(r){return Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lu(r)}function oy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var vN=function(r){fN(t,r);var e=dN(t);function t(){var n;uN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),oy(hh(n),"priority",70),oy(hh(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return cN(t,[{key:"parse",value:function(i,a,o){switch(a){case"k":return et(ft.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=24}},{key:"set",value:function(i,a,o){var s=o<=24?o%24:o;return i.setUTCHours(s,0,0,0),i}}]),t}($e);function Sl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sl=function(t){return typeof t}:Sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(r)}function mN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function gN(r,e,t){return e&&sy(r.prototype,e),t&&sy(r,t),r}function yN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ph(r,e)}function ph(r,e){return ph=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ph(r,e)}function bN(r){var e=kN();return function(){var n=Iu(r),i;if(e){var a=Iu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wN(this,i)}}function wN(r,e){return e&&(Sl(e)==="object"||typeof e=="function")?e:vh(r)}function vh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iu(r){return Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(r)}function ly(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var xN=function(r){yN(t,r);var e=bN(t);function t(){var n;mN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),ly(vh(n),"priority",60),ly(vh(n),"incompatibleTokens",["t","T"]),n}return gN(t,[{key:"parse",value:function(i,a,o){switch(a){case"m":return et(ft.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCMinutes(o,0,0),i}}]),t}($e);function Ol(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ol=function(t){return typeof t}:Ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(r)}function TN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function uy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function _N(r,e,t){return e&&uy(r.prototype,e),t&&uy(r,t),r}function CN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&mh(r,e)}function mh(r,e){return mh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mh(r,e)}function SN(r){var e=MN();return function(){var n=$u(r),i;if(e){var a=$u(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ON(this,i)}}function ON(r,e){return e&&(Ol(e)==="object"||typeof e=="function")?e:gh(r)}function gh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $u(r){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(r)}function cy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var EN=function(r){CN(t,r);var e=SN(t);function t(){var n;TN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),cy(gh(n),"priority",50),cy(gh(n),"incompatibleTokens",["t","T"]),n}return _N(t,[{key:"parse",value:function(i,a,o){switch(a){case"s":return et(ft.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCSeconds(o,0),i}}]),t}($e);function Ml(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ml=function(t){return typeof t}:Ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(r)}function DN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function AN(r,e,t){return e&&fy(r.prototype,e),t&&fy(r,t),r}function PN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&yh(r,e)}function yh(r,e){return yh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yh(r,e)}function NN(r){var e=LN();return function(){var n=Bu(r),i;if(e){var a=Bu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RN(this,i)}}function RN(r,e){return e&&(Ml(e)==="object"||typeof e=="function")?e:bh(r)}function bh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bu(r){return Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bu(r)}function dy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var IN=function(r){PN(t,r);var e=NN(t);function t(){var n;DN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),dy(bh(n),"priority",30),dy(bh(n),"incompatibleTokens",["t","T"]),n}return AN(t,[{key:"parse",value:function(i,a){var o=function(l){return Math.floor(l*Math.pow(10,-a.length+3))};return dt(ot(a.length,i),o)}},{key:"set",value:function(i,a,o){return i.setUTCMilliseconds(o),i}}]),t}($e);function El(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?El=function(t){return typeof t}:El=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(r)}function $N(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function BN(r,e,t){return e&&hy(r.prototype,e),t&&hy(r,t),r}function HN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&wh(r,e)}function wh(r,e){return wh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wh(r,e)}function FN(r){var e=VN();return function(){var n=Hu(r),i;if(e){var a=Hu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zN(this,i)}}function zN(r,e){return e&&(El(e)==="object"||typeof e=="function")?e:kh(r)}function kh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(r){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(r)}function py(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var qN=function(r){HN(t,r);var e=FN(t);function t(){var n;$N(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),py(kh(n),"priority",10),py(kh(n),"incompatibleTokens",["t","T","x"]),n}return BN(t,[{key:"parse",value:function(i,a){switch(a){case"X":return sn(on.basicOptionalMinutes,i);case"XX":return sn(on.basic,i);case"XXXX":return sn(on.basicOptionalSeconds,i);case"XXXXX":return sn(on.extendedOptionalSeconds,i);case"XXX":default:return sn(on.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),t}($e);function Dl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dl=function(t){return typeof t}:Dl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(r)}function UN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function WN(r,e,t){return e&&vy(r.prototype,e),t&&vy(r,t),r}function jN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&xh(r,e)}function xh(r,e){return xh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xh(r,e)}function YN(r){var e=KN();return function(){var n=Fu(r),i;if(e){var a=Fu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GN(this,i)}}function GN(r,e){return e&&(Dl(e)==="object"||typeof e=="function")?e:Th(r)}function Th(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function KN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fu(r){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(r)}function my(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var XN=function(r){jN(t,r);var e=YN(t);function t(){var n;UN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),my(Th(n),"priority",10),my(Th(n),"incompatibleTokens",["t","T","X"]),n}return WN(t,[{key:"parse",value:function(i,a){switch(a){case"x":return sn(on.basicOptionalMinutes,i);case"xx":return sn(on.basic,i);case"xxxx":return sn(on.basicOptionalSeconds,i);case"xxxxx":return sn(on.extendedOptionalSeconds,i);case"xxx":default:return sn(on.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),t}($e);function Al(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Al=function(t){return typeof t}:Al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(r)}function JN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function QN(r,e,t){return e&&gy(r.prototype,e),t&&gy(r,t),r}function ZN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&_h(r,e)}function _h(r,e){return _h=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_h(r,e)}function eR(r){var e=rR();return function(){var n=zu(r),i;if(e){var a=zu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tR(this,i)}}function tR(r,e){return e&&(Al(e)==="object"||typeof e=="function")?e:Ch(r)}function Ch(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zu(r){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(r)}function yy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var nR=function(r){ZN(t,r);var e=eR(t);function t(){var n;JN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),yy(Ch(n),"priority",40),yy(Ch(n),"incompatibleTokens","*"),n}return QN(t,[{key:"parse",value:function(i){return tk(i)}},{key:"set",value:function(i,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),t}($e);function Pl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pl=function(t){return typeof t}:Pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(r)}function iR(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function by(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function aR(r,e,t){return e&&by(r.prototype,e),t&&by(r,t),r}function oR(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Sh(r,e)}function Sh(r,e){return Sh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Sh(r,e)}function sR(r){var e=uR();return function(){var n=Vu(r),i;if(e){var a=Vu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return lR(this,i)}}function lR(r,e){return e&&(Pl(e)==="object"||typeof e=="function")?e:Oh(r)}function Oh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vu(r){return Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(r)}function wy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var cR=function(r){oR(t,r);var e=sR(t);function t(){var n;iR(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),wy(Oh(n),"priority",20),wy(Oh(n),"incompatibleTokens","*"),n}return aR(t,[{key:"parse",value:function(i){return tk(i)}},{key:"set",value:function(i,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),t}($e),fR={G:new fD,y:new yD,Y:new CD,R:new PD,u:new HD,Q:new jD,q:new ZD,M:new oA,L:new hA,w:new kA,I:new EA,d:new BA,D:new WA,E:new QA,e:new aP,c:new dP,i:new wP,a:new OP,b:new RP,B:new zP,h:new GP,H:new tN,K:new lN,k:new vN,m:new xN,s:new EN,S:new IN,X:new qN,x:new XN,t:new nR,T:new cR};function Nl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nl=function(t){return typeof t}:Nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(r)}function ky(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=dR(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function dR(r,e){if(!!r){if(typeof r=="string")return xy(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xy(r,e)}}function xy(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var hR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vR=/^'([^]*?)'?$/,mR=/''/g,gR=/\S/,yR=/[a-zA-Z]/;function Mh(r,e,t,n){var i,a,o,s,l,u,c,f,d,h,p,v,m,g,b,k,T,x;ce(3,arguments);var w=String(r),_=String(e),C=pi(),H=(i=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:C.locale)!==null&&i!==void 0?i:X1;if(!H.match)throw new RangeError("locale must contain match property");var V=ve((o=(s=(l=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(c=n.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&s!==void 0?s:(d=C.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=ve((p=(v=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(b=n.locale)===null||b===void 0||(k=b.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&m!==void 0?m:C.weekStartsOn)!==null&&v!==void 0?v:(T=C.locale)===null||T===void 0||(x=T.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(_==="")return w===""?ge(t):new Date(NaN);var U={firstWeekContainsDate:V,weekStartsOn:N,locale:H},R=[new rD],S=_.match(pR).map(function(Ee){var we=Ee[0];if(we in yd){var le=yd[we];return le(Ee,H.formatLong)}return Ee}).join("").match(hR),L=[],$=ky(S),y;try{var A=function(){var we=y.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&K1(we)&&uu(we,_,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&G1(we)&&uu(we,_,r);var le=we[0],ht=fR[le];if(ht){var me=ht.incompatibleTokens;if(Array.isArray(me)){var Ae=L.find(function(Ct){return me.includes(Ct.token)||Ct.token===le});if(Ae)throw new RangeError("The format string mustn't contain `".concat(Ae.fullToken,"` and `").concat(we,"` at the same time"))}else if(ht.incompatibleTokens==="*"&&L.length>0)throw new RangeError("The format string mustn't contain `".concat(we,"` and any other token at the same time"));L.push({token:le,fullToken:we});var We=ht.run(w,we,H.match,U);if(!We)return{v:new Date(NaN)};R.push(We.setter),w=We.rest}else{if(le.match(yR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");if(we==="''"?we="'":le==="'"&&(we=bR(we)),w.indexOf(we)===0)w=w.slice(we.length);else return{v:new Date(NaN)}}};for($.s();!(y=$.n()).done;){var B=A();if(Nl(B)==="object")return B.v}}catch(Ee){$.e(Ee)}finally{$.f()}if(w.length>0&&gR.test(w))return new Date(NaN);var K=R.map(function(Ee){return Ee.priority}).sort(function(Ee,we){return we-Ee}).filter(function(Ee,we,le){return le.indexOf(Ee)===we}).map(function(Ee){return R.filter(function(we){return we.priority===Ee}).sort(function(we,le){return le.subPriority-we.subPriority})}).map(function(Ee){return Ee[0]}),Q=ge(t);if(isNaN(Q.getTime()))return new Date(NaN);var D=q1(Q,lu(Q)),P={},q=ky(K),pe;try{for(q.s();!(pe=q.n()).done;){var ke=pe.value;if(!ke.validate(D,U))return new Date(NaN);var qe=ke.set(D,P,U);Array.isArray(qe)?(D=qe[0],YE(P,qe[1])):D=qe}}catch(Ee){q.e(Ee)}finally{q.f()}return D}function bR(r){return r.match(vR)[1].replace(mR,"'")}function wR(r,e){ce(2,arguments);var t=ve(e);return ai(r,-t)}function kR(r,e){var t;ce(1,arguments);var n=ve((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var i=CR(r),a;if(i.date){var o=SR(i.date,n);a=OR(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,u;if(i.time&&(l=MR(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=ER(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(s+l),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(s+l+u)}var Os={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_R=/^([+-])(\d{2})(?::?(\d{2}))?$/;function CR(r){var e={},t=r.split(Os.dateTimeDelimiter),n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Os.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Os.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){var i=Os.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function SR(r,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function OR(r,e){if(e===null)return new Date(NaN);var t=r.match(xR);if(!t)return new Date(NaN);var n=!!t[4],i=po(t[1]),a=po(t[2])-1,o=po(t[3]),s=po(t[4]),l=po(t[5])-1;if(n)return RR(e,s,l)?DR(e,s,l):new Date(NaN);var u=new Date(0);return!PR(e,a,o)||!NR(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}function po(r){return r?parseInt(r):1}function MR(r){var e=r.match(TR);if(!e)return NaN;var t=lf(e[1]),n=lf(e[2]),i=lf(e[3]);return LR(t,n,i)?t*Bp+n*$p+i*1e3:NaN}function lf(r){return r&&parseFloat(r.replace(",","."))||0}function ER(r){if(r==="Z")return 0;var e=r.match(_R);if(!e)return 0;var t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return IR(n,i)?t*(n*Bp+i*$p):NaN}function DR(r,e,t){var n=new Date(0);n.setUTCFullYear(r,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var AR=[31,null,31,30,31,30,31,31,30,31,30,31];function ik(r){return r%400===0||r%4===0&&r%100!==0}function PR(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(AR[e]||(ik(r)?29:28))}function NR(r,e){return e>=1&&e<=(ik(r)?366:365)}function RR(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function LR(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function IR(r,e){return e>=0&&e<=59}function Bo(r,e){ce(2,arguments);var t=ge(r),n=ve(e),i=t.getFullYear(),a=t.getDate(),o=new Date(0);o.setFullYear(i,n,15),o.setHours(0,0,0,0);var s=KE(o);return t.setMonth(n,Math.min(a,s)),t}function Rl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rl=function(t){return typeof t}:Rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(r)}function Xt(r,e){if(ce(2,arguments),Rl(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=ge(r);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Bo(t,e.month)),e.date!=null&&t.setDate(ve(e.date)),e.hours!=null&&t.setHours(ve(e.hours)),e.minutes!=null&&t.setMinutes(ve(e.minutes)),e.seconds!=null&&t.setSeconds(ve(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(ve(e.milliseconds)),t)}function ak(r,e){ce(2,arguments);var t=ge(r),n=ve(e);return t.setHours(n),t}function jp(r,e){ce(2,arguments);var t=ge(r),n=ve(e);return t.setMilliseconds(n),t}function ok(r,e){ce(2,arguments);var t=ge(r),n=ve(e);return t.setMinutes(n),t}function sk(r,e){ce(2,arguments);var t=ge(r),n=ve(e);return t.setSeconds(n),t}function Fi(r,e){ce(2,arguments);var t=ge(r),n=ve(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(n),t)}function Ea(r,e){ce(2,arguments);var t=ve(e);return cn(r,-t)}function Ll(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ll=function(t){return typeof t}:Ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(r)}function $R(r,e){if(ce(2,arguments),!e||Ll(e)!=="object")return new Date(NaN);var t=e.years?ve(e.years):0,n=e.months?ve(e.months):0,i=e.weeks?ve(e.weeks):0,a=e.days?ve(e.days):0,o=e.hours?ve(e.hours):0,s=e.minutes?ve(e.minutes):0,l=e.seconds?ve(e.seconds):0,u=Ea(r,n+t*12),c=wR(u,a+i*7),f=s+o*60,d=l+f*60,h=d*1e3,p=new Date(c.getTime()-h);return p}function BR(r,e){ce(2,arguments);var t=ve(e);return z1(r,-t)}const sa=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},HR={},FR={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},zR=ue("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),VR=ue("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),qR=ue("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),UR=ue("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),WR=[zR,VR,qR,UR];function jR(r,e){return z(),X("svg",FR,WR)}const Sc=sa(HR,[["render",jR]]),YR={},GR={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},KR=ue("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),XR=ue("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),JR=[KR,XR];function QR(r,e){return z(),X("svg",GR,JR)}const ZR=sa(YR,[["render",QR]]),eL={},tL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},rL=ue("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),nL=[rL];function iL(r,e){return z(),X("svg",tL,nL)}const Ty=sa(eL,[["render",iL]]),aL={},oL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},sL=ue("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),lL=[sL];function uL(r,e){return z(),X("svg",oL,lL)}const _y=sa(aL,[["render",uL]]),cL={},fL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},dL=ue("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),hL=ue("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),pL=[dL,hL];function vL(r,e){return z(),X("svg",fL,pL)}const lk=sa(cL,[["render",vL]]),mL={},gL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},yL=ue("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),bL=[yL];function wL(r,e){return z(),X("svg",gL,bL)}const uk=sa(mL,[["render",wL]]),kL={},xL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},TL=ue("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),_L=[TL];function CL(r,e){return z(),X("svg",xL,_L)}const ck=sa(kL,[["render",CL]]),Cy=(r,e)=>{const t=Mh(r,e.slice(0,r.length),new Date);return Io(t)&&V1(t)?t:null},SL=(r,e)=>{if(typeof e=="string")return Cy(r,e);if(Array.isArray(e)){let t=null;for(const n of e)if(t=Cy(r,n),t)break;return t}return typeof e=="function"?e(r):null},Y=r=>r?new Date(r):new Date,OL=(r,e)=>{if(e){const n=(r.getMonth()+1).toString().padStart(2,"0"),i=r.getDate().toString().padStart(2,"0"),a=r.getHours().toString().padStart(2,"0"),o=r.getMinutes().toString().padStart(2,"0");return`${r.getFullYear()}-${n}-${i}T${a}:${o}:00.000Z`}const t=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());return new Date(t).toISOString()},vn=r=>{let e=Y(JSON.parse(JSON.stringify(r)));return e=ak(e,0),e=ok(e,0),e=sk(e,0),e=jp(e,0),e},Er=(r,e,t,n)=>{let i=r?Y(r):Y();return(e||e===0)&&(i=ak(i,+e)),(t||t===0)&&(i=ok(i,+t)),(n||n===0)&&(i=sk(i,+n)),jp(i,0)},Wt=(r,e)=>!r||!e?!1:zp(vn(r),vn(e)),Ge=(r,e)=>!r||!e?!1:J1(vn(r),vn(e)),er=(r,e)=>!r||!e?!1:Fp(vn(r),vn(e)),fk=(r,e,t)=>r&&r[0]&&r[1]?er(t,r[0])&&Wt(t,r[1]):r&&r[0]&&e?er(t,r[0])&&Wt(t,e)||Wt(t,r[0])&&er(t,e):!1,vo=Za({menuFocused:!1,shiftKeyInMenu:!1}),dk=()=>{const r=t=>{vo.menuFocused=t},e=t=>{vo.shiftKeyInMenu!==t&&(vo.shiftKeyInMenu=t)};return{control:ne(()=>({shiftKeyInMenu:vo.shiftKeyInMenu,menuFocused:vo.menuFocused})),setMenuFocused:r,setShiftKey:e}};function Yp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Eh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}r.exports=e.default})(Eh,Eh.exports);const ML=Yp(Eh.exports);var Dh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}r.exports=e.default})(Dh,Dh.exports);const Sy=Yp(Dh.exports);function EL(r,e){var t=NL(e);return t.formatToParts?AL(t,r):PL(t,r)}var DL={year:0,month:1,day:2,hour:3,minute:4,second:5};function AL(r,e){try{for(var t=r.formatToParts(e),n=[],i=0;i<t.length;i++){var a=DL[t[i].type];a>=0&&(n[a]=parseInt(t[i].value,10))}return n}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function PL(r,e){var t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var uf={};function NL(r){if(!uf[r]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),t=e==="06/25/2014, 00:00:00"||e==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";uf[r]=t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return uf[r]}function Gp(r,e,t,n,i,a,o){var s=new Date(0);return s.setUTCFullYear(r,e,t),s.setUTCHours(n,i,a,o),s}var Oy=36e5,RL=6e4,cf={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Kp(r,e,t){var n,i;if(r===""||(n=cf.timezoneZ.exec(r),n))return 0;var a;if(n=cf.timezoneHH.exec(r),n)return a=parseInt(n[1],10),My(a)?-(a*Oy):NaN;if(n=cf.timezoneHHMM.exec(r),n){a=parseInt(n[1],10);var o=parseInt(n[2],10);return My(a,o)?(i=Math.abs(a)*Oy+o*RL,a>0?-i:i):NaN}if($L(r)){e=new Date(e||Date.now());var s=t?e:LL(e),l=Ah(s,r),u=t?l:IL(e,l,r);return-u}return NaN}function LL(r){return Gp(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}function Ah(r,e){var t=EL(r,e),n=Gp(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime(),i=r.getTime(),a=i%1e3;return i-=a>=0?a:1e3+a,n-i}function IL(r,e,t){var n=r.getTime(),i=n-e,a=Ah(new Date(i),t);if(e===a)return e;i-=a-e;var o=Ah(new Date(i),t);return a===o?a:Math.max(a,o)}function My(r,e){return-23<=r&&r<=23&&(e==null||0<=e&&e<=59)}var Ey={};function $L(r){if(Ey[r])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:r}),Ey[r]=!0,!0}catch{return!1}}var hk=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ff=36e5,Dy=6e4,BL=2,Qt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:hk};function Ph(r,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(r===null)return new Date(NaN);var t=e||{},n=t.additionalDigits==null?BL:ML(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]")return new Date(r.getTime());if(typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]")return new Date(r);if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var i=HL(r),a=FL(i.date,n),o=a.year,s=a.restDateString,l=zL(s,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(i.time&&(c=VL(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||t.timeZone){if(f=Kp(i.timeZone||t.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=Sy(new Date(u+c)),f=Sy(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function HL(r){var e={},t=Qt.dateTimePattern.exec(r),n;if(t?(e.date=t[1],n=t[3]):(t=Qt.datePattern.exec(r),t?(e.date=t[1],n=t[2]):(e.date=null,n=r)),n){var i=Qt.timeZone.exec(n);i?(e.time=n.replace(i[1],""),e.timeZone=i[1].trim()):e.time=n}return e}function FL(r,e){var t=Qt.YYY[e],n=Qt.YYYYY[e],i;if(i=Qt.YYYY.exec(r)||n.exec(r),i){var a=i[1];return{year:parseInt(a,10),restDateString:r.slice(a.length)}}if(i=Qt.YY.exec(r)||t.exec(r),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:r.slice(o.length)}}return{year:null}}function zL(r,e){if(e===null)return null;var t,n,i,a;if(r.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(t=Qt.MM.exec(r),t)return n=new Date(0),i=parseInt(t[1],10)-1,Py(e,i)?(n.setUTCFullYear(e,i),n):new Date(NaN);if(t=Qt.DDD.exec(r),t){n=new Date(0);var o=parseInt(t[1],10);return WL(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(t=Qt.MMDD.exec(r),t){n=new Date(0),i=parseInt(t[1],10)-1;var s=parseInt(t[2],10);return Py(e,i,s)?(n.setUTCFullYear(e,i,s),n):new Date(NaN)}if(t=Qt.Www.exec(r),t)return a=parseInt(t[1],10)-1,Ny(e,a)?Ay(e,a):new Date(NaN);if(t=Qt.WwwD.exec(r),t){a=parseInt(t[1],10)-1;var l=parseInt(t[2],10)-1;return Ny(e,a,l)?Ay(e,a,l):new Date(NaN)}return null}function VL(r){var e,t,n;if(e=Qt.HH.exec(r),e)return t=parseFloat(e[1].replace(",",".")),df(t)?t%24*ff:NaN;if(e=Qt.HHMM.exec(r),e)return t=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),df(t,n)?t%24*ff+n*Dy:NaN;if(e=Qt.HHMMSS.exec(r),e){t=parseInt(e[1],10),n=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return df(t,n,i)?t%24*ff+n*Dy+i*1e3:NaN}return null}function Ay(r,e,t){e=e||0,t=t||0;var n=new Date(0);n.setUTCFullYear(r,0,4);var i=n.getUTCDay()||7,a=e*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var qL=[31,28,31,30,31,30,31,31,30,31,30,31],UL=[31,29,31,30,31,30,31,31,30,31,30,31];function pk(r){return r%400===0||r%4===0&&r%100!==0}function Py(r,e,t){if(e<0||e>11)return!1;if(t!=null){if(t<1)return!1;var n=pk(r);if(n&&t>UL[e]||!n&&t>qL[e])return!1}return!0}function WL(r,e){if(e<1)return!1;var t=pk(r);return!(t&&e>366||!t&&e>365)}function Ny(r,e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function df(r,e,t){return!(r!=null&&(r<0||r>=25)||e!=null&&(e<0||e>=60)||t!=null&&(t<0||t>=60))}var Nh={exports:{}},Rh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a]);return n}r.exports=e.default})(Rh,Rh.exports);(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(Rh.exports);function n(a){return a&&a.__esModule?a:{default:a}}function i(a){return(0,t.default)({},a)}r.exports=e.default})(Nh,Nh.exports);const jL=Yp(Nh.exports);function YL(r,e,t){var n=Ph(r,t),i=Kp(e,n,!0),a=new Date(n.getTime()-i),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function GL(r,e,t){if(typeof r=="string"&&!r.match(hk)){var n=jL(t);return n.timeZone=e,Ph(r,n)}var i=Ph(r,t),a=Gp(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=Kp(e,new Date(a));return new Date(a+o)}const KL=(r,e=3)=>{const t=[];for(let n=0;n<r.length;n+=e)t.push([r[n],r[n+1],r[n+2]]);return t},XL=(r,e)=>{const t=[1,2,3,4,5,6,7].map(a=>new Intl.DateTimeFormat(r,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)),n=t.slice(0,e),i=t.slice(e+1,t.length);return[t[e]].concat(...i).concat(...n)},JL=r=>{const e=[];for(let t=+r[0];t<=+r[1];t++)e.push({value:+t,text:`${t}`});return e},QL=(r,e)=>{const t=new Intl.DateTimeFormat(r,{month:e,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(n=>{const i=n<10?`0${n}`:n;return new Date(`2017-${i}-01T00:00:00+00:00`)}).map((n,i)=>({text:t.format(n),value:i}))},ZL=r=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][r],Lt=r=>{var t;const e=M(r);return(t=e==null?void 0:e.$el)!=null?t:e},eI=r=>Object.assign({type:"dot"},r),vk=r=>Array.isArray(r)?!!r[0]&&!!r[1]:!1,qu={prop:r=>`"${r}" prop must be enabled!`,dateArr:r=>`You need to use array as "model-value" binding in order to support "${r}"`},qt=r=>r,Ry=r=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},r),tI=r=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},r),rI=r=>r===null?0:typeof r=="boolean"?r?2:0:+r>=2?+r:2,nI=(r,e,t)=>r||(typeof t=="string"?t:e),iI=r=>typeof r=="boolean"?r?Ry({}):!1:Ry(r),aI=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),oI=r=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},r),Sr=r=>{const e=()=>{if(r.partialRange)return null;throw new Error(qu.prop("partial-range"))},t=ne(()=>({ariaLabels:tI(r.ariaLabels),textInputOptions:Object.assign(aI(),r.textInputOptions),multiCalendars:rI(r.multiCalendars),previewFormat:nI(r.previewFormat,r.format,a()),filters:oI(r.filters),transitions:iI(r.transitions),startTime:d()})),n=y=>{if(r.range)return y();throw new Error(qu.prop("range"))},i=()=>{const y=r.enableSeconds?":ss":"";return r.is24?`HH:mm${y}`:`hh:mm${y} aa`},a=()=>r.format?r.format:r.monthPicker?"MM/yyyy":r.timePicker?i():r.weekPicker?"MM/dd/yyyy":r.yearPicker?"yyyy":r.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",o=(y,A)=>{if(typeof r.format=="function")return r.format(y);const B=A||a(),K=r.formatLocale?{locale:r.formatLocale}:void 0;return Array.isArray(y)?`${$o(y[0],B,K)} ${r.modelAuto&&!y[1]?"":t.value.textInputOptions.rangeSeparator||"-"} ${y[1]?$o(y[1],B,K):""}`:$o(y,B,K)},s=y=>r.timezone?YL(y,r.timezone):y,l=y=>r.timezone?GL(y,r.timezone):y,u=ne(()=>y=>{var A;return(A=r.hideNavigation)==null?void 0:A.includes(y)}),c=y=>{const A=r.maxDate?er(s(y),s(Y(r.maxDate))):!1,B=r.minDate?Wt(s(y),s(Y(r.minDate))):!1,K=g(y,r.disabledDates),Q=t.value.filters.months.map(ke=>+ke).includes(Xe(y)),D=r.disabledWeekDays.length?r.disabledWeekDays.some(ke=>+ke===GE(y)):!1,P=r.allowedDates.length?!r.allowedDates.some(ke=>Ge(s(Y(ke)),s(y))):!1,q=Je(y),pe=q<+r.yearRange[0]||q>+r.yearRange[1];return!(A||B||K||Q||pe||D||P)},f=y=>{const A={hours:Dn(Y()),minutes:An(Y()),seconds:$a(Y())};return Object.assign(A,y)},d=()=>r.range?r.startTime&&Array.isArray(r.startTime)?[f(r.startTime[0]),f(r.startTime[1])]:null:r.startTime&&!Array.isArray(r.startTime)?f(r.startTime):null,h=y=>!c(y),p=y=>Array.isArray(y)?Io(y[0])&&(y[1]?Io(y[1]):!0):y?Io(y):!1,v=y=>y instanceof Date?y:kR(y),m=y=>{const A=gd(s(y),{weekStartsOn:+r.weekStart}),B=qM(s(y),{weekStartsOn:+r.weekStart});return[A,B]},g=(y,A)=>Array.isArray(A)?A.some(B=>Ge(s(Y(B)),s(y))):A(y),b=(y,A,B)=>{let K=y?Y(y):Y();return(A||A===0)&&(K=Bo(K,A)),B&&(K=Fi(K,B)),K},k=y=>Xt(Y(),{hours:Dn(y),minutes:An(y),seconds:$a(y)}),T=y=>Xt(Y(),{hours:+y.hours||0,minutes:+y.minutes||0,seconds:+y.seconds||0}),x=(y,A,B,K)=>{if(!y)return!0;if(K){const Q=B==="max"?zp(y,A):Fp(y,A),D={seconds:0,milliseconds:0};return Q||J1(Xt(y,D),Xt(A,D))}return B==="max"?y.getTime()<=A.getTime():y.getTime()>=A.getTime()},w=()=>!r.enableTimePicker||r.monthPicker||r.yearPicker||r.ignoreTimeValidation,_=y=>Array.isArray(y)?[y[0]?k(y[0]):null,y[1]?k(y[1]):null]:k(y),C=y=>{const A=r.maxTime?T(r.maxTime):Y(r.maxDate);return Array.isArray(y)?x(y[0],A,"max",!!r.maxDate)&&x(y[1],A,"max",!!r.maxDate):x(y,A,"max",!!r.maxDate)},H=(y,A)=>{const B=r.minTime?T(r.minTime):Y(r.minDate);return Array.isArray(y)?x(y[0],B,"min",!!r.minDate)&&x(y[1],B,"min",!!r.minDate)&&A:x(y,B,"min",!!r.minDate)&&A},V=y=>{let A=!0;if(!y||w())return!0;const B=!r.minDate&&!r.maxDate?_(y):y;return(r.maxTime||r.maxDate)&&(A=C(qt(B))),(r.minTime||r.minDate)&&(A=H(qt(B),A)),A},N=(y,A)=>{const B=Y(JSON.parse(JSON.stringify(y))),K=[];for(let Q=0;Q<7;Q++){const D=ai(B,Q),P=Xe(D)!==A;K.push({text:r.hideOffsetDates&&P?"":D.getDate(),value:D,current:!P,classData:{}})}return K},U=(y,A)=>{const B=[],K=Y(s(new Date(A,y))),Q=Y(s(new Date(A,y+1,0))),D=gd(K,{weekStartsOn:r.weekStart}),P=q=>{const pe=N(q,y);if(B.push({days:pe}),!B[B.length-1].days.some(ke=>Ge(vn(ke.value),vn(Q)))){const ke=ai(q,7);P(ke)}};if(P(D),r.sixWeeks&&B.length<6){const q=6-B.length;for(let pe=1;pe<=q;pe++){const ke=B[B.length-1],qe=ke.days[ke.days.length-1],Ee=N(ai(qe.value,1),Xe(K));B.push({days:Ee})}}return B},R=(y,A,B)=>[Xt(Y(y),{date:1}),Xt(Y(),{month:A,year:B,date:1})],S=(y,A)=>Wt(...R(r.minDate,y,A))||Ge(...R(r.minDate,y,A)),L=(y,A)=>er(...R(r.maxDate,y,A))||Ge(...R(r.maxDate,y,A)),$=(y,A,B)=>{let K=!1;return r.maxDate&&B&&L(y,A)&&(K=!0),r.minDate&&!B&&S(y,A)&&(K=!0),K};return{checkPartialRangeValue:e,checkRangeEnabled:n,getZonedDate:s,getZonedToUtc:l,formatDate:o,getDefaultPattern:a,validateDate:c,getDefaultStartTime:d,isDisabled:h,isValidDate:p,sanitizeDate:v,getWeekFromDate:m,matchDate:g,setDateMonthOrYear:b,isValidTime:V,getCalendarDays:U,validateMonthYearInRange:(y,A,B,K)=>{let Q=!1;return K?r.minDate&&r.maxDate?Q=$(y,A,B):(r.minDate&&S(y,A)||r.maxDate&&L(y,A))&&(Q=!0):Q=!0,Q},validateMaxDate:L,validateMinDate:S,defaults:t,hideNavigationButtons:u}},Ye=Za({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),hf=te(null),Ms=te(!1),pf=te(!1),vf=te(!1),mf=te(!1),Kt=te(0),Ot=te(0),vi=()=>{const r=ne(()=>Ms.value?[...Ye.selectionGrid,Ye.actionRow].filter(f=>f.length):pf.value?[...Ye.timePicker[0],...Ye.timePicker[1],mf.value?[]:[hf.value],Ye.actionRow].filter(f=>f.length):vf.value?[...Ye.monthPicker,Ye.actionRow]:[Ye.monthYear,...Ye.calendar,Ye.time,Ye.actionRow].filter(f=>f.length)),e=f=>{Kt.value=f?Kt.value+1:Kt.value-1;let d=null;r.value[Ot.value]&&(d=r.value[Ot.value][Kt.value]),d||(Kt.value=f?Kt.value-1:Kt.value+1)},t=f=>{Ot.value===0&&!f||Ot.value===r.value.length&&f||(Ot.value=f?Ot.value+1:Ot.value-1,r.value[Ot.value]?r.value[Ot.value]&&!r.value[Ot.value][Kt.value]&&Kt.value!==0&&(Kt.value=r.value[Ot.value].length-1):Ot.value=f?Ot.value-1:Ot.value+1)},n=f=>{let d=null;r.value[Ot.value]&&(d=r.value[Ot.value][Kt.value]),d?d.focus({preventScroll:!Ms.value}):Kt.value=f?Kt.value-1:Kt.value+1},i=()=>{e(!0),n(!0)},a=()=>{e(!1),n(!1)},o=()=>{t(!1),n(!0)},s=()=>{t(!0),n(!0)},l=(f,d)=>{Ye[d]=f},u=(f,d)=>{Ye[d]=f},c=()=>{Kt.value=0,Ot.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:f=>{hf.value=f},setSelectionGrid:f=>{Ms.value=f,c(),f||(Ye.selectionGrid=[])},setTimePicker:(f,d=!1)=>{pf.value=f,mf.value=d,c(),f||(Ye.timePicker[0]=[],Ye.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{Ye.timePicker[d]=f},arrowRight:i,arrowLeft:a,arrowUp:o,arrowDown:s,clearArrowNav:()=>{Ye.monthYear=[],Ye.calendar=[],Ye.time=[],Ye.actionRow=[],Ye.selectionGrid=[],Ye.timePicker[0]=[],Ye.timePicker[1]=[],Ms.value=!1,pf.value=!1,mf.value=!1,vf.value=!1,c(),hf.value=null},setMonthPicker:f=>{vf.value=f,c()},refSets:Ye}},Ly=r=>Array.isArray(r),Ci=r=>Array.isArray(r),Iy=r=>Array.isArray(r)&&r.length===2,sI=(r,e,t,n)=>{const{getDefaultStartTime:i,isDisabled:a,sanitizeDate:o,getWeekFromDate:s,setDateMonthOrYear:l,validateMonthYearInRange:u,defaults:c}=Sr(r),f=ne({get:()=>r.internalModelValue,set:O=>{!r.readonly&&!r.disabled&&e("update:internal-model-value",O)}}),d=te([]);eo(f,()=>k());const h=te([{month:Xe(Y()),year:Je(Y())}]),p=Za({hours:r.range?[Dn(Y()),Dn(Y())]:Dn(Y()),minutes:r.range?[An(Y()),An(Y())]:An(Y()),seconds:r.range?[0,0]:0}),v=ne(()=>O=>h.value[O]?h.value[O].month:0),m=ne(()=>O=>h.value[O]?h.value[O].year:0),g=(O,W,oe)=>{h.value[O].month=W===null?h.value[O].month:W,h.value[O].year=oe===null?h.value[O].year:oe},b=(O,W)=>{p[O]=W};pr(()=>{f.value||(r.startDate&&(g(0,Xe(Y(r.startDate)),Je(Y(r.startDate))),c.value.multiCalendars&&sr(0)),c.value.startTime&&R()),k(!0)});const k=(O=!1)=>{if(f.value)return Array.isArray(f.value)?C(O):x(f.value);if(r.timePicker)return H();if(r.monthPicker&&!r.range)return V();if(r.yearPicker&&!r.range)return N();if(c.value.multiCalendars)return T(Y(),O)},T=(O,W=!1)=>{if((!c.value.multiCalendars||!r.multiStatic||W)&&g(0,Xe(O),Je(O)),c.value.multiCalendars)for(let oe=1;oe<=c.value.multiCalendars;oe++){const he=Xt(Y(),{month:v.value(oe-1),year:m.value(oe-1)}),Be=F1(he,{months:1});h.value[oe]={month:Xe(Be),year:Je(Be)}}},x=O=>{T(O),b("hours",Dn(O)),b("minutes",An(O)),b("seconds",$a(O))},w=(O,W)=>{T(O[0],W);const oe=he=>[he(O[0]),O[1]?he(O[1]):he(Y())];b("hours",oe(Dn)),b("minutes",oe(An)),b("seconds",oe($a))},_=(O,W)=>{if(r.range&&!r.multiDates)return w(O,W);if(r.multiDates){const oe=O[O.length-1];return x(oe)}},C=O=>{const W=f.value;_(W,O),c.value.multiCalendars&&r.multiCalendarsSolo&&L()},H=()=>{if(R(),!r.range)f.value=Er(Y(),p.hours,p.minutes,U());else{const O=p.hours,W=p.minutes;f.value=[Er(Y(),O[0],W[0],U()),Er(Y(),O[1],W[1],U(!1))]}},V=()=>{f.value=l(Y(),v.value(0),m.value(0))},N=()=>{f.value=Y()},U=(O=!0)=>r.enableSeconds?Array.isArray(p.seconds)?O?p.seconds[0]:p.seconds[1]:p.seconds:0,R=()=>{const O=i();if(O){const W=Array.isArray(O),oe=W?[+O[0].hours,+O[1].hours]:+O.hours,he=W?[+O[0].minutes,+O[1].minutes]:+O.minutes,Be=W?[+O[0].seconds,+O[1].seconds]:+O.seconds;b("hours",oe),b("minutes",he),r.enableSeconds&&b("seconds",Be)}},S=()=>Array.isArray(f.value)&&f.value.length?f.value[f.value.length-1]:null,L=()=>{if(Array.isArray(f.value)&&f.value.length===2){const O=Y(Y(f.value[1]?f.value[1]:cn(f.value[0],1))),[W,oe]=[Xe(f.value[0]),Je(f.value[0])],[he,Be]=[Xe(f.value[1]),Je(f.value[1])];(W!==he||W===he&&oe!==Be)&&r.multiCalendarsSolo&&g(1,Xe(O),Je(O))}},$=O=>{const W=cn(O,1);return{month:Xe(W),year:Je(W)}},y=O=>{const W=Xe(Y(O)),oe=Je(Y(O));if(g(0,W,oe),c.value.multiCalendars>0)for(let he=1;he<c.value.multiCalendars;he++){const Be=$(Xt(Y(O),{year:v.value(he-1),month:m.value(he-1)}));g(he,Be.month,Be.year)}},A=O=>{if(f.value&&Array.isArray(f.value))if(f.value.some(W=>Ge(O,W))){const W=f.value.filter(oe=>!Ge(oe,O));f.value=W.length?W:null}else(r.multiDatesLimit&&+r.multiDatesLimit>f.value.length||!r.multiDatesLimit)&&f.value.push(O);else f.value=[O]},B=(O,W)=>{const oe=er(O,W)?W:O,he=er(W,O)?W:O;return ug({start:oe,end:he})},K=O=>{if(Array.isArray(f.value)&&f.value[0]){const W=zM(O,f.value[0]),oe=B(f.value[0],O),he=oe.length===1?0:oe.filter(Gt=>a(Gt)).length,Be=Math.abs(W)-he;if(r.minRange&&r.maxRange)return Be>=+r.minRange&&Be<=+r.maxRange;if(r.minRange)return Be>=+r.minRange;if(r.maxRange)return Be<=+r.maxRange}return!0},Q=O=>Array.isArray(f.value)&&f.value.length===2?r.fixedStart&&(er(O,f.value[0])||Ge(O,f.value[0]))?[f.value[0],O]:r.fixedEnd&&(Wt(O,f.value[1])||Ge(O,f.value[1]))?[O,f.value[1]]:f.value:[],D=()=>{r.autoApply&&e("auto-apply")},P=()=>{r.autoApply&&e("select-date")},q=O=>!ug({start:O[0],end:O[1]}).some(W=>a(W)),pe=O=>(f.value=s(Y(O.value)),D()),ke=O=>{const W=Er(Y(O.value),p.hours,p.minutes,U());r.multiDates?A(W):f.value=W,t(),D()},qe=()=>{d.value=f.value?f.value.slice():[],d.value.length===2&&!(r.fixedStart||r.fixedEnd)&&(d.value=[])},Ee=(O,W)=>{const oe=[Y(O.value),ai(Y(O.value),+r.autoRange)];q(oe)&&(W&&y(O.value),d.value=oe)},we=O=>{d.value=Q(Y(O.value))},le=O=>r.noDisabledRange?B(d.value[0],O).some(W=>a(W)):!1,ht=(O,W)=>{if(qe(),r.autoRange)return Ee(O,W);if(r.fixedStart||r.fixedEnd)return we(O);d.value[0]?K(Y(O.value))&&!le(O.value)&&(Wt(Y(O.value),Y(d.value[0]))?d.value.unshift(Y(O.value)):d.value[1]=Y(O.value)):d.value[0]=Y(O.value)},me=O=>{d.value[O]=Er(d.value[O],p.hours[O],p.minutes[O],U(O!==1))},Ae=()=>{d.value.length&&(d.value[0]&&!d.value[1]?me(0):(me(0),me(1),t()),f.value=d.value.slice(),d.value[0]&&d.value[1]&&r.autoApply&&e("auto-apply"),d.value[0]&&!d.value[1]&&r.modelAuto&&r.autoApply&&e("auto-apply"))},We=(O,W=!1)=>{if(!(a(O.value)||!O.current&&r.hideOffsetDates)){if(r.weekPicker)return pe(O);if(!r.range)return ke(O);Ci(p.hours)&&Ci(p.minutes)&&!r.multiDates&&(ht(O,W),Ae())}},Ct=O=>{const W=O.find(oe=>oe.current);return W?JE(W.value):""},sr=O=>{for(let W=O-1;W>=0;W--){const oe=Ea(Xt(Y(),{month:v.value(W+1),year:m.value(W+1)}),1);g(W,Xe(oe),Je(oe))}for(let W=O+1;W<=c.value.multiCalendars-1;W++){const oe=cn(Xt(Y(),{month:v.value(W-1),year:m.value(W-1)}),1);g(W,Xe(oe),Je(oe))}},Gr=O=>l(Y(),v.value(O),m.value(O)),Kr=O=>Er(O,p.hours,p.minutes,U()),la=(O,W)=>{const oe=r.monthPicker?v.value(O)!==W.month||!W.fromNav:m.value(O)!==W.year;if(g(O,W.month,W.year),c.value.multiCalendars&&!r.multiCalendarsSolo&&sr(O),r.monthPicker||r.yearPicker)if(r.range){if(oe){let he=f.value?f.value.slice():[];he.length===2&&he[1]!==null&&(he=[]),he.length?Wt(Gr(O),he[0])?he.unshift(Gr(O)):he[1]=Gr(O):he=[Gr(O)],f.value=he}}else f.value=Gr(O);e("update-month-year",{instance:O,month:W.month,year:W.year}),n(r.multiCalendarsSolo?O:void 0)},bi=async(O=!1)=>{if(r.autoApply&&(r.monthPicker||r.yearPicker)){await ns();const W=r.monthPicker?O:!1;r.range?e("auto-apply",W||!f.value||f.value.length===1):e("auto-apply",W)}t()},Xr=(O,W)=>{const oe=Xt(Y(),{month:v.value(W),year:m.value(W)}),he=O<0?cn(oe,1):Ea(oe,1);u(Xe(he),Je(he),O<0,r.preventMinMaxNavigation)&&(g(W,Xe(he),Je(he)),c.value.multiCalendars&&!r.multiCalendarsSolo&&sr(W),n())},Or=O=>{Ly(O)&&Ly(f.value)&&Ci(p.hours)&&Ci(p.minutes)?(O[0]&&f.value[0]&&(f.value[0]=Er(O[0],p.hours[0],p.minutes[0],U())),O[1]&&f.value[1]&&(f.value[1]=Er(O[1],p.hours[1],p.minutes[1],U(!1)))):r.multiDates&&Array.isArray(f.value)?f.value[f.value.length-1]=Kr(O):!r.range&&!Iy(O)&&(f.value=Kr(O)),e("time-update")},Jr=(O,W=!0,oe=!1)=>{const he=W?O:p.hours,Be=!W&&!oe?O:p.minutes,Gt=oe?O:p.seconds;if(r.range&&Iy(f.value)&&Ci(he)&&Ci(Be)&&Ci(Gt)&&!r.disableTimeRangeValidation){const Rr=ae=>Er(f.value[ae],he[ae],Be[ae],Gt[ae]),F=ae=>jp(f.value[ae],0);if(Ge(f.value[0],f.value[1])&&(Fp(Rr(0),F(1))||zp(Rr(1),F(0))))return}if(b("hours",he),b("minutes",Be),b("seconds",Gt),f.value)if(r.multiDates){const Rr=S();Rr&&Or(Rr)}else Or(f.value);else r.timePicker&&Or(r.range?[Y(),Y()]:Y());t()},ua=(O,W)=>{r.monthChangeOnScroll&&Xr(r.monthChangeOnScroll!=="inverse"?-O.deltaY:O.deltaY,W)},ca=(O,W,oe=!1)=>{r.monthChangeOnArrows&&r.vertical===oe&&wi(O,W)},wi=(O,W)=>{Xr(O==="right"?-1:1,W)};return{time:p,month:v,year:m,modelValue:f,monthYearSelect:bi,isDisabled:a,updateTime:Jr,getWeekNum:Ct,selectDate:We,updateMonthYear:la,handleScroll:ua,getMarker:O=>r.markers.find(W=>Ge(o(O.value),o(W.date))),handleArrow:ca,handleSwipe:wi,selectCurrentDate:()=>{r.range?f.value&&Array.isArray(f.value)&&f.value[0]?f.value=Wt(Y(),f.value[0])?[Y(),f.value[0]]:[f.value[0],Y()]:f.value=[Y()]:f.value=Y(),P()},presetDateRange:(O,W)=>{W||O.length&&O.length<=2&&r.range&&(f.value=O.map(oe=>Y(oe)),P())}}},lI=(r,e,t)=>{const n=te(),{getZonedToUtc:i,getZonedDate:a,formatDate:o,getDefaultPattern:s,checkRangeEnabled:l,checkPartialRangeValue:u,isValidDate:c,setDateMonthOrYear:f,defaults:d}=Sr(e),h=te("");eo(n,()=>{r("internal-model-change",n.value)});const p=D=>{const P=D||Y();return{hours:Dn(P),minutes:An(P),seconds:e.enableSeconds?$a(P):0}},v=D=>({month:Xe(D),year:Je(D)}),m=D=>Array.isArray(D)?l(()=>[Fi(Y(),D[0]),D[1]?Fi(Y(),D[1]):u()]):Fi(Y(),+D),g=D=>Array.isArray(D)?[Er(null,+D[0].hours,+D[0].minutes,D[0].seconds),Er(null,+D[1].hours,+D[1].minutes,D[1].seconds)]:Er(null,D.hours,D.minutes,D==null?void 0:D.seconds),b=D=>Array.isArray(D)?l(()=>[f(null,+D[0].month,+D[0].year),D[1]?f(null,+D[1].month,+D[1].year):u()]):f(null,+D.month,+D.year),k=D=>{if(Array.isArray(D))return D.map(P=>y(P));throw new Error(qu.dateArr("multi-dates"))},T=D=>{if(Array.isArray(D))return[Y(D[0]),Y(D[1])];throw new Error(qu.dateArr("week-picker"))},x=D=>e.modelAuto?Array.isArray(D)?[y(D[0]),y(D[1])]:e.autoApply?[y(D)]:[y(D),null]:Array.isArray(D)?l(()=>[y(D[0]),D[1]?y(D[1]):u()]):y(D),w=()=>{Array.isArray(n.value)&&e.range&&n.value.length===1&&n.value.push(u())},_=()=>{const D=n.value;return[A(D[0]),D[1]?A(D[1]):u()]},C=()=>n.value[1]?_():A(qt(n.value[0])),H=()=>n.value.map(D=>A(D)),V=()=>(w(),e.modelAuto?C():e.multiDates?H():Array.isArray(n.value)?l(()=>_()):A(qt(n.value))),N=D=>D?e.timePicker?g(qt(D)):e.monthPicker?b(qt(D)):e.yearPicker?m(qt(D)):e.multiDates?k(qt(D)):e.weekPicker?T(qt(D)):x(qt(D)):null,U=D=>{const P=N(D);c(qt(P))?(n.value=qt(P),$()):(n.value=null,h.value="")},R=()=>{var D;const P=q=>{var pe;return $o(q,(pe=d.value.textInputOptions)==null?void 0:pe.format)};return`${P(n.value[0])} ${(D=d.value.textInputOptions)==null?void 0:D.rangeSeparator} ${n.value[1]?P(n.value[1]):""}`},S=()=>{var D;return t.value&&n.value?Array.isArray(n.value)?R():$o(n.value,(D=d.value.textInputOptions)==null?void 0:D.format):o(n.value)},L=()=>{var D;return n.value?e.multiDates?n.value.map(P=>o(P)).join("; "):e.textInput&&typeof((D=d.value.textInputOptions)==null?void 0:D.format)=="string"?S():o(n.value):""},$=()=>{!e.format||typeof e.format=="string"?h.value=L():h.value=e.format(n.value)},y=D=>{if(e.utc){const P=new Date(D);return e.utc==="preserve"?new Date(P.getTime()+P.getTimezoneOffset()*6e4):P}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?a(new Date(D)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Mh(D,s(),new Date):a(Mh(D,e.modelType,new Date)):a(new Date(D))},A=D=>e.utc?OL(D,e.utc==="preserve"):e.modelType?e.modelType==="timestamp"?+i(D):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?o(i(D)):o(i(D),e.modelType):i(D),B=D=>{r("update:model-value",D)},K=D=>Array.isArray(n.value)?[D(n.value[0]),n.value[1]?D(n.value[1]):u()]:D(qt(n.value)),Q=D=>B(qt(K(D)));return{inputValue:h,internalModelValue:n,checkBeforeEmit:()=>n.value?e.range?e.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:U,formatInputValue:$,emitModelValue:()=>($(),e.monthPicker?Q(v):e.timePicker?Q(p):e.yearPicker?Q(Je):e.weekPicker?B(n.value):B(V()))}},uI=(r,e)=>{const{validateMonthYearInRange:t,validateMaxDate:n,validateMinDate:i,defaults:a}=Sr(r),o=(f,d)=>{let h=f;return a.value.filters.months.includes(Xe(h))?(h=d?cn(f,1):Ea(f,1),o(h,d)):h},s=(f,d)=>{let h=f;return a.value.filters.years.includes(Je(h))?(h=d?z1(f,1):BR(f,1),s(h,d)):h},l=f=>{const d=Xt(new Date,{month:r.month,year:r.year});let h=f?cn(d,1):Ea(d,1),p=Xe(h),v=Je(h);a.value.filters.months.includes(p)&&(h=o(h,f),p=Xe(h),v=Je(h)),a.value.filters.years.includes(v)&&(h=s(h,f),v=Je(h)),t(p,v,f,r.preventMinMaxNavigation)&&u(p,v)},u=(f,d)=>{e("update-month-year",{month:f,year:d})},c=ne(()=>f=>{if(!r.preventMinMaxNavigation||f&&!r.maxDate||!f&&!r.minDate)return!1;const d=Xt(new Date,{month:r.month,year:r.year}),h=f?cn(d,1):Ea(d,1),p=[Xe(h),Je(h)];return f?!n(...p):!i(...p)});return{handleMonthYearChange:l,isDisabled:c,updateMonthYear:u}};var Il=(r=>(r.center="center",r.left="left",r.right="right",r))(Il||{});const cI=(r,e,t,n)=>{const i=te({top:"0",left:"0",transform:"none"}),a=te(!1),o=ud(n,"teleportCenter");eo(o,()=>{m()});const s=w=>{const _=w.getBoundingClientRect();return{left:_.left+window.scrollX,top:_.top+window.scrollY}},l=w=>{const _=w.getBoundingClientRect();let C=0,H=0;for(;w&&!isNaN(w.offsetLeft)&&!isNaN(w.offsetTop);)C+=w.offsetLeft-w.scrollLeft,H=_.top+w.scrollTop,w=w.offsetParent;return{top:H,left:C}},u=(w,_)=>{i.value.left=`${w+_}px`,i.value.transform="translateX(-100%)"},c=w=>{i.value.left=`${w}px`,i.value.transform="translateX(0)"},f=(w,_,C=!1)=>{n.position===Il.left&&c(w),n.position===Il.right&&u(w,_),n.position===Il.center&&(i.value.left=`${w+_/2}px`,i.value.transform=C?"translate(-50%, -50%)":"translateX(-50%)")},d=w=>{const{width:_,height:C}=w.getBoundingClientRect(),{top:H,left:V}=n.altPosition?l(w):s(w);return{top:H,left:V,width:_,height:C}},h=()=>{const w=Lt(e);if(w){const{top:_,left:C,width:H,height:V}=d(w);i.value.top=`${_+V/2}px`,i.value.transform="translateY(-50%)",f(C,H,!0)}},p=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},v=()=>{const w=Lt(e);i.value=n.altPosition(w)},m=(w=!0)=>{if(!n.inline)return o.value?p():n.altPosition&&typeof n.altPosition!="boolean"?v():(w&&t("recalculate-position"),x())},g=(w,_)=>{const{top:C,left:H,height:V,width:N}=d(w);i.value.top=`${V+C+ +n.offset}px`,f(H,N),k(w,_),a.value=!1},b=(w,_)=>{const{top:C,left:H,width:V}=d(w),{height:N}=_.getBoundingClientRect();i.value.top=`${C-N-+n.offset}px`,f(H,V),k(w,_),a.value=!0},k=(w,_)=>{if(n.autoPosition){const{left:C,width:H}=d(w),{left:V,right:N}=_.getBoundingClientRect();if(V<0)return c(C);if(N>document.documentElement.clientWidth)return u(C,H)}},T=(w,_)=>{const{height:C}=_.getBoundingClientRect(),{top:H,height:V}=w.getBoundingClientRect(),N=window.innerHeight-H-V,U=H;return C<=N?g(w,_):C>N&&C<=U?b(w,_):N>=U?g(w,_):b(w,_)},x=()=>{const w=Lt(e),_=Lt(r);if(w&&_)return n.autoPosition?T(w,_):g(w,_)};return{openOnTop:a,menuPosition:i,setMenuPosition:m,setInitialPosition:h}},va=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["menu"]}],fI=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],dI={all:()=>va,monthYear:()=>va.filter(r=>r.use.includes("month-year")),input:()=>fI,timePicker:()=>va.filter(r=>r.use.includes("time")),action:()=>va.filter(r=>r.use.includes("action")),calendar:()=>va.filter(r=>r.use.includes("calendar")),menu:()=>va.filter(r=>r.use.includes("menu"))},Ii=(r,e,t)=>{const n=[];return dI[e]().forEach(i=>{r[i.name]&&n.push(i.name)}),t&&t.length&&t.forEach(i=>{i.slot&&n.push(i.slot)}),n},Oc=r=>({transitionName:ne(()=>e=>r&&typeof r!="boolean"?e?r.open:r.close:""),showTransition:!!r}),mi={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},hI=["aria-label","aria-disabled","aria-readonly"],pI={key:1,class:"dp__input_wrap"},vI=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],mI={key:2,class:"dp__input_icon"},gI={key:4,class:"dp__clear_icon"},yI=Ht({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...mi},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(r,{expose:e,emit:t}){const n=r,{getDefaultPattern:i,isValidDate:a,defaults:o}=Sr(n),s=te(),l=te(null),u=te(!1),c=ne(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:u.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),f=()=>{t("set-input-date",null),n.autoApply&&(t("set-empty-date"),s.value=null)},d=w=>{var _;return SL(w,((_=o.value.textInputOptions)==null?void 0:_.format)||i())},h=w=>{const{rangeSeparator:_}=o.value.textInputOptions;if(n.range){const[C,H]=w.split(`${_}`);if(C&&H){const V=d(C.trim()),N=d(H.trim());s.value=V&&N?[V,N]:null}}else s.value=d(w)},p=w=>{var _;const{value:C}=w.target;C!==""?(((_=o.value.textInputOptions)==null?void 0:_.openMenu)&&!n.isMenuOpen&&t("open"),h(C),t("set-input-date",s.value)):f(),t("update:input-value",C)},v=()=>{var w,_;((w=o.value.textInputOptions)==null?void 0:w.enterSubmit)&&a(s.value)&&n.inputValue!==""?(t("set-input-date",s.value,!0),s.value=null):((_=o.value.textInputOptions)==null?void 0:_.enterSubmit)&&n.inputValue===""&&(s.value=null,t("clear"))},m=()=>{var w,_;((w=o.value.textInputOptions)==null?void 0:w.tabSubmit)&&a(s.value)&&n.inputValue!==""?(t("set-input-date",s.value,!0),s.value=null):((_=o.value.textInputOptions)==null?void 0:_.tabSubmit)&&n.inputValue===""&&(s.value=null,t("clear"))},g=()=>{u.value=!0,t("focus")},b=w=>{var _;w.preventDefault(),w.stopImmediatePropagation(),w.stopPropagation(),n.textInput&&((_=o.value.textInputOptions)==null?void 0:_.openMenu)&&!n.inlineWithInput?n.isMenuOpen?o.value.textInputOptions.enterSubmit&&t("select-date"):t("open"):n.textInput||t("toggle")},k=()=>{u.value=!1,n.isMenuOpen||t("blur"),n.autoApply&&n.textInput&&s.value&&(t("set-input-date",s.value),t("select-date"),s.value=null)},T=()=>{t("clear")},x=w=>{n.textInput||w.preventDefault()};return e({focusInput:()=>{l.value&&l.value.focus({preventScroll:!0})}}),(w,_)=>{var C;return z(),X("div",{onClick:b,"aria-label":(C=M(o).ariaLabels)==null?void 0:C.input,role:"textbox","aria-multiline":"false","aria-disabled":w.disabled,"aria-readonly":w.readonly},[w.$slots.trigger&&!w.$slots["dp-input"]&&!w.inline?re(w.$slots,"trigger",{key:0}):G("",!0),!w.$slots.trigger&&(!w.inline||w.inlineWithInput)?(z(),X("div",pI,[w.$slots["dp-input"]&&!w.$slots.trigger&&!w.inline?re(w.$slots,"dp-input",{key:0,value:r.inputValue,onInput:p,onEnter:v,onTab:m,onClear:T}):G("",!0),w.$slots["dp-input"]?G("",!0):(z(),X("input",{key:1,ref_key:"inputRef",ref:l,id:w.uid?`dp-input-${w.uid}`:void 0,name:w.name,class:Qe(M(c)),inputmode:w.textInput?"text":"none",placeholder:w.placeholder,disabled:w.disabled,readonly:w.readonly,required:w.required,value:r.inputValue,autocomplete:w.autocomplete,onInput:p,onKeydown:[_e(b,["enter"]),_e(m,["tab"])],onBlur:k,onFocus:g,onKeypress:x},null,42,vI)),w.$slots["input-icon"]&&!w.hideInputIcon?(z(),X("span",mI,[re(w.$slots,"input-icon")])):G("",!0),!w.$slots["input-icon"]&&!w.hideInputIcon&&!w.$slots["dp-input"]?(z(),Re(M(Sc),{key:3,class:"dp__input_icon dp__input_icons"})):G("",!0),w.$slots["clear-icon"]&&r.inputValue&&w.clearable&&!w.disabled&&!w.readonly?(z(),X("span",gI,[re(w.$slots,"clear-icon",{clear:T})])):G("",!0),w.clearable&&!w.$slots["clear-icon"]&&r.inputValue&&!w.disabled&&!w.readonly?(z(),Re(M(ZR),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Nn(T,["stop","prevent"])},null,8,["onClick"])):G("",!0)])):G("",!0)],8,hI)}}}),bI={class:"dp__selection_preview"},wI={class:"dp__action_buttons"},kI=["onKeydown"],xI=Ht({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["close-picker","select-date","invalid-select"],setup(r,{emit:e}){const t=r,{formatDate:n,isValidTime:i,defaults:a}=Sr(t),{buildMatrix:o}=vi(),s=te(null),l=te(null);pr(()=>{t.arrowNavigation&&o([Lt(s),Lt(l)],"actionRow")});const u=ne(()=>t.range&&!t.partialRange&&t.internalModelValue?t.internalModelValue.length===2:!0),c=ne(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!f.value||!d.value||!u.value})),f=ne(()=>!t.enableTimePicker||t.ignoreTimeValidation?!0:i(t.internalModelValue)),d=ne(()=>t.monthPicker?m(t.internalModelValue):!0),h=()=>{const b=a.value.previewFormat;return t.timePicker||t.monthPicker,b(qt(t.internalModelValue))},p=()=>{const b=t.internalModelValue;return a.value.multiCalendars>0?`${n(b[0])} - ${n(b[1])}`:[n(b[0]),n(b[1])]},v=ne(()=>!t.internalModelValue||!t.menuMount?"":typeof a.value.previewFormat=="string"?Array.isArray(t.internalModelValue)?t.internalModelValue.length===2&&t.internalModelValue[1]?p():t.multiDates?t.internalModelValue.map(b=>`${n(b)}`):t.modelAuto?`${n(t.internalModelValue[0])}`:`${n(t.internalModelValue[0])} -`:n(t.internalModelValue):h()),m=b=>{if(!t.monthPicker)return!0;let k=!0;return t.minDate&&t.maxDate?er(Y(b),Y(t.minDate))&&Wt(Y(b),Y(t.maxDate)):(t.minDate&&(k=er(Y(b),Y(t.minDate))),t.maxDate&&(k=Wt(Y(b),Y(t.maxDate))),k)},g=()=>{f.value&&d.value&&u.value?e("select-date"):e("invalid-select")};return(b,k)=>(z(),X("div",{class:"dp__action_row",style:Ta(r.calendarWidth?{width:`${r.calendarWidth}px`}:{})},[ue("div",bI,[b.$slots["action-preview"]?re(b.$slots,"action-preview",{key:0,value:r.internalModelValue}):G("",!0),b.$slots["action-preview"]?G("",!0):(z(),X(Me,{key:1},[Array.isArray(M(v))?G("",!0):(z(),X(Me,{key:0},[dn(Nt(M(v)),1)],64)),Array.isArray(M(v))?(z(!0),X(Me,{key:1},mt(M(v),(T,x)=>(z(),X("div",{key:x},Nt(T),1))),128)):G("",!0)],64))]),ue("div",wI,[b.$slots["action-select"]?re(b.$slots,"action-select",{key:0,value:r.internalModelValue}):G("",!0),b.$slots["action-select"]?G("",!0):(z(),X(Me,{key:1},[b.inline?G("",!0):(z(),X("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:s,tabindex:"0",onClick:k[0]||(k[0]=T=>b.$emit("close-picker")),onKeydown:[k[1]||(k[1]=_e(T=>b.$emit("close-picker"),["enter"])),k[2]||(k[2]=_e(T=>b.$emit("close-picker"),["space"]))]},Nt(b.cancelText),545)),ue("span",{class:Qe(M(c)),tabindex:"0",onKeydown:[_e(g,["enter"]),_e(g,["space"])],onClick:g,"data-test":"select-button",ref_key:"selectButtonRef",ref:l},Nt(b.selectText),43,kI)],64))])],4))}}),TI=["aria-label"],_I={class:"dp__calendar_header",role:"row"},CI={key:0,class:"dp__calendar_header_item",role:"gridcell"},SI=ue("div",{class:"dp__calendar_header_separator"},null,-1),OI=["aria-label"],MI={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},EI={class:"dp__cell_inner"},DI=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseover"],AI=ue("div",{class:"dp__arrow_bottom_tp"},null,-1),PI=Ht({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...mi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space"],setup(r,{expose:e,emit:t}){const n=r,{buildMultiLevelMatrix:i}=vi(),{setDateMonthOrYear:a,defaults:o}=Sr(n),s=te(null),l=te({bottom:"",left:"",transform:""}),u=te([]),c=te(null),f=te(!0),d=te(""),h=te({startX:0,endX:0,startY:0,endY:0}),p=ne(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):XL(n.locale,+n.weekStart));pr(()=>{t("mount",{cmp:"calendar",refs:u}),n.noSwipe||c.value&&(c.value.addEventListener("touchstart",C,{passive:!1}),c.value.addEventListener("touchend",H,{passive:!1}),c.value.addEventListener("touchmove",V,{passive:!1})),n.monthChangeOnScroll&&c.value&&c.value.addEventListener("wheel",R,{passive:!1})});const v=S=>S?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",m=(S,L)=>{if(n.transitions){const $=vn(a(Y(),n.month,n.year));d.value=er(vn(a(Y(),S,L)),$)?o.value.transitions[v(!0)]:o.value.transitions[v(!1)],f.value=!1,ns(()=>{f.value=!0})}},g=ne(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),b=ne(()=>S=>{const L=eI(S);return{dp__marker_dot:L.type==="dot",dp__marker_line:L.type==="line"}}),k=ne(()=>S=>Ge(S,s.value)),T=ne(()=>({dp__calendar:!0,dp__calendar_next:o.value.multiCalendars>0&&n.instance!==0})),x=ne(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),w=(S,L,$)=>{var y,A;if(t("set-hover-date",S),(A=(y=S.marker)==null?void 0:y.tooltip)!=null&&A.length){const B=Lt(u.value[L][$]);if(B){const{width:K,height:Q}=B.getBoundingClientRect();l.value={bottom:`${Q}px`,left:`${K/2}px`,transform:"translateX(-50%)"},s.value=S.value}}},_=()=>{s.value=null},C=S=>{h.value.startX=S.changedTouches[0].screenX,h.value.startY=S.changedTouches[0].screenY},H=S=>{h.value.endX=S.changedTouches[0].screenX,h.value.endY=S.changedTouches[0].screenY,N()},V=S=>{n.vertical&&!n.inline&&S.preventDefault()},N=()=>{const S=n.vertical?"Y":"X";Math.abs(h.value[`start${S}`]-h.value[`end${S}`])>10&&t("handle-swipe",h.value[`start${S}`]>h.value[`end${S}`]?"right":"left")},U=(S,L,$)=>{S&&(Array.isArray(u.value[L])?u.value[L][$]=S:u.value[L]=[S]),n.arrowNavigation&&i(u.value,"calendar")},R=S=>{n.monthChangeOnScroll&&(S.preventDefault(),t("handle-scroll",S))};return e({triggerTransition:m}),(S,L)=>{var $;return z(),X("div",{class:Qe(M(T))},[ue("div",{style:Ta(M(x))},[r.specificMode?G("",!0):(z(),X("div",{key:0,ref_key:"calendarWrapRef",ref:c,class:Qe(M(g)),role:"grid","aria-label":($=M(o).ariaLabels)==null?void 0:$.calendarWrap},[ue("div",_I,[S.weekNumbers?(z(),X("div",CI,Nt(S.weekNumName),1)):G("",!0),(z(!0),X(Me,null,mt(M(p),(y,A)=>(z(),X("div",{class:"dp__calendar_header_item",role:"gridcell",key:A,"data-test":"calendar-header"},[S.$slots["calendar-header"]?re(S.$slots,"calendar-header",{key:0,day:y,index:A}):G("",!0),S.$slots["calendar-header"]?G("",!0):(z(),X(Me,{key:1},[dn(Nt(y),1)],64))]))),128))]),SI,_r(to,{name:d.value,css:!!S.transitions},{default:Te(()=>{var y;return[f.value?(z(),X("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(y=M(o).ariaLabels)==null?void 0:y.calendarDays},[(z(!0),X(Me,null,mt(r.mappedDates,(A,B)=>(z(),X("div",{class:"dp__calendar_row",role:"row",key:B},[S.weekNumbers?(z(),X("div",MI,[ue("div",EI,Nt(r.getWeekNum(A.days)),1)])):G("",!0),(z(!0),X(Me,null,mt(A.days,(K,Q)=>{var D,P,q;return z(),X("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:pe=>U(pe,B,Q),key:Q+B,"aria-selected":K.classData.dp__active_date||K.classData.dp__range_start||K.classData.dp__range_start,"aria-disabled":K.classData.dp__cell_disabled,"aria-label":(P=(D=M(o).ariaLabels)==null?void 0:D.day)==null?void 0:P.call(D,K),tabindex:"0","data-test":K.value,onClick:Nn(pe=>S.$emit("select-date",K),["stop","prevent"]),onKeydown:[_e(pe=>S.$emit("select-date",K),["enter"]),_e(pe=>S.$emit("handle-space",K),["space"])],onMouseover:pe=>w(K,B,Q),onMouseleave:_},[ue("div",{class:Qe(["dp__cell_inner",K.classData])},[S.$slots.day?re(S.$slots,"day",{key:0,day:+K.text,date:K.value}):G("",!0),S.$slots.day?G("",!0):(z(),X(Me,{key:1},[dn(Nt(K.text),1)],64)),K.marker?(z(),X("div",{key:2,class:Qe(M(b)(K.marker)),style:Ta(K.marker.color?{backgroundColor:K.marker.color}:{})},null,6)):G("",!0),M(k)(K.value)?(z(),X("div",{key:3,class:"dp__marker_tooltip",style:Ta(l.value)},[(q=K.marker)!=null&&q.tooltip?(z(),X("div",{key:0,class:"dp__tooltip_content",onClick:L[0]||(L[0]=Nn(()=>{},["stop"]))},[(z(!0),X(Me,null,mt(K.marker.tooltip,(pe,ke)=>(z(),X("div",{key:ke,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?re(S.$slots,"marker-tooltip",{key:0,tooltop:pe,day:K.value}):G("",!0),S.$slots["marker-tooltip"]?G("",!0):(z(),X(Me,{key:1},[ue("div",{class:"dp__tooltip_mark",style:Ta(pe.color?{backgroundColor:pe.color}:{})},null,4),ue("div",null,Nt(pe.text),1)],64))]))),128)),AI])):G("",!0)],4)):G("",!0)],2)],40,DI)}),128))]))),128))],8,OI)):G("",!0)]}),_:3},8,["name","css"])],10,TI))],4)],2)}}}),NI=["aria-label","aria-disabled"],gf=Ht({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(r,{emit:e}){const t=te(null);return pr(()=>e("set-ref",t)),(n,i)=>(z(),X("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=a=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=_e(a=>n.$emit("activate"),["enter"])),i[2]||(i[2]=_e(a=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:t},[ue("div",{class:Qe(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[re(n.$slots,"default")],2)],40,NI))}}),RI=["onKeydown"],LI={class:"dp__selection_grid_header"},II=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],$I=["aria-label","onKeydown"],Ho=Ht({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(r,{expose:e,emit:t}){const n=r,{setSelectionGrid:i,buildMultiLevelMatrix:a,setMonthPicker:o}=vi(),{hideNavigationButtons:s}=Sr(n),l=te(!1),u=te(null),c=te(null),f=te([]),d=te(),h=te(null);U_(()=>{u.value=null}),pr(()=>{ns().then(()=>_()),v(),p(!0)}),kp(()=>p(!1));const p=S=>{var L;n.arrowNavigation&&((L=n.headerRefs)!=null&&L.length?o(S):i(S))},v=()=>{const S=Lt(c);S&&(n.textInput||S.focus({preventScroll:!0}),l.value=S.clientHeight<S.scrollHeight)},m=ne(()=>({dp__overlay:!0})),g=ne(()=>({dp__overlay_col:!0})),b=S=>n.skipActive?!1:S.value===n.modelValue,k=ne(()=>n.items.map(S=>S.filter(L=>L).map(L=>{var $,y,A;const B=n.disabledValues.some(Q=>Q===L.value)||w(L.value),K=($=n.multiModelValue)!=null&&$.length?(y=n.multiModelValue)==null?void 0:y.some(Q=>Ge(Q,Fi(n.monthPicker?Bo(new Date,L.value):new Date,n.monthPicker?n.year:L.value))):b(L);return{...L,className:{dp__overlay_cell_active:K,dp__overlay_cell:!K,dp__overlay_cell_disabled:B,dp__overlay_cell_active_disabled:B&&K,dp__overlay_cell_pad:!0,dp__cell_in_between:(A=n.multiModelValue)!=null&&A.length?H(L.value):!1}}}))),T=ne(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:n.autoApply})),x=ne(()=>{var S,L;return{dp__overlay_container:!0,dp__container_flex:((S=n.items)==null?void 0:S.length)<=6,dp__container_block:((L=n.items)==null?void 0:L.length)>6}}),w=S=>{const L=n.maxValue||n.maxValue===0,$=n.minValue||n.minValue===0;return!L&&!$?!1:L&&$?+S>+n.maxValue||+S<+n.minValue:L?+S>+n.maxValue:$?+S<+n.minValue:!1},_=()=>{const S=Lt(u);if(S){const L=Lt(c);L&&(L.scrollTop=S.offsetTop-L.offsetTop-(L.getBoundingClientRect().height/2-S.getBoundingClientRect().height))}},C=S=>{!n.disabledValues.some(L=>L===S)&&!w(S)&&(t("update:model-value",S),t("selected"))},H=S=>{const L=n.monthPicker?n.year:S;return fk(n.multiModelValue,Fi(n.monthPicker?Bo(new Date,d.value||0):new Date,n.monthPicker?L:d.value||L),Fi(n.monthPicker?Bo(new Date,S):new Date,L))},V=()=>{t("toggle"),t("reset-flow")},N=()=>{n.escClose&&V()},U=(S,L,$,y)=>{S&&(L.value===+n.modelValue&&!n.disabledValues.includes(L.value)&&(u.value=S),n.arrowNavigation&&(Array.isArray(f.value[$])?f.value[$][y]=S:f.value[$]=[S],R()))},R=()=>{var S,L;const $=(S=n.headerRefs)!=null&&S.length?[n.headerRefs].concat(f.value):f.value.concat([n.skipButtonRef?[]:[h.value]]);a(qt($),(L=n.headerRefs)!=null&&L.length?"monthPicker":"selectionGrid")};return e({focusGrid:v}),(S,L)=>{var $;return z(),X("div",{ref_key:"gridWrapRef",ref:c,class:Qe(M(m)),role:"dialog",tabindex:"0",onKeydown:_e(N,["esc"])},[ue("div",{class:Qe(M(x)),role:"grid"},[ue("div",LI,[re(S.$slots,"header")]),S.$slots.overlay?re(S.$slots,"overlay",{key:0}):(z(),X(Me,{key:1},[(z(!0),X(Me,null,mt(M(k),(y,A)=>(z(),X("div",{class:"dp__overlay_row",key:A,role:"row"},[(z(!0),X(Me,null,mt(y,(B,K)=>(z(),X("div",{role:"gridcell",class:Qe(M(g)),key:B.value,"aria-selected":B.value===r.modelValue&&!r.disabledValues.includes(B.value),"aria-disabled":B.className.dp__overlay_cell_disabled,ref_for:!0,ref:Q=>U(Q,B,A,K),tabindex:"0","data-test":B.text,onClick:Q=>C(B.value),onKeydown:[_e(Q=>C(B.value),["enter"]),_e(Q=>C(B.value),["space"])],onMouseover:Q=>d.value=B.value},[ue("div",{class:Qe(B.className)},[S.$slots.item?re(S.$slots,"item",{key:0,item:B}):G("",!0),S.$slots.item?G("",!0):(z(),X(Me,{key:1},[dn(Nt(B.text),1)],64))],2)],42,II))),128))]))),128)),S.$slots["button-icon"]?qs((z(),X("div",{key:0,role:"button","aria-label":($=r.ariaLabels)==null?void 0:$.toggleOverlay,class:Qe(M(T)),tabindex:"0",ref_key:"toggleButton",ref:h,onClick:V,onKeydown:_e(V,["enter"])},[re(S.$slots,"button-icon")],42,$I)),[[Us,!M(s)(r.type)]]):G("",!0)],64))],2)],42,RI)}}}),BI=["aria-label"],$y=Ht({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(r,{emit:e}){const t=r,{transitionName:n,showTransition:i}=Oc(t.transitions),a=te(null);return pr(()=>e("set-ref",a)),(o,s)=>(z(),X(Me,null,[ue("div",{class:"dp__month_year_select",onClick:s[0]||(s[0]=l=>o.$emit("toggle")),onKeydown:[s[1]||(s[1]=_e(l=>o.$emit("toggle"),["enter"])),s[2]||(s[2]=_e(l=>o.$emit("toggle"),["space"]))],role:"button","aria-label":r.ariaLabel,tabindex:"0",ref_key:"elRef",ref:a},[re(o.$slots,"default")],40,BI),_r(to,{name:M(n)(r.showSelectionGrid),css:M(i)},{default:Te(()=>[r.showSelectionGrid?(z(),Re(Ho,Dt({key:0},{modelValue:r.modelValue,items:r.items,disabledValues:r.disabledValues,minValue:r.minValue,maxValue:r.maxValue,escClose:r.escClose,type:r.type,arrowNavigation:r.arrowNavigation,textInput:r.textInput,autoApply:r.autoApply,ariaLabels:r.ariaLabels,hideNavigation:r.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=l=>o.$emit("update:model-value",l)),onToggle:s[4]||(s[4]=l=>o.$emit("toggle"))}),ur({"button-icon":Te(()=>[o.$slots["calendar-icon"]?re(o.$slots,"calendar-icon",{key:0}):G("",!0),o.$slots["calendar-icon"]?G("",!0):(z(),Re(M(Sc),{key:1}))]),_:2},[o.$slots[r.slotName]?{name:"item",fn:Te(({item:l})=>[re(o.$slots,r.slotName,{item:l})]),key:"0"}:void 0,o.$slots[r.overlaySlot]?{name:"overlay",fn:Te(()=>[re(o.$slots,r.overlaySlot)]),key:"1"}:void 0,o.$slots[`${r.overlaySlot}-header`]?{name:"header",fn:Te(()=>[re(o.$slots,`${r.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):G("",!0)]),_:3},8,["name","css"])],64))}}),HI={class:"dp__month_year_row"},FI={class:"dp__month_year_wrap"},zI={class:"dp__month_picker_header"},VI=["aria-label"],qI=["aria-label"],UI=["aria-label"],WI=Ht({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(r,{expose:e,emit:t}){const n=r,{defaults:i}=Sr(n),{transitionName:a,showTransition:o}=Oc(i.value.transitions),{buildMatrix:s}=vi(),{handleMonthYearChange:l,isDisabled:u,updateMonthYear:c}=uI(n,t),f=te(!1),d=te(!1),h=te([null,null,null,null]),p=te(null),v=te(null),m=te(null);pr(()=>{t("mount")});const g=P=>({get:()=>n[P],set:q=>{const pe=P==="month"?"year":"month";t("update-month-year",{[P]:q,[pe]:n[pe]}),t("month-year-select",P==="year"),P==="month"?A(!0):B(!0)}}),b=ne(g("month")),k=ne(g("year")),T=ne(()=>P=>{const q=P==="month";return{showSelectionGrid:(q?f:d).value,items:(q?S:L).value,disabledValues:i.value.filters[q?"months":"years"],minValue:(q?C:w).value,maxValue:(q?H:_).value,headerRefs:q&&n.monthPicker?[p.value,v.value,m.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),x=ne(()=>P=>({month:n.month,year:n.year,items:P==="month"?n.months:n.years,instance:n.instance,updateMonthYear:c,toggle:P==="month"?A:B})),w=ne(()=>n.minDate?Je(Y(n.minDate)):null),_=ne(()=>n.maxDate?Je(Y(n.maxDate)):null),C=ne(()=>{if(n.minDate&&w.value){if(w.value>n.year)return 12;if(w.value===n.year)return Xe(Y(n.minDate))}return null}),H=ne(()=>n.maxDate&&_.value?_.value<n.year?-1:_.value===n.year?Xe(Y(n.maxDate)):null:null),V=ne(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),N=P=>P.reverse(),U=(P,q=!1)=>{const pe=[],ke=qe=>q?N(qe):qe;for(let qe=0;qe<P.length;qe+=3){const Ee=[P[qe],P[qe+1],P[qe+2]];pe.push(ke(Ee))}return q?pe.reverse():pe},R=ne(()=>n.months.find(q=>q.value===n.month)||{text:"",value:0}),S=ne(()=>U(n.months)),L=ne(()=>U(n.years,n.reverseYears)),$=ne(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),y=ne(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),A=(P=!1)=>{K(P),f.value=!f.value,f.value||t("overlay-closed")},B=(P=!1)=>{K(P),d.value=!d.value,d.value||t("overlay-closed")},K=P=>{P||t("reset-flow")},Q=(P=!1)=>{t("update-month-year",{year:P?n.year+1:n.year-1,month:n.month,fromNav:!0})},D=(P,q)=>{n.arrowNavigation&&(h.value[q]=Lt(P),s(h.value,"monthYear"))};return e({toggleMonthPicker:A,toggleYearPicker:B}),(P,q)=>{var pe,ke,qe,Ee,we;return z(),X("div",HI,[P.$slots["month-year"]?re(P.$slots,"month-year",br(Dt({key:0},{month:r.month,year:r.year,months:r.months,years:r.years,updateMonthYear:M(c),handleMonthYearChange:M(l),instance:r.instance}))):(z(),X(Me,{key:1},[!P.monthPicker&&!P.yearPicker?(z(),X(Me,{key:0},[M($)&&!P.vertical?(z(),Re(gf,{key:0,"aria-label":(pe=M(i).ariaLabels)==null?void 0:pe.prevMonth,disabled:M(u)(!1),onActivate:q[0]||(q[0]=le=>M(l)(!1)),onSetRef:q[1]||(q[1]=le=>D(le,0))},{default:Te(()=>[P.$slots["arrow-left"]?re(P.$slots,"arrow-left",{key:0}):G("",!0),P.$slots["arrow-left"]?G("",!0):(z(),Re(M(Ty),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),ue("div",FI,[_r($y,Dt({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ke=M(i).ariaLabels)==null?void 0:ke.openMonthsOverlay,modelValue:M(b),"onUpdate:modelValue":q[2]||(q[2]=le=>Ni(b)?b.value=le:null)},M(T)("month"),{onToggle:A,onSetRef:q[3]||(q[3]=le=>D(le,1))}),ur({default:Te(()=>[P.$slots.month?re(P.$slots,"month",br(Dt({key:0},M(R)))):G("",!0),P.$slots.month?G("",!0):(z(),X(Me,{key:1},[dn(Nt(M(R).text),1)],64))]),_:2},[P.$slots["calendar-icon"]?{name:"calendar-icon",fn:Te(()=>[re(P.$slots,"calendar-icon")]),key:"0"}:void 0,P.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Te(({item:le})=>[re(P.$slots,"month-overlay-value",{text:le.text,value:le.value})]),key:"1"}:void 0,P.$slots["month-overlay"]?{name:"overlay-month",fn:Te(()=>[re(P.$slots,"month-overlay",br(Pn(M(x)("month"))))]),key:"2"}:void 0,P.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Te(()=>[re(P.$slots,"month-overlay-header",{toggle:A})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),_r($y,Dt({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(qe=M(i).ariaLabels)==null?void 0:qe.openYearsOverlay,modelValue:M(k),"onUpdate:modelValue":q[4]||(q[4]=le=>Ni(k)?k.value=le:null)},M(T)("year"),{onToggle:B,onSetRef:q[5]||(q[5]=le=>D(le,2))}),ur({default:Te(()=>[P.$slots.year?re(P.$slots,"year",{key:0,year:r.year}):G("",!0),P.$slots.year?G("",!0):(z(),X(Me,{key:1},[dn(Nt(r.year),1)],64))]),_:2},[P.$slots["calendar-icon"]?{name:"calendar-icon",fn:Te(()=>[re(P.$slots,"calendar-icon")]),key:"0"}:void 0,P.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Te(({item:le})=>[re(P.$slots,"year-overlay-value",{text:le.text,value:le.value})]),key:"1"}:void 0,P.$slots["year-overlay"]?{name:"overlay-year",fn:Te(()=>[re(P.$slots,"year-overlay",br(Pn(M(x)("year"))))]),key:"2"}:void 0,P.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Te(()=>[re(P.$slots,"year-overlay-header",{toggle:B})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),M($)&&P.vertical?(z(),Re(gf,{key:1,"aria-label":(Ee=M(i).ariaLabels)==null?void 0:Ee.prevMonth,disabled:M(u)(!1),onActivate:q[6]||(q[6]=le=>M(l)(!1))},{default:Te(()=>[P.$slots["arrow-up"]?re(P.$slots,"arrow-up",{key:0}):G("",!0),P.$slots["arrow-up"]?G("",!0):(z(),Re(M(uk),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),M(y)?(z(),Re(gf,{key:2,ref:"rightIcon",disabled:M(u)(!0),"aria-label":(we=M(i).ariaLabels)==null?void 0:we.nextMonth,onActivate:q[7]||(q[7]=le=>M(l)(!0)),onSetRef:q[8]||(q[8]=le=>D(le,3))},{default:Te(()=>[P.$slots[P.vertical?"arrow-down":"arrow-right"]?re(P.$slots,P.vertical?"arrow-down":"arrow-right",{key:0}):G("",!0),P.$slots[P.vertical?"arrow-down":"arrow-right"]?G("",!0):(z(),Re(Po(P.vertical?M(ck):M(_y)),{key:1}))]),_:3},8,["disabled","aria-label"])):G("",!0)],64)):G("",!0),P.monthPicker?(z(),Re(Ho,Dt({key:1},M(T)("month"),{"skip-active":P.range,year:r.year,"multi-model-value":M(V),"month-picker":"",modelValue:M(b),"onUpdate:modelValue":q[17]||(q[17]=le=>Ni(b)?b.value=le:null),onToggle:A,onSelected:q[18]||(q[18]=le=>P.$emit("overlay-closed"))}),ur({header:Te(()=>{var le,ht,me;return[ue("div",zI,[ue("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:p,onClick:q[9]||(q[9]=Ae=>Q(!1)),onKeydown:q[10]||(q[10]=_e(Ae=>Q(!1),["enter"]))},[ue("div",{class:"dp__inner_nav",role:"button","aria-label":(le=M(i).ariaLabels)==null?void 0:le.prevMonth},[P.$slots["arrow-left"]?re(P.$slots,"arrow-left",{key:0}):G("",!0),P.$slots["arrow-left"]?G("",!0):(z(),Re(M(Ty),{key:1}))],8,VI)],544),ue("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:v,"aria-label":(ht=M(i).ariaLabels)==null?void 0:ht.openYearsOverlay,tabindex:"0",onClick:q[11]||(q[11]=()=>B(!1)),onKeydown:q[12]||(q[12]=_e(()=>B(!1),["enter"]))},[P.$slots.year?re(P.$slots,"year",{key:0,year:r.year}):G("",!0),P.$slots.year?G("",!0):(z(),X(Me,{key:1},[dn(Nt(r.year),1)],64))],40,qI),ue("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:m,onClick:q[13]||(q[13]=Ae=>Q(!0)),onKeydown:q[14]||(q[14]=_e(Ae=>Q(!0),["enter"]))},[ue("div",{class:"dp__inner_nav",role:"button","aria-label":(me=M(i).ariaLabels)==null?void 0:me.nextMonth},[P.$slots["arrow-right"]?re(P.$slots,"arrow-right",{key:0}):G("",!0),P.$slots["arrow-right"]?G("",!0):(z(),Re(M(_y),{key:1}))],8,UI)],544)]),_r(to,{name:M(a)(d.value),css:M(o)},{default:Te(()=>[d.value?(z(),Re(Ho,Dt({key:0},M(T)("year"),{modelValue:M(k),"onUpdate:modelValue":q[15]||(q[15]=Ae=>Ni(k)?k.value=Ae:null),onToggle:B,onSelected:q[16]||(q[16]=Ae=>P.$emit("overlay-closed"))}),ur({"button-icon":Te(()=>[P.$slots["calendar-icon"]?re(P.$slots,"calendar-icon",{key:0}):G("",!0),P.$slots["calendar-icon"]?G("",!0):(z(),Re(M(Sc),{key:1}))]),_:2},[P.$slots["year-overlay-value"]?{name:"item",fn:Te(({item:Ae})=>[re(P.$slots,"year-overlay-value",{text:Ae.text,value:Ae.value})]),key:"0"}:void 0]),1040,["modelValue"])):G("",!0)]),_:3},8,["name","css"])]}),_:2},[P.$slots["month-overlay-value"]?{name:"item",fn:Te(({item:le})=>[re(P.$slots,"month-overlay-value",{text:le.text,value:le.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):G("",!0),P.yearPicker?(z(),Re(Ho,Dt({key:2},M(T)("year"),{modelValue:M(k),"onUpdate:modelValue":q[19]||(q[19]=le=>Ni(k)?k.value=le:null),"multi-model-value":M(V),"skip-active":P.range,"skip-button-ref":"","year-picker":"",onToggle:B,onSelected:q[20]||(q[20]=le=>P.$emit("overlay-closed"))}),ur({_:2},[P.$slots["year-overlay-value"]?{name:"item",fn:Te(({item:le})=>[re(P.$slots,"year-overlay-value",{text:le.text,value:le.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):G("",!0)],64))])}}}),jI={key:0,class:"dp__time_input"},YI=["aria-label","onKeydown","onClick"],GI=["aria-label","onKeydown","onClick"],KI=["aria-label","onKeydown","onClick"],XI={key:0},JI=["aria-label","onKeydown"],QI=Ht({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...mi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(r,{expose:e,emit:t}){const n=r,{setTimePickerElements:i,setTimePickerBackRef:a}=vi(),{defaults:o}=Sr(n),{transitionName:s,showTransition:l}=Oc(o.value.transitions),u=Za({hours:!1,minutes:!1,seconds:!1}),c=te("AM"),f=te(null),d=te([]);pr(()=>{t("mounted")});const h=(R,S)=>F1(Xt(Y(),R),S),p=(R,S)=>$R(Xt(Y(),R),S),v=ne(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),m=ne(()=>{const R=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?R.concat([{type:"",separator:!0},{type:"seconds"}]):R}),g=ne(()=>m.value.filter(R=>!R.separator)),b=ne(()=>R=>{if(R==="hours"){const S=C(n.hours);return{text:S<10?`0${S}`:`${S}`,value:S}}return{text:n[R]<10?`0${n[R]}`:`${n[R]}`,value:n[R]}}),k=R=>{const S=n.is24?24:12,L=R==="hours"?S:60,$=+n[`${R}GridIncrement`],y=R==="hours"&&!n.is24?$:0,A=[];for(let B=y;B<L;B+=$)A.push({value:B,text:B<10?`0${B}`:`${B}`});return R==="hours"&&!n.is24&&A.push({value:0,text:"12"}),KL(A)},T=R=>n[`no${R[0].toUpperCase()+R.slice(1)}Overlay`],x=R=>{T(R)||(u[R]=!u[R],u[R]||t("overlay-closed"))},w=R=>R==="hours"?Dn:R==="minutes"?An:$a,_=(R,S=!0)=>{const L=S?h:p;t(`update:${R}`,w(R)(L({[R]:+n[R]},{[R]:+n[`${R}Increment`]})))},C=R=>n.is24?R:(R>=12?c.value="PM":c.value="AM",ZL(R)),H=()=>{c.value==="PM"?(c.value="AM",t("update:hours",n.hours-12)):(c.value="PM",t("update:hours",n.hours+12))},V=R=>{u[R]=!0},N=(R,S,L)=>{if(R&&n.arrowNavigation){Array.isArray(d.value[S])?d.value[S][L]=R:d.value[S]=[R];const $=d.value.reduce((y,A)=>A.map((B,K)=>[...y[K]||[],A[K]]),[]);a(n.closeTimePickerBtn),f.value&&($[1]=$[1].concat(f.value)),i($,n.order)}},U=(R,S)=>R==="hours"&&!n.is24?t(`update:${R}`,c.value==="PM"?S+12:S):t(`update:${R}`,S);return e({openChildCmp:V}),(R,S)=>{var L;return R.disabled?G("",!0):(z(),X("div",jI,[(z(!0),X(Me,null,mt(M(m),($,y)=>{var A,B,K;return z(),X("div",{key:y,class:Qe(M(v))},[$.separator?(z(),X(Me,{key:0},[dn(" : ")],64)):(z(),X(Me,{key:1},[ue("div",{class:"dp__inc_dec_button",role:"button","aria-label":(A=M(o).ariaLabels)==null?void 0:A.incrementValue($.type),tabindex:"0",onKeydown:[_e(Q=>_($.type),["enter"]),_e(Q=>_($.type),["space"])],onClick:Q=>_($.type),ref_for:!0,ref:Q=>N(Q,y,0)},[R.$slots["arrow-up"]?re(R.$slots,"arrow-up",{key:0}):G("",!0),R.$slots["arrow-up"]?G("",!0):(z(),Re(M(uk),{key:1}))],40,YI),ue("div",{role:"button","aria-label":(B=M(o).ariaLabels)==null?void 0:B.openTpOverlay($.type),class:Qe(T($.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[_e(Q=>x($.type),["enter"]),_e(Q=>x($.type),["space"])],onClick:Q=>x($.type),ref_for:!0,ref:Q=>N(Q,y,1)},[R.$slots[$.type]?re(R.$slots,$.type,{key:0,text:M(b)($.type).text,value:M(b)($.type).value}):G("",!0),R.$slots[$.type]?G("",!0):(z(),X(Me,{key:1},[dn(Nt(M(b)($.type).text),1)],64))],42,GI),ue("div",{class:"dp__inc_dec_button",role:"button","aria-label":(K=M(o).ariaLabels)==null?void 0:K.decrementValue($.type),tabindex:"0",onKeydown:[_e(Q=>_($.type,!1),["enter"]),_e(Q=>_($.type,!1),["space"])],onClick:Q=>_($.type,!1),ref_for:!0,ref:Q=>N(Q,y,2)},[R.$slots["arrow-down"]?re(R.$slots,"arrow-down",{key:0}):G("",!0),R.$slots["arrow-down"]?G("",!0):(z(),Re(M(ck),{key:1}))],40,KI)],64))],2)}),128)),R.is24?G("",!0):(z(),X("div",XI,[R.$slots["am-pm-button"]?re(R.$slots,"am-pm-button",{key:0,toggle:H,value:c.value}):G("",!0),R.$slots["am-pm-button"]?G("",!0):(z(),X("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(L=M(o).ariaLabels)==null?void 0:L.amPmButton,tabindex:"0",onClick:H,onKeydown:[_e(Nn(H,["prevent"]),["enter"]),_e(Nn(H,["prevent"]),["space"])]},Nt(c.value),41,JI))])),(z(!0),X(Me,null,mt(M(g),($,y)=>(z(),Re(to,{key:y,name:M(s)(u[$.type]),css:M(l)},{default:Te(()=>[u[$.type]?(z(),Re(Ho,{key:0,items:k($.type),"disabled-values":M(o).filters.times[$.type],"esc-close":R.escClose,"aria-labels":M(o).ariaLabels,"hide-navigation":R.hideNavigation,"onUpdate:modelValue":A=>U($.type,A),onSelected:A=>x($.type),onToggle:A=>x($.type),onResetFlow:S[0]||(S[0]=A=>R.$emit("reset-flow")),type:$.type},ur({"button-icon":Te(()=>[R.$slots["clock-icon"]?re(R.$slots,"clock-icon",{key:0}):G("",!0),R.$slots["clock-icon"]?G("",!0):(z(),Re(M(lk),{key:1}))]),_:2},[R.$slots[`${$.type}-overlay-value`]?{name:"item",fn:Te(({item:A})=>[re(R.$slots,`${$.type}-overlay-value`,{text:A.text,value:A.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):G("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ZI=["aria-label"],e$={class:"dp__overlay_container dp__container_flex"},t$={key:1,class:"dp__overlay_row"},r$=["aria-label"],n$=Ht({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(r,{expose:e,emit:t}){const n=r,{buildMatrix:i,setTimePicker:a}=vi(),o=wp(),{hideNavigationButtons:s,defaults:l}=Sr(n),{transitionName:u,showTransition:c}=Oc(l.value.transitions),f=te(null),d=te(null),h=te([]),p=te(null);pr(()=>{t("mount"),!n.timePicker&&n.arrowNavigation?i([Lt(f.value)],"time"):a(!0,n.timePicker)});const v=ne(()=>n.range&&n.modelAuto?vk(n.internalModelValue):!0),m=te(!1),g=N=>({hours:Array.isArray(n.hours)?n.hours[N]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[N]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[N]:n.seconds}),b=ne(()=>{const N=[];if(n.range)for(let U=0;U<2;U++)N.push(g(U));else N.push(g(0));return N}),k=(N,U=!1,R="")=>{U||t("reset-flow"),m.value=N,n.arrowNavigation&&(a(N),N||t("overlay-closed")),ns(()=>{R!==""&&h.value[0]&&h.value[0].openChildCmp(R)})},T=ne(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),x=Ii(o,"timePicker"),w=(N,U,R)=>n.range?U===0?[N,b.value[1][R]]:[b.value[0][R],N]:N,_=N=>{t("update:hours",N)},C=N=>{t("update:minutes",N)},H=N=>{t("update:seconds",N)},V=()=>{p.value&&n.arrowNavigation&&p.value.focus({preventScroll:!0})};return e({toggleTimePicker:k}),(N,U)=>{var R;return z(),X("div",null,[N.timePicker?G("",!0):qs((z(),X("div",{key:0,class:Qe(M(T)),role:"button","aria-label":(R=M(l).ariaLabels)==null?void 0:R.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:f,onKeydown:[U[0]||(U[0]=_e(S=>k(!0),["enter"])),U[1]||(U[1]=_e(S=>k(!0),["space"]))],onClick:U[2]||(U[2]=S=>k(!0))},[N.$slots["clock-icon"]?re(N.$slots,"clock-icon",{key:0}):G("",!0),N.$slots["clock-icon"]?G("",!0):(z(),Re(M(lk),{key:1}))],42,ZI)),[[Us,!M(s)("time")]]),_r(to,{name:M(u)(m.value),css:M(c)},{default:Te(()=>{var S;return[m.value||N.timePicker?(z(),X("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:p,tabindex:"0"},[ue("div",e$,[N.$slots["time-picker-overlay"]?re(N.$slots,"time-picker-overlay",{key:0,hours:r.hours,minutes:r.minutes,seconds:r.seconds,setHours:_,setMinutes:C,setSeconds:H}):G("",!0),N.$slots["time-picker-overlay"]?G("",!0):(z(),X("div",t$,[(z(!0),X(Me,null,mt(M(b),(L,$)=>qs((z(),Re(QI,Dt({key:$},{...N.$props,order:$,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:d.value,disabled:$===0?N.fixedStart:N.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:h,"onUpdate:hours":y=>_(w(y,$,"hours")),"onUpdate:minutes":y=>C(w(y,$,"minutes")),"onUpdate:seconds":y=>H(w(y,$,"seconds")),onMounted:V,onOverlayClosed:V}),ur({_:2},[mt(M(x),(y,A)=>({name:y,fn:Te(B=>[re(N.$slots,y,br(Pn(B)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Us,$===0?!0:M(v)]])),128))])),N.timePicker?G("",!0):qs((z(),X("div",{key:2,ref_key:"closeTimePickerBtn",ref:d,class:Qe(M(T)),role:"button","aria-label":(S=M(l).ariaLabels)==null?void 0:S.closeTimePicker,tabindex:"0",onKeydown:[U[3]||(U[3]=_e(L=>k(!1),["enter"])),U[4]||(U[4]=_e(L=>k(!1),["space"]))],onClick:U[5]||(U[5]=L=>k(!1))},[N.$slots["calendar-icon"]?re(N.$slots,"calendar-icon",{key:0}):G("",!0),N.$slots["calendar-icon"]?G("",!0):(z(),Re(M(Sc),{key:1}))],42,r$)),[[Us,!M(s)("time")]])])],512)):G("",!0)]}),_:3},8,["name","css"])])}}}),i$=(r,e)=>{const{isDisabled:t,matchDate:n,getWeekFromDate:i}=Sr(e),a=te(null),o=te(Y()),s=y=>{!y.current&&e.hideOffsetDates||(a.value=y.value)},l=()=>{a.value=null},u=y=>Array.isArray(r.value)&&e.range&&r.value[0]&&a.value?y?er(a.value,r.value[0]):Wt(a.value,r.value[0]):!0,c=(y,A)=>{const B=()=>r.value?A?r.value[0]||null:r.value[1]:null,K=r.value&&Array.isArray(r.value)?B():null;return Ge(Y(y.value),K)},f=y=>{const A=Array.isArray(r.value)?r.value[0]:null;return y?!Wt(a.value||null,A):!0},d=(y,A=!0)=>(e.range||e.weekPicker)&&Array.isArray(r.value)?e.hideOffsetDates&&!y.current?!1:Ge(Y(y.value),r.value[A?0:1]):e.range?c(y,A)&&f(A)||Ge(y.value,Array.isArray(r.value)?r.value[0]:null)&&u(A):!1,h=(y,A,B)=>Array.isArray(r.value)&&r.value[0]&&r.value.length===1?y?!1:B?er(r.value[0],A.value):Wt(r.value[0],A.value):!1,p=y=>!r.value||e.hideOffsetDates&&!y.current?!1:e.range?e.modelAuto&&Array.isArray(r.value)?Ge(y.value,r.value[0]?r.value[0]:o.value):!1:e.multiDates&&Array.isArray(r.value)?r.value.some(A=>Ge(A,y.value)):Ge(y.value,r.value?r.value:o.value),v=y=>{if(e.autoRange||e.weekPicker){if(a.value){if(e.hideOffsetDates&&!y.current)return!1;const A=ai(a.value,+e.autoRange),B=i(Y(a.value));return e.weekPicker?Ge(B[1],Y(y.value)):Ge(A,Y(y.value))}return!1}return!1},m=y=>{if(e.autoRange||e.weekPicker){if(a.value){const A=ai(a.value,+e.autoRange);if(e.hideOffsetDates&&!y.current)return!1;const B=i(Y(a.value));return e.weekPicker?er(y.value,B[0])&&Wt(y.value,B[1]):er(y.value,a.value)&&Wt(y.value,A)}return!1}return!1},g=y=>{if(e.autoRange||e.weekPicker){if(a.value){if(e.hideOffsetDates&&!y.current)return!1;const A=i(Y(a.value));return e.weekPicker?Ge(A[0],y.value):Ge(a.value,y.value)}return!1}return!1},b=y=>fk(r.value,a.value,y.value),k=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,T=()=>e.modelAuto?vk(e.internalModelValue):!0,x=y=>{if(Array.isArray(r.value)&&r.value.length||e.weekPicker)return!1;const A=e.range?!d(y)&&!d(y,!1):!0;return!t(y.value)&&!p(y)&&!(!y.current&&e.hideOffsetDates)&&A},w=y=>e.range?e.modelAuto?k()&&p(y):!1:p(y),_=y=>e.highlight?n(y.value,e.highlight):!1,C=y=>t(y.value)&&e.highlightDisabledDays===!1,H=y=>e.highlightWeekDays&&e.highlightWeekDays.includes(y.value.getDay()),V=y=>(e.range||e.weekPicker)&&(e.multiCalendars>0?y.current:!0)&&T()&&!(!y.current&&e.hideOffsetDates)&&!p(y)?b(y):!1,N=y=>({dp__cell_offset:!y.current,dp__pointer:!e.disabled&&!(!y.current&&e.hideOffsetDates)&&!t(y.value),dp__cell_disabled:t(y.value),dp__cell_highlight:!C(y)&&(_(y)||H(y))&&!w(y),dp__cell_highlight_active:!C&&(_(y)||H(y))&&w(y),dp__today:!e.noToday&&Ge(y.value,o.value)&&y.current}),U=y=>({dp__active_date:w(y),dp__date_hover:x(y)}),R=y=>({...S(y),...L(y),dp__range_between_week:V(y)&&e.weekPicker}),S=y=>({dp__range_start:e.multiCalendars>0?y.current&&d(y)&&T():d(y)&&T(),dp__range_end:e.multiCalendars>0?y.current&&d(y,!1)&&T():d(y,!1)&&T(),dp__range_between:V(y)&&!e.weekPicker,dp__date_hover_start:h(x(y),y,!0),dp__date_hover_end:h(x(y),y,!1)}),L=y=>({...S(y),dp__cell_auto_range:m(y),dp__cell_auto_range_start:g(y),dp__cell_auto_range_end:v(y)}),$=y=>e.range?e.autoRange?L(y):e.modelAuto?{...U(y),...S(y)}:S(y):e.weekPicker?R(y):U(y);return{setHoverDate:s,clearHoverDate:l,getDayClassData:y=>({...N(y),...$(y),[e.dayClass?e.dayClass(y.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName})}},a$=["id","onKeydown"],o$={key:0,class:"dp__sidebar_left"},s$={key:1,class:"dp__preset_ranges"},l$=["onClick"],u$={key:2,class:"dp__sidebar_right"},c$={key:3,class:"dp__now_wrap"},f$=Ht({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value"],setup(r,{emit:e}){const t=r,{setMenuFocused:n,setShiftKey:i,control:a}=dk(),{getCalendarDays:o,defaults:s}=Sr(t),l=wp(),u=te(null),c=Za({timePicker:!!(!t.enableTimePicker||t.timePicker||t.monthPicker),monthYearInput:!!t.timePicker,calendar:!1}),f=te([]),d=te([]),h=te(null),p=te(null),v=te(0),m=te(!1),g=te(0);pr(()=>{var F;m.value=!0,!((F=t.presetRanges)!=null&&F.length)&&!l["left-sidebar"]&&!l["right-sidebar"]&&Ct();const ae=Lt(p);if(ae&&!t.textInput&&!t.inline&&(n(!0),_()),ae){const St=st=>{!t.monthYearComponent&&!t.timePickerComponent&&!Object.keys(l).length&&st.preventDefault(),st.stopImmediatePropagation(),st.stopPropagation()};ae.addEventListener("pointerdown",St),ae.addEventListener("mousedown",St)}document.addEventListener("resize",Ct)}),kp(()=>{document.removeEventListener("resize",Ct)});const{arrowRight:b,arrowLeft:k,arrowDown:T,arrowUp:x}=vi(),w=F=>{F||F===0?d.value[F].triggerTransition(N.value(F),U.value(F)):d.value.forEach((ae,St)=>ae.triggerTransition(N.value(St),U.value(St)))},_=()=>{const F=Lt(p);F&&F.focus({preventScroll:!0})},C=()=>{var F;((F=t.flow)==null?void 0:F.length)&&g.value!==-1&&(g.value+=1,e("flow-step",g.value),Be())},H=()=>{g.value=-1},{modelValue:V,month:N,year:U,time:R,updateTime:S,updateMonthYear:L,selectDate:$,getWeekNum:y,monthYearSelect:A,handleScroll:B,handleArrow:K,handleSwipe:Q,getMarker:D,selectCurrentDate:P,presetDateRange:q}=sI(t,e,C,w),{setHoverDate:pe,clearHoverDate:ke,getDayClassData:qe}=i$(V,t),Ee=Ii(l,"calendar"),we=Ii(l,"action"),le=Ii(l,"timePicker"),ht=Ii(l,"monthYear"),me=ne(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ae=ne(()=>JL(t.yearRange)),We=ne(()=>QL(t.locale,t.monthNameFormat)),Ct=()=>{const F=Lt(u);F&&(v.value=F.getBoundingClientRect().width)},sr=ne(()=>F=>o(N.value(F),U.value(F))),Gr=ne(()=>s.value.multiCalendars>0&&t.range?[...Array(s.value.multiCalendars).keys()]:[0]),Kr=ne(()=>F=>F===1),la=ne(()=>t.monthPicker||t.timePicker||t.yearPicker),bi=ne(()=>({dp__flex_display:s.value.multiCalendars>0})),Xr=ne(()=>({dp__instance_calendar:s.value.multiCalendars>0})),Or=ne(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly})),Jr=ne(()=>F=>ca(sr,F)),ua=ne(()=>({dp__menu:!0,dp__menu_index:!t.inline,dp__relative:t.inline,[t.menuClassName]:!!t.menuClassName})),ca=(F,ae)=>F.value(ae).map(St=>({...St,days:St.days.map(st=>(st.marker=D(st),st.classData=qe(st),st))})),wi=F=>{F.stopPropagation(),F.preventDefault(),F.stopImmediatePropagation()},O=()=>{t.escClose&&e("close-picker")},W=(F,ae=!1)=>{$(F,ae),t.spaceConfirm&&e("select-date")},oe=F=>{var ae;(ae=t.flow)!=null&&ae.length&&(c[F]=!0,Object.keys(c).filter(St=>!c[St]).length||Be())},he=(F,ae,St,st,...Lr)=>{if(t.flow[g.value]===F){const de=st?ae.value[0]:ae.value;de&&de[St](...Lr)}},Be=()=>{he("month",f,"toggleMonthPicker",!0,!0),he("year",f,"toggleYearPicker",!0,!0),he("calendar",h,"toggleTimePicker",!1,!1,!0),he("time",h,"toggleTimePicker",!1,!0,!0);const F=t.flow[g.value];(F==="hours"||F==="minutes"||F==="seconds")&&he(F,h,"toggleTimePicker",!1,!0,!0,F)},Gt=F=>{if(t.arrowNavigation){if(F==="up")return x();if(F==="down")return T();if(F==="left")return k();if(F==="right")return b()}else F==="left"||F==="up"?K("left",0,F==="up"):K("right",0,F==="down")},Rr=F=>{i(F.shiftKey),!t.disableMonthYearSelect&&F.code==="Tab"&&F.target.classList.contains("dp__menu")&&a.value.shiftKeyInMenu&&(F.preventDefault(),F.stopImmediatePropagation(),e("close-picker"))};return(F,ae)=>{var St;return z(),Re(to,{appear:"",name:(St=M(s).transitions)==null?void 0:St.menuAppear,mode:"out-in",css:!!F.transitions},{default:Te(()=>{var st,Lr;return[ue("div",{id:F.uid?`dp-menu-${F.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:p,role:"dialog",class:Qe(M(ua)),onMouseleave:ae[12]||(ae[12]=(...de)=>M(ke)&&M(ke)(...de)),onClick:wi,onKeydown:[_e(O,["esc"]),ae[13]||(ae[13]=_e(Nn(de=>Gt("left"),["prevent"]),["left"])),ae[14]||(ae[14]=_e(Nn(de=>Gt("up"),["prevent"]),["up"])),ae[15]||(ae[15]=_e(Nn(de=>Gt("down"),["prevent"]),["down"])),ae[16]||(ae[16]=_e(Nn(de=>Gt("right"),["prevent"]),["right"])),Rr]},[(F.disabled||F.readonly)&&F.inline?(z(),X("div",{key:0,class:Qe(M(Or))},null,2)):G("",!0),!F.inline&&!F.teleportCenter?(z(),X("div",{key:1,class:Qe(M(me))},null,2)):G("",!0),ue("div",{class:Qe({dp__menu_content_wrapper:((st=F.presetRanges)==null?void 0:st.length)||!!F.$slots["left-sidebar"]||!!F.$slots["right-sidebar"]})},[F.$slots["left-sidebar"]?(z(),X("div",o$,[re(F.$slots,"left-sidebar")])):G("",!0),(Lr=F.presetRanges)!=null&&Lr.length?(z(),X("div",s$,[(z(!0),X(Me,null,mt(F.presetRanges,(de,Qr)=>(z(),X("div",{key:Qr,style:Ta(de.style||{}),class:"dp__preset_range",onClick:Se=>M(q)(de.range,!!de.slot)},[de.slot?re(F.$slots,de.slot,{key:0,presetDateRange:M(q),label:de.label,range:de.range}):(z(),X(Me,{key:1},[dn(Nt(de.label),1)],64))],12,l$))),128))])):G("",!0),ue("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[ue("div",{class:Qe(M(bi))},[(z(!0),X(Me,null,mt(M(Gr),(de,Qr)=>(z(),X("div",{key:de,class:Qe(M(Xr))},[!F.disableMonthYearSelect&&!F.timePicker?(z(),Re(Po(F.monthYearComponent?F.monthYearComponent:WI),Dt({key:0,ref_for:!0,ref:Se=>{Se&&(f.value[Qr]=Se)},months:M(We),years:M(Ae),month:M(N)(de),year:M(U)(de),instance:de,"internal-model-value":r.internalModelValue},F.$props,{onMount:ae[0]||(ae[0]=Se=>oe("monthYearInput")),onResetFlow:H,onUpdateMonthYear:Se=>M(L)(de,Se),onMonthYearSelect:M(A),onOverlayClosed:_}),ur({_:2},[mt(M(ht),(Se,ds)=>({name:Se,fn:Te(qn=>[re(F.$slots,Se,br(Pn(qn)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):G("",!0),_r(PI,Dt({ref_for:!0,ref:Se=>{Se&&(d.value[Qr]=Se)},"specific-mode":M(la),"get-week-num":M(y),instance:de,"mapped-dates":M(Jr)(de),month:M(N)(de),year:M(U)(de)},F.$props,{"flow-step":g.value,"onUpdate:flow-step":ae[1]||(ae[1]=Se=>g.value=Se),onSelectDate:Se=>M($)(Se,!M(Kr)(de)),onHandleSpace:Se=>W(Se,!M(Kr)(de)),onSetHoverDate:ae[2]||(ae[2]=Se=>M(pe)(Se)),onHandleScroll:Se=>M(B)(Se,de),onHandleSwipe:Se=>M(Q)(Se,de),onMount:ae[3]||(ae[3]=Se=>oe("calendar")),onResetFlow:H}),ur({_:2},[mt(M(Ee),(Se,ds)=>({name:Se,fn:Te(qn=>[re(F.$slots,Se,br(Pn({...qn})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),ue("div",null,[F.$slots["time-picker"]?re(F.$slots,"time-picker",br(Dt({key:0},{time:M(R),updateTime:M(S)}))):(z(),X(Me,{key:1},[F.enableTimePicker&&!F.monthPicker&&!F.weekPicker?(z(),Re(Po(F.timePickerComponent?F.timePickerComponent:n$),Dt({key:0,ref_key:"timePickerRef",ref:h,hours:M(R).hours,minutes:M(R).minutes,seconds:M(R).seconds,"internal-model-value":r.internalModelValue},F.$props,{onMount:ae[4]||(ae[4]=de=>oe("timePicker")),"onUpdate:hours":ae[5]||(ae[5]=de=>M(S)(de)),"onUpdate:minutes":ae[6]||(ae[6]=de=>M(S)(de,!1)),"onUpdate:seconds":ae[7]||(ae[7]=de=>M(S)(de,!1,!0)),onResetFlow:H,onOverlayClosed:_}),ur({_:2},[mt(M(le),(de,Qr)=>({name:de,fn:Te(Se=>[re(F.$slots,de,br(Pn(Se)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):G("",!0)],64))])],512),F.$slots["right-sidebar"]?(z(),X("div",u$,[re(F.$slots,"right-sidebar")])):G("",!0),F.showNowButton?(z(),X("div",c$,[F.$slots["now-button"]?re(F.$slots,"now-button",{key:0,selectCurrentDate:M(P)}):G("",!0),F.$slots["now-button"]?G("",!0):(z(),X("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:ae[8]||(ae[8]=(...de)=>M(P)&&M(P)(...de))},Nt(F.nowButtonLabel),1))])):G("",!0)],2),F.$slots["action-row"]?re(F.$slots,"action-row",br(Dt({key:2},{internalModelValue:r.internalModelValue,selectDate:()=>F.$emit("select-date"),closePicker:()=>F.$emit("close-picker")}))):(z(),X(Me,{key:3},[!F.autoApply||F.keepActionRow?(z(),Re(Po(F.actionRowComponent?F.actionRowComponent:xI),Dt({key:0,"menu-mount":m.value,"calendar-width":v.value,"internal-model-value":r.internalModelValue},F.$props,{onClosePicker:ae[9]||(ae[9]=de=>F.$emit("close-picker")),onSelectDate:ae[10]||(ae[10]=de=>F.$emit("select-date")),onInvalidSelect:ae[11]||(ae[11]=de=>F.$emit("invalid-select"))}),ur({_:2},[mt(M(we),(de,Qr)=>({name:de,fn:Te(Se=>[re(F.$slots,de,br(Pn({...Se})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):G("",!0)],64))],42,a$)]}),_:3},8,["name","css"])}}}),d$=typeof window<"u"?window:void 0,yf=()=>{},h$=r=>W_()?(j_(r),!0):!1,p$=(r,e,t,n)=>{if(!r)return yf;let i=yf;const a=eo(()=>M(r),s=>{i(),s&&(s.addEventListener(e,t,n),i=()=>{s.removeEventListener(e,t,n),i=yf})},{immediate:!0,flush:"post"}),o=()=>{a(),i()};return h$(o),o},v$=(r,e,t,n={})=>{const{window:i=d$,event:a="pointerdown"}=n;return i?p$(i,a,o=>{const s=Lt(r),l=Lt(e);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||t(o)},{passive:!0}):void 0},m$=Ht({__name:"VueDatePicker",props:{...mi},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select"],setup(r,{expose:e,emit:t}){const n=r,i=wp(),a=te(!1),o=ud(n,"modelValue"),s=ud(n,"timezone"),l=te(null),u=te(null),c=te(!1),{setMenuFocused:f,setShiftKey:d}=dk(),{clearArrowNav:h}=vi(),{validateDate:p,isValidTime:v,defaults:m}=Sr(n);pr(()=>{H(n.modelValue),n.inline||(window.addEventListener("scroll",L),window.addEventListener("resize",$)),n.inline&&(a.value=!0)}),kp(()=>{n.inline||(window.removeEventListener("scroll",L),window.removeEventListener("resize",$))});const g=Ii(i,"all",n.presetRanges),b=Ii(i,"input");eo([o,s],()=>{H(o.value)},{deep:!0});const{openOnTop:k,menuPosition:T,setMenuPosition:x,setInitialPosition:w}=cI(l,u,t,n),{inputValue:_,internalModelValue:C,parseExternalModelValue:H,emitModelValue:V,formatInputValue:N,checkBeforeEmit:U}=lI(t,n,c),R=ne(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),S=ne(()=>n.dark?"dp__theme_dark":"dp__theme_light"),L=()=>{a.value&&(n.closeOnScroll?q():n.autoPosition?x():window.removeEventListener("scroll",L))},$=()=>{a.value&&x()},y=()=>{!n.disabled&&!n.readonly&&(w(),a.value=!0,ns().then(()=>{x(),a.value&&t("open")}),a.value||P(),H(n.modelValue))},A=()=>{_.value="",P(),t("update:model-value",null),t("cleared"),q()},B=()=>{const me=C.value;return!me||!Array.isArray(me)&&p(me)?!0:Array.isArray(me)?me.length===2&&p(me[0])&&p(me[1])?!0:p(me[0]):!1},K=()=>{U()&&B()?(V(),q()):t("invalid-select",C.value)},Q=me=>{V(),n.closeOnAutoApply&&!me&&q()},D=(me=!1)=>{n.autoApply&&v(C.value)&&B()&&(n.range&&Array.isArray(C.value)?(n.partialRange||C.value.length===2)&&Q(me):Q(me))},P=()=>{n.textInput||(C.value=null)},q=()=>{n.inline||(a.value&&(a.value=!1,f(!1),d(!1),h(),t("closed"),w(),_.value&&H(o.value)),P(),u.value&&u.value.focusInput())},pe=(me,Ae)=>{if(!me){C.value=null;return}C.value=me,Ae&&(K(),t("text-submit"))},ke=()=>{n.autoApply&&v(C.value)&&V()},qe=()=>a.value?q():y(),Ee=me=>{C.value=me},we=ne(()=>n.textInput&&m.value.textInputOptions.format),le=()=>{we.value&&(c.value=!0,N()),t("focus")},ht=()=>{we.value&&(c.value=!1,N()),t("blur")};return v$(l,u,n.onClickOutside?()=>n.onClickOutside(B):q),e({closeMenu:q,selectDate:K,clearValue:A,openMenu:y,onScroll:L,formatInputValue:N,updateInternalModelValue:Ee}),(me,Ae)=>(z(),X("div",{class:Qe(M(R))},[_r(yI,Dt({ref_key:"inputRef",ref:u,"is-menu-open":a.value,"input-value":M(_),"onUpdate:input-value":Ae[0]||(Ae[0]=We=>Ni(_)?_.value=We:null)},me.$props,{onClear:A,onOpen:y,onSetInputDate:pe,onSetEmptyDate:M(V),onSelectDate:K,onToggle:qe,onClose:q,onFocus:le,onBlur:ht}),ur({_:2},[mt(M(b),(We,Ct)=>({name:We,fn:Te(sr=>[re(me.$slots,We,br(Pn(sr)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),a.value?(z(),Re(q_,{key:0,to:me.teleport,disabled:me.inline},[a.value?(z(),Re(f$,Dt({key:0,ref_key:"dpMenuRef",ref:l,class:M(S),style:M(T),"open-on-top":M(k)},me.$props,{"internal-model-value":M(C),"onUpdate:internal-model-value":Ae[1]||(Ae[1]=We=>Ni(C)?C.value=We:null),onClosePicker:q,onSelectDate:K,onAutoApply:D,onTimeUpdate:ke,onFlowStep:Ae[2]||(Ae[2]=We=>me.$emit("flow-step",We)),onUpdateMonthYear:Ae[3]||(Ae[3]=We=>me.$emit("update-month-year",We)),onInvalidSelect:Ae[4]||(Ae[4]=We=>me.$emit("invalid-select",M(C)))}),ur({_:2},[mt(M(g),(We,Ct)=>({name:We,fn:Te(sr=>[re(me.$slots,We,br(Pn({...sr})))])}))]),1040,["class","style","open-on-top","internal-model-value"])):G("",!0)],8,["to","disabled"])):G("",!0)],2))}}),Xp=(()=>{const r=m$;return r.install=e=>{e.component("Vue3DatePicker",r)},r})(),g$=Object.freeze(Object.defineProperty({__proto__:null,default:Xp},Symbol.toStringTag,{value:"Module"}));Object.entries(g$).forEach(([r,e])=>{r!=="default"&&(Xp[r]=e)});const y$={components:{Datepicker:Xp},data(){return{date:null}}};const b$=r=>(Qw("data-v-e3a2b896"),r=r(),Zw(),r),w$=b$(()=>ue("h2",null,"Date Picker",-1));function k$(r,e,t,n,i,a){const o=Y_("Datepicker");return z(),X(Me,null,[w$,_r(o,{class:"datepicker__wrapper",modelValue:i.date,"onUpdate:modelValue":e[0]||(e[0]=s=>i.date=s)},null,8,["modelValue"])],64)}const mk=kc(y$,[["render",k$],["__scopeId","data-v-e3a2b896"]]),x$=Object.freeze(Object.defineProperty({__proto__:null,default:mk},Symbol.toStringTag,{value:"Module"}));function Mt(r){this.content=r}Mt.prototype={constructor:Mt,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),a=n.content.slice();return i==-1?a.push(t||r,e):(a[i+1]=e,t&&(a[i]=t)),new Mt(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Mt(t)},addToStart:function(r,e){return new Mt([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Mt(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),a=n.find(r);return i.splice(a==-1?i.length:a,0,e,t),new Mt(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Mt.from(r),r.size?new Mt(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Mt.from(r),r.size?new Mt(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Mt.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Mt.from=function(r){if(r instanceof Mt)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Mt(e)};function gk(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),a=e.child(n);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)t++;return t}if(i.content.size||a.content.size){let o=gk(i.content,a.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function yk(r,e,t,n){for(let i=r.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:n};let o=r.child(--i),s=e.child(--a),l=o.nodeSize;if(o==s){t-=l,n-=l;continue}if(!o.sameMarkup(s))return{a:t,b:n};if(o.isText&&o.text!=s.text){let u=0,c=Math.min(o.text.length,s.text.length);for(;u<c&&o.text[o.text.length-u-1]==s.text[s.text.length-u-1];)u++,t--,n--;return{a:t,b:n}}if(o.content.size||s.content.size){let u=yk(o.content,s.content,t-1,n-1);if(u)return u}t-=l,n-=l}}class j{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,a){for(let o=0,s=0;s<t;o++){let l=this.content[o],u=s+l.nodeSize;if(u>e&&n(l,i+s,a||null,o)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let a="",o=!0;return this.nodesBetween(e,t,(s,l)=>{s.isText?(a+=s.text.slice(Math.max(e,l)-l,t-l),o=!n):s.isLeaf?(i?a+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(a+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(a+=n,o=!0)},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new j(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let a=0,o=0;o<t;a++){let s=this.content[a],l=o+s.nodeSize;l>e&&((o<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s=s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),i+=s.nodeSize),o=l}return new j(n,i)}cutByIndex(e,t){return e==t?j.empty:e==0&&t==this.content.length?this:new j(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new j(i,a)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return gk(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return yk(this,e,t,n)}findIndex(e,t=-1){if(e==0)return Es(0,e);if(e==this.size)return Es(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),o=i+a.nodeSize;if(o>=e)return o==e||t>0?Es(n+1,o):Es(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return j.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let t,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new j(t||e,n)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const bf={index:0,offset:0};function Es(r,e){return bf.index=r,bf.offset=e,bf}function Uu(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!Uu(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!Uu(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}class De{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Uu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return De.none;if(e instanceof De)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}}De.none=[];class Wu extends Error{}class Z{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=wk(this.content,e+this.openStart,t);return n&&new Z(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Z(bk(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Z.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(j.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new Z(e,n,i)}}Z.empty=new Z(j.empty,0,0);function bk(r,e,t){let{index:n,offset:i}=r.findIndex(e),a=r.maybeChild(n),{index:o,offset:s}=r.findIndex(t);if(i==e||a.isText){if(s!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(bk(a.content,e-i-1,t-i-1)))}function wk(r,e,t,n){let{index:i,offset:a}=r.findIndex(e),o=r.maybeChild(i);if(a==e||o.isText)return n&&!n.canReplace(i,i,t)?null:r.cut(0,e).append(t).append(r.cut(e));let s=wk(o.content,e-a-1,t);return s&&r.replaceChild(i,o.copy(s))}function T$(r,e,t){if(t.openStart>r.depth)throw new Wu("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new Wu("Inconsistent open depths");return kk(r,e,t,0)}function kk(r,e,t,n){let i=r.index(n),a=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let o=kk(r,e,t,n+1);return a.copy(a.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,s=o.content;return Vi(o,s.cut(0,r.parentOffset).append(t.content).append(s.cut(e.parentOffset)))}else{let{start:o,end:s}=_$(t,r);return Vi(a,Tk(r,o,s,e,n))}else return Vi(a,ju(r,e,n))}function xk(r,e){if(!e.type.compatibleContent(r.type))throw new Wu("Cannot join "+e.type.name+" onto "+r.type.name)}function Lh(r,e,t){let n=r.node(t);return xk(n,e.node(t)),n}function zi(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function Fo(r,e,t,n){let i=(e||r).node(t),a=0,o=e?e.index(t):i.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(zi(r.nodeAfter,n),a++));for(let s=a;s<o;s++)zi(i.child(s),n);e&&e.depth==t&&e.textOffset&&zi(e.nodeBefore,n)}function Vi(r,e){return r.type.checkContent(e),r.copy(e)}function Tk(r,e,t,n,i){let a=r.depth>i&&Lh(r,e,i+1),o=n.depth>i&&Lh(t,n,i+1),s=[];return Fo(null,r,i,s),a&&o&&e.index(i)==t.index(i)?(xk(a,o),zi(Vi(a,Tk(r,e,t,n,i+1)),s)):(a&&zi(Vi(a,ju(r,e,i+1)),s),Fo(e,t,i,s),o&&zi(Vi(o,ju(t,n,i+1)),s)),Fo(n,null,i,s),new j(s)}function ju(r,e,t){let n=[];if(Fo(null,r,t,n),r.depth>t){let i=Lh(r,e,t+1);zi(Vi(i,ju(r,e,t+1)),n)}return Fo(e,null,t,n),new j(n)}function _$(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(j.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}class Xo{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return De.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let s=n;n=i,i=s}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Yu(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,a=t;for(let o=e;;){let{index:s,offset:l}=o.content.findIndex(a),u=a-l;if(n.push(o,s,i+l),!u||(o=o.child(s),o.isText))break;a=u-1,i+=l+1}return new Xo(t,n,a)}static resolveCached(e,t){for(let i=0;i<wf.length;i++){let a=wf[i];if(a.pos==t&&a.doc==e)return a}let n=wf[kf]=Xo.resolve(e,t);return kf=(kf+1)%C$,n}}let wf=[],kf=0,C$=12;class Yu{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const S$=Object.create(null);class Fr{constructor(e,t,n,i=De.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||j.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Uu(this.attrs,t||e.defaultAttrs||S$)&&De.sameSet(this.marks,n||De.none)}copy(e=null){return e==this.content?this:new Fr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Fr(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Z.empty;let i=this.resolve(e),a=this.resolve(t),o=n?0:i.sharedDepth(t),s=i.start(o),u=i.node(o).content.cut(i.pos-s,a.pos-s);return new Z(u,i.depth-o,a.depth-o)}replace(e,t,n){return T$(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return Xo.resolveCached(this,e)}resolveNoCache(e){return Xo.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_k(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=j.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=De.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!De.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=j.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)}}Fr.prototype.text=void 0;class Gu extends Fr{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_k(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Gu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Gu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function _k(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Ki{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new O$(e,t);if(n.next==null)return Ki.empty;let i=Ck(n);n.next&&n.err("Unexpected trailing text");let a=R$(N$(i));return L$(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let a=t;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function a(o,s){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return j.from(s.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:f}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=a(f,s.concat(c));if(d)return d}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in t)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}Ki.empty=new Ki(!0);class O${constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Ck(r){let e=[];do e.push(M$(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function M$(r){let e=[];do e.push(E$(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function E$(r){let e=P$(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=D$(r,e);else break;return e}function By(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function D$(r,e){let t=By(r),n=t;return r.eat(",")&&(r.next!="}"?n=By(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function A$(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let a in t){let o=t[a];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function P$(r){if(r.eat("(")){let e=Ck(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=A$(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function N$(r){let e=[[]];return i(a(r,0),t()),e;function t(){return e.push([])-1}function n(o,s,l){let u={term:l,to:s};return e[o].push(u),u}function i(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(a(u,s)),[]);if(o.type=="seq")for(let l=0;;l++){let u=a(o.exprs[l],s);if(l==o.exprs.length-1)return u;i(u,s=t())}else if(o.type=="star"){let l=t();return n(s,l),i(a(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=t();return i(a(o.expr,s),l),i(a(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let u=0;u<o.min;u++){let c=t();i(a(o.expr,l),c),l=c}if(o.max==-1)i(a(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=t();n(l,c),i(a(o.expr,l),c),l=c}return[n(l)]}else{if(o.type=="name")return[n(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Sk(r,e){return e-r}function Hy(r,e){let t=[];return n(e),t.sort(Sk);function n(i){let a=r[i];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(i);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&t.indexOf(l)==-1&&n(l)}}}function R$(r){let e=Object.create(null);return t(Hy(r,0));function t(n){let i=[];n.forEach(o=>{r[o].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);Hy(r,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let a=e[n.join(",")]=new Ki(n.indexOf(r.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(Sk);a.next.push({type:i[o][0],next:e[s.join(",")]||t(s)})}return a}}function L$(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],a=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ok(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function Mk(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let a=r[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function Ek(r){let e=Object.create(null);if(r)for(let t in r)e[t]=new I$(r[t]);return e}class Ku{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Ek(n.attrs),this.defaultAttrs=Ok(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ki.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Mk(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fr(this,this.computeAttrs(e),j.from(t),De.setFrom(n))}createChecked(e=null,t,n){return t=j.from(t),this.checkContent(t),new Fr(this,this.computeAttrs(e),t,De.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=j.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(j.empty,!0);return a?new Fr(this,e,t.append(a),De.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:De.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,o)=>n[a]=new Ku(a,t,o));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class I${constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Mc{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=Ek(i.attrs),this.excluded=null;let a=Ok(this.attrs);this.instance=a?new De(this,a):null}create(e=null){return!e&&this.instance?this.instance:new De(this,Mk(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new Mc(a,i++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Dk{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Mt.from(e.nodes),t.marks=Mt.from(e.marks||{}),this.nodes=Ku.compile(this.spec.nodes,this),this.marks=Mc.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",s=a.spec.marks;a.contentMatch=n[o]||(n[o]=Ki.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet=s=="_"?null:s?Fy(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:Fy(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Ku){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new Gu(n,n.defaultAttrs,e,De.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Fr.fromJSON(this,e)}markFromJSON(e){return De.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Fy(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=r.marks[i],o=a;if(a)t.push(a);else for(let s in r.marks){let l=r.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}class Xi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let i=e.nodes[n.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let n=new Vy(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Vy(this,t,!0);return n.addAll(e,t.from,t.to),Z.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(H$(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,t,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let s=t[o];if((s.priority==null?50:s.priority)<a)break}t.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=qy(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=qy(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Xi(e,Xi.schemaRules(e)))}}const Ak={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$$={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Pk={ol:!0,ul:!0},Xu=1,Ju=2,zo=4;function zy(r,e,t){return e!=null?(e?Xu:0)|(e==="full"?Ju:0):r&&r.whitespace=="pre"?Xu|Ju:t&~zo}class Ds{constructor(e,t,n,i,a,o,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=i,this.solid=a,this.options=s,this.content=[],this.activeMarks=De.none,this.stashMarks=[],this.match=o||(s&zo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(j.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Xu)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=j.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let i=n[t];(this.type?this.type.allowsMarkType(i.type):z$(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ak.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Vy{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let i=t.topNode,a,o=zy(null,t.preserveWhitespace,0)|(n?zo:0);i?a=new Ds(i.type,i.attrs,De.none,De.none,!0,t.topMatch||i.type.contentMatch,o):n?a=new Ds(null,null,De.none,De.none,!0,null,o):a=new Ds(e.schema.topNodeType,null,De.none,De.none,!0,null,o),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let t=e.getAttribute("style");if(!t)this.addElement(e);else{let n=this.readStyles(F$(t));if(!n)return;let[i,a]=n,o=this.top;for(let s=0;s<a.length;s++)this.removePendingMark(a[s],o);for(let s=0;s<i.length;s++)this.addPendingMark(i[s]);this.addElement(e);for(let s=0;s<i.length;s++)this.removePendingMark(i[s],o);for(let s=0;s<a.length;s++)this.addPendingMark(a[s])}}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&Ju||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&Xu)n.options&Ju?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=n.content[n.content.length-1],a=e.previousSibling;(!i||a&&a.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n=e.nodeName.toLowerCase(),i;Pk.hasOwnProperty(n)&&this.parser.normalizeLists&&B$(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(a?a.ignore:$$.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let o,s=this.top,l=this.needsBlock;if(Ak.hasOwnProperty(n))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),o=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,a,a.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=De.none,n=De.none;e:for(let i=0;i<e.length;i+=2)for(let a=void 0;;){let o=this.parser.matchStyle(e[i],e[i+1],this,a);if(!o)continue e;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.forEach(s=>{o.clearMark(s)&&(n=s.addToSet(n))}):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)a=o;else break}return[t,n]}addElementByRule(e,t,n){let i,a,o;t.node?(a=this.parser.schema.nodes[t.node],a.isLeaf?this.insertNode(a.create(t.attrs))||this.leafFallback(e):i=this.enter(a,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(e,t,n){let i=t||0;for(let a=t?e.childNodes[t]:e.firstChild,o=n==null?null:e.childNodes[n];a!=o;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a);this.findAtPoint(e,i)}findPlace(e){let t,n;for(let i=this.open;i>=0;i--){let a=this.nodes[i],o=a.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=a,!o.length)||a.solid)break}if(!t)return!1;this.sync(n);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(n=e.marks[i].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i}enterInner(e,t=null,n=!1,i){this.closeExtra();let a=this.top;a.applyPending(e),a.match=a.match&&a.match.matchType(e);let o=zy(e,i,a.options);a.options&zo&&a.content.length==0&&(o|=zo),this.nodes.push(new Ds(e,t,a.activeMarks,a.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(s,l)=>{for(;s>=0;s--){let u=t[s];if(u==""){if(s==t.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let t=V$(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==t)break}}}function B$(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&Pk.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function H$(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function F$(r){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,n=[];for(;t=e.exec(r);)n.push(t[1],t[2].trim());return n}function qy(r){let e={};for(let t in r)e[t]=r[t];return e}function z$(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||a.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}function V$(r,e){for(let t=0;t<e.length;t++)if(r.eq(e[t]))return e[t]}class Rn{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=xf(t).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)i=a.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,t);c&&(a.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=Rn.renderSpec(xf(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&Rn.renderSpec(xf(n),i(e,t))}static renderSpec(e,t,n=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,s=n?e.createElementNS(n,i):e.createElement(i),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<t.length;c++){let f=t[c];if(f===0){if(c<t.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:h}=Rn.renderSpec(e,f,n);if(s.appendChild(d),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:s,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Rn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Uy(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return Uy(e.marks)}}function Uy(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function xf(r){return r.document||window.document}const Nk=65535,Rk=Math.pow(2,16);function q$(r,e){return r+e*Rk}function Wy(r){return r&Nk}function U$(r){return(r-(r&Nk))/Rk}const Lk=1,Ik=2,$l=4,$k=8;class Ih{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&$k)>0}get deletedBefore(){return(this.delInfo&(Lk|$l))>0}get deletedAfter(){return(this.delInfo&(Ik|$l))>0}get deletedAcross(){return(this.delInfo&$l)>0}}class kr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&kr.empty)return kr.empty}recover(e){let t=0,n=Wy(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+U$(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+a],c=this.ranges[s+o],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:t:t,h=l+i+(d<0?0:c);if(n)return h;let p=e==(t<0?l:f)?null:q$(s/3,e-l),v=e==l?Ik:e==f?Lk:$l;return(t<0?e!=l:e!=f)&&(v|=$k),new Ih(h,v,p)}i+=c-u}return n?e+i:new Ih(e+i,0,null)}touches(e,t){let n=0,i=Wy(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+a],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+o]-u}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),u=this.ranges[i+t],c=this.ranges[i+n];e(s,s+u,l,l+c),a+=c-u}}invert(){return new kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?kr.empty:new kr(e<0?[0,-e,0]:[0,0,e])}}kr.empty=new kr([]);class Da{constructor(e=[],t,n=0,i=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=i}slice(e=0,t=this.maps.length){return new Da(this.maps,this.mirror,e,t)}copy(){return new Da(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new Da;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this.maps[a],s=o.mapResult(e,t);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new Ih(e,i,null)}}const Tf=Object.create(null);class vr{getMap(){return kr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Tf[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Tf)throw new RangeError("Duplicate use of step JSON ID "+e);return Tf[e]=t,t.prototype.jsonID=e,t}}class yt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new yt(e,null)}static fail(e){return new yt(null,e)}static fromReplace(e,t,n,i){try{return yt.ok(e.replace(t,n,i))}catch(a){if(a instanceof Wu)return yt.fail(a.message);throw a}}}function Jp(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let a=r.child(i);a.content.size&&(a=a.copy(Jp(a.content,e,a))),a.isInline&&(a=e(a,t,i)),n.push(a)}return j.fromArray(n)}class ti extends vr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new Z(Jp(t.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return yt.fromReplace(e,this.from,this.to,a)}invert(){return new fn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new ti(t.pos,n.pos,this.mark)}merge(e){return e instanceof ti&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ti(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ti(t.from,t.to,e.markFromJSON(t.mark))}}vr.jsonID("addMark",ti);class fn extends vr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Z(Jp(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return yt.fromReplace(e,this.from,this.to,n)}invert(){return new ti(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new fn(t.pos,n.pos,this.mark)}merge(e){return e instanceof fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fn(t.from,t.to,e.markFromJSON(t.mark))}}vr.jsonID("removeMark",fn);class ri extends vr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return yt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return yt.fromReplace(e,this.pos,this.pos+1,new Z(j.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new ri(this.pos,t.marks[i]);return new ri(this.pos,this.mark)}}return new Ba(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ri(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ri(t.pos,e.markFromJSON(t.mark))}}vr.jsonID("addNodeMark",ri);class Ba extends vr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return yt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return yt.fromReplace(e,this.pos,this.pos+1,new Z(j.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ri(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ba(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ba(t.pos,e.markFromJSON(t.mark))}}vr.jsonID("removeNodeMark",Ba);class Jt extends vr{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&$h(e,this.from,this.to)?yt.fail("Structure replace would overwrite content"):yt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Jt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Jt(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Jt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Jt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Jt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Jt(t.from,t.to,Z.fromJSON(e,t.slice),!!t.structure)}}vr.jsonID("replace",Jt);class Tt extends vr{constructor(e,t,n,i,a,o,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=s}apply(e){if(this.structure&&($h(e,this.from,this.gapFrom)||$h(e,this.gapTo,this.to)))return yt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return yt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?yt.fromReplace(e,this.from,this.to,n):yt.fail("Content does not fit in gap")}getMap(){return new kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Tt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),a=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||a>n.pos?null:new Tt(t.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Tt(t.from,t.to,t.gapFrom,t.gapTo,Z.fromJSON(e,t.slice),t.insert,!!t.structure)}}vr.jsonID("replaceAround",Tt);function $h(r,e,t){let n=r.resolve(e),i=t-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function W$(r,e,t,n){let i=[],a=[],o,s;r.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),h=Math.min(u+l.nodeSize,t),p=n.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(p)||(o&&o.to==d&&o.mark.eq(f[v])?o.to=h:i.push(o=new fn(d,h,f[v])));s&&s.to==d?s.to=h:a.push(s=new ti(d,h,n))}}),i.forEach(l=>r.step(l)),a.forEach(l=>r.step(l))}function j$(r,e,t,n){let i=[],a=0;r.doc.nodesBetween(e,t,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(n instanceof Mc){let u=o.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(s+o.nodeSize,t);for(let c=0;c<l.length;c++){let f=l[c],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==a-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=u,d.step=a):i.push({style:f,from:Math.max(s,e),to:u,step:a})}}}),i.forEach(o=>r.step(new fn(o.from,o.to,o.style)))}function Y$(r,e,t,n=t.contentMatch){let i=r.doc.nodeAt(e),a=[],o=e+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=o+l.nodeSize,c=n.matchType(l.type);if(!c)a.push(new Jt(o,u,Z.empty));else{n=c;for(let f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||r.step(new fn(o,u,l.marks[f]))}o=u}if(!n.validEnd){let s=n.fillBefore(j.empty,!0);r.replace(o,o,new Z(s,0,0))}for(let s=a.length-1;s>=0;s--)r.step(a[s])}function G$(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Ec(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),a=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(a,o,t))return n;if(n==0||i.type.spec.isolating||!G$(i,a,o))break}return null}function K$(r,e,t){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),s=i.after(a+1),l=o,u=s,c=j.empty,f=0;for(let p=a,v=!1;p>t;p--)v||n.index(p)>0?(v=!0,c=j.from(n.node(p).copy(c)),f++):l--;let d=j.empty,h=0;for(let p=a,v=!1;p>t;p--)v||i.after(p+1)<i.end(p)?(v=!0,d=j.from(i.node(p).copy(d)),h++):u++;r.step(new Tt(l,u,o,s,new Z(c.append(d),f,h),c.size-f,!0))}function X$(r,e,t=null,n=r){let i=J$(r,e),a=i&&Q$(n,e);return a?i.map(jy).concat({type:e,attrs:t}).concat(a.map(jy)):null}function jy(r){return{type:r,attrs:null}}function J$(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}function Q$(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:o}function Z$(r,e,t){let n=j.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let s=t[o].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=j.from(t[o].type.create(t[o].attrs,n))}let i=e.start,a=e.end;r.step(new Tt(i,a,i,a,new Z(n,0,0),t.length,!0))}function eB(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(o,s)=>{if(o.isTextblock&&!o.hasMarkup(n,i)&&tB(r.doc,r.mapping.slice(a).map(s),n)){r.clearIncompatible(r.mapping.slice(a).map(s,1),n);let l=r.mapping.slice(a),u=l.map(s,1),c=l.map(s+o.nodeSize,1);return r.step(new Tt(u,c,u+1,c-1,new Z(j.from(n.create(i,null,o.marks)),0,0),1,!0)),!1}})}function tB(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function rB(r,e,t,n,i){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let o=t.create(n,null,i||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Tt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Z(j.from(o),0,0),1,!0))}function Aa(r,e,t=1,n){let i=r.resolve(e),a=i.depth-t,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>a;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=n&&n[c]||f;if(p!=f&&(h=h.replaceChild(0,p.type.create(p.attrs))),!f.canReplace(d+1,f.childCount)||!p.type.validContent(h))return!1}let s=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(s,s,l?l.type:i.node(a+1).type)}function nB(r,e,t=1,n){let i=r.doc.resolve(e),a=j.empty,o=j.empty;for(let s=i.depth,l=i.depth-t,u=t-1;s>l;s--,u--){a=j.from(i.node(s).copy(a));let c=n&&n[u];o=j.from(c?c.type.create(c.attrs,o):i.node(s).copy(o))}r.step(new Jt(e,e,new Z(a.append(o),t,t),!0))}function Bk(r,e){let t=r.resolve(e),n=t.index();return iB(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function iB(r,e){return!!(r&&e&&!r.isLeaf&&r.canAppend(e))}function aB(r,e,t){let n=new Jt(e-t,e+t,Z.empty,!0);r.step(n)}function oB(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,t))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,t))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function sB(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let o=n.depth;o>=0;o--){let s=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(s>0?1:0),u=n.node(o),c=!1;if(a==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?n.pos:s<0?n.before(o+1):n.after(o+1)}return null}function Qp(r,e,t=e,n=Z.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),a=r.resolve(t);return Hk(i,a,n)?new Jt(e,t,n):new lB(i,a,n).fit()}function Hk(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class lB{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=j.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=j.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,s=i.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new Z(a,o,s);return e>-1?new Tt(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Jt(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=_f(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,f=null;if(t==1&&(o?u.matchType(o.type)||(f=u.fillBefore(j.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:s,parent:a,inject:f};if(t==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:a,wrap:c};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=_f(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Z(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=_f(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new Z(Oo(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new Z(Oo(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let v=0;v<a.length;v++)this.openFrontierNode(a[v]);let o=this.unplaced,s=n?n.content:o.content,l=o.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let h=s.size+e-(o.content.size-o.openEnd);for(;u<s.childCount;){let v=s.child(u),m=f.matchType(v.type);if(!m)break;u++,(u>1||l==0||v.content.size)&&(f=m,c.push(Fk(v.mark(d.allowedMarks(v.marks)),u==1?l:0,u==s.childCount?h:-1)))}let p=u==s.childCount;p||(h=-1),this.placed=Mo(this.placed,t,j.from(c)),this.frontier[t].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,m=s;v<h;v++){let g=m.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),m=g.content}this.unplaced=p?e==0?Z.empty:new Z(Oo(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new Z(Oo(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Cf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Cf(e,t,i,n,a);if(!!o){for(let s=t-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=Cf(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Mo(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Mo(this.placed,this.depth,j.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(j.empty,!0);t.childCount&&(this.placed=Mo(this.placed,this.frontier.length,t))}}function Oo(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(Oo(r.firstChild.content,e-1,t)))}function Mo(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Mo(r.lastChild.content,e-1,t)))}function _f(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function Fk(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,Fk(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(j.empty,!0)))),r.copy(n)}function Cf(r,e,t,n,i){let a=r.node(e),o=i?r.indexAfter(e):r.index(e);if(o==a.childCount&&!t.compatibleContent(a.type))return null;let s=n.fillBefore(a.content,!0,o);return s&&!uB(t,a.content,o)?s:null}function uB(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function cB(r){return r.spec.defining||r.spec.definingForContent}function fB(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),a=r.doc.resolve(t);if(Hk(i,a,n))return r.step(new Jt(e,t,n));let o=Vk(i,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?s=d:i.before(d)==h&&o.splice(1,0,-d)}let l=o.indexOf(s),u=[],c=n.openStart;for(let d=n.content,h=0;;h++){let p=d.firstChild;if(u.push(p),h==n.openStart)break;d=p.content}for(let d=c-1;d>=0;d--){let h=u[d].type,p=cB(h);if(p&&i.node(l).type!=h)c=d;else if(p||!h.isTextblock)break}for(let d=n.openStart;d>=0;d--){let h=(d+c+1)%(n.openStart+1),p=u[h];if(!!p)for(let v=0;v<o.length;v++){let m=o[(v+l)%o.length],g=!0;m<0&&(g=!1,m=-m);let b=i.node(m-1),k=i.index(m-1);if(b.canReplaceWith(k,k,p.type,p.marks))return r.replace(i.before(m),g?a.after(m):t,new Z(zk(n.content,0,n.openStart,h),h,n.openEnd))}}let f=r.steps.length;for(let d=o.length-1;d>=0&&(r.replace(e,t,n),!(r.steps.length>f));d--){let h=o[d];h<0||(e=i.before(h),t=a.after(h))}}function zk(r,e,t,n,i){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(zk(a.content,e+1,t,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(r).append(r);r=o.append(a.matchFragment(o).fillBefore(j.empty,!0))}return r}function dB(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=oB(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new Z(j.from(n),0,0))}function hB(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),a=Vk(n,i);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return r.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return r.delete(n.before(s),i.after(s))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&i.end(o)-t!=i.depth-o)return r.delete(n.before(o),t);r.delete(e,t)}function Vk(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let a=r.start(i);if(a<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class Pa extends vr{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return yt.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return yt.fromReplace(e,this.pos,this.pos+1,new Z(j.from(i),0,t.isLeaf?0:1))}getMap(){return kr.empty}invert(e){return new Pa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pa(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pa(t.pos,t.attr,t.value)}}vr.jsonID("attr",Pa);let Ha=class extends Error{};Ha=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};Ha.prototype=Object.create(Error.prototype);Ha.prototype.constructor=Ha;Ha.prototype.name="TransformError";class pB{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Da}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ha(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Z.empty){let i=Qp(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new Z(j.from(n),0,0))}delete(e,t){return this.replace(e,t,Z.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return fB(this,e,t,n),this}replaceRangeWith(e,t,n){return dB(this,e,t,n),this}deleteRange(e,t){return hB(this,e,t),this}lift(e,t){return K$(this,e,t),this}join(e,t=1){return aB(this,e,t),this}wrap(e,t){return Z$(this,e,t),this}setBlockType(e,t=e,n,i=null){return eB(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return rB(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new Pa(e,t,n)),this}addNodeMark(e,t){return this.step(new ri(e,t)),this}removeNodeMark(e,t){if(!(t instanceof De)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new Ba(e,t)),this}split(e,t=1,n){return nB(this,e,t,n),this}addMark(e,t,n){return W$(this,e,t,n),this}removeMark(e,t,n){return j$(this,e,t,n),this}clearIncompatible(e,t,n){return Y$(this,e,t,n),this}}const Sf=Object.create(null);class Ce{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new qk(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Z.empty){let n=t.content.lastChild,i=null;for(let s=0;s<t.openEnd;s++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],c=e.mapping.slice(a);e.replaceRange(c.map(l.pos),c.map(u.pos),s?Z.empty:t),s==0&&Ky(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:s}=i[a],l=e.mapping.slice(n),u=l.map(o.pos),c=l.map(s.pos);a?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),Ky(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new Ie(e):wa(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=t<0?wa(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):wa(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new tr(e.node(0))}static atStart(e){return wa(e,e,0,0,1)||new tr(e)}static atEnd(e){return wa(e,e,e.content.size,e.childCount,-1)||new tr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Sf[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Sf)throw new RangeError("Duplicate use of selection JSON ID "+e);return Sf[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ie.between(this.$anchor,this.$head).getBookmark()}}Ce.prototype.visible=!0;class qk{constructor(e,t){this.$from=e,this.$to=t}}let Yy=!1;function Gy(r){!Yy&&!r.parent.inlineContent&&(Yy=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class Ie extends Ce{constructor(e,t=e){Gy(e),Gy(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Ce.near(n);let i=e.resolve(t.map(this.anchor));return new Ie(i.parent.inlineContent?i:n,n)}replace(e,t=Z.empty){if(super.replace(e,t),t==Z.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Ie&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Dc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ie(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let a=Ce.findFrom(t,n,!0)||Ce.findFrom(t,-n,!0);if(a)t=a.$head;else return Ce.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(Ce.findFrom(e,-n,!0)||Ce.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ie(e,t)}}Ce.jsonID("text",Ie);class Dc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Dc(e.map(this.anchor),e.map(this.head))}resolve(e){return Ie.between(e.resolve(this.anchor),e.resolve(this.head))}}class ye extends Ce{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?Ce.near(a):new ye(a)}content(){return new Z(j.from(this.node),0,0)}eq(e){return e instanceof ye&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Zp(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ye(e.resolve(t.anchor))}static create(e,t){return new ye(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ye.prototype.visible=!1;Ce.jsonID("node",ye);class Zp{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Dc(n,n):new Zp(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ye.isSelectable(n)?new ye(t):Ce.near(t)}}class tr extends Ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Z.empty){if(t==Z.empty){e.delete(0,e.doc.content.size);let n=Ce.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new tr(e)}map(e){return new tr(e)}eq(e){return e instanceof tr}getBookmark(){return vB}}Ce.jsonID("all",tr);const vB={map(){return this},resolve(r){return new tr(r)}};function wa(r,e,t,n,i,a=!1){if(e.inlineContent)return Ie.create(r,t);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let s=e.child(o);if(s.isAtom){if(!a&&ye.isSelectable(s))return ye.create(r,t-(i<0?s.nodeSize:0))}else{let l=wa(r,s,t+i,i<0?s.childCount:0,i,a);if(l)return l}t+=s.nodeSize*i}return null}function Ky(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof Jt||i instanceof Tt))return;let a=r.mapping.maps[n],o;a.forEach((s,l,u,c)=>{o==null&&(o=c)}),r.setSelection(Ce.near(r.doc.resolve(o),t))}const Xy=1,As=2,Jy=4;class mB extends pB{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Xy)&~As,this.storedMarks=null,this}get selectionSet(){return(this.updated&Xy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=As,this}ensureMarks(e){return De.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&As)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~As,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||De.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n==null?t:n,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(t);a=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,a)),this.selection.empty||this.setSelection(Ce.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Jy,this}get scrolledIntoView(){return(this.updated&Jy)>0}}function Qy(r,e){return!e||!r?r:r.bind(e)}class Eo{constructor(e,t,n){this.name=e,this.init=Qy(t.init,n),this.apply=Qy(t.apply,n)}}const gB=[new Eo("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Eo("selection",{init(r,e){return r.selection||Ce.atStart(e.doc)},apply(r){return r.selection}}),new Eo("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new Eo("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class Of{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gB.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Eo(n.key,n.spec.state,n))})}}class $i{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),a=!0}i&&(i[o]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new $i(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new mB(this)}static create(e){let t=new Of(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new $i(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new Of(this.schema,e.plugins),n=t.fields,i=new $i(t);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Of(e.schema,e.plugins),a=new $i(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=Fr.fromJSON(e.schema,t.doc);else if(o.name=="selection")a.selection=Ce.fromJSON(a.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){a[o.name]=u.fromJSON.call(l,e,t[s],a);return}}a[o.name]=o.init(e,a)}}),a}}function Uk(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=Uk(i,e,{})),t[n]=i}return t}class mr{constructor(e){this.spec=e,this.props={},e.props&&Uk(e.props,this,this.props),this.key=e.key?e.key.key:Wk("plugin")}getState(e){return e[this.key]}}const Mf=Object.create(null);function Wk(r){return r in Mf?r+"$"+ ++Mf[r]:(Mf[r]=0,r+"$")}class ss{constructor(e="key"){this.key=Wk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wr=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Jo=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let Zy=null;const Sn=function(r,e,t){let n=Zy||(Zy=document.createRange());return n.setEnd(r,t==null?r.nodeValue.length:t),n.setStart(r,e||0),n},Ji=function(r,e,t,n){return t&&(eb(r,e,t,n,-1)||eb(r,e,t,n,1))},yB=/^(img|br|input|textarea|hr)$/i;function eb(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:ln(r))){let a=r.parentNode;if(!a||a.nodeType!=1||wB(r)||yB.test(r.nodeName)||r.contentEditable=="false")return!1;e=wr(r)+(i<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.contentEditable=="false")return!1;e=i<0?ln(r):0}else return!1}}function ln(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function bB(r,e,t){for(let n=e==0,i=e==ln(r);n||i;){if(r==t)return!0;let a=wr(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,i=i&&a==ln(r)}}function wB(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Ac=function(r){return r.focusNode&&Ji(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Ri(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function kB(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const fi=typeof navigator<"u"?navigator:null,tb=typeof document<"u"?document:null,gi=fi&&fi.userAgent||"",Bh=/Edge\/(\d+)/.exec(gi),jk=/MSIE \d/.exec(gi),Hh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gi),dr=!!(jk||Hh||Bh),oi=jk?document.documentMode:Hh?+Hh[1]:Bh?+Bh[1]:0,Wr=!dr&&/gecko\/(\d+)/i.test(gi);Wr&&+(/Firefox\/(\d+)/.exec(gi)||[0,0])[1];const Fh=!dr&&/Chrome\/(\d+)/.exec(gi),Zt=!!Fh,xB=Fh?+Fh[1]:0,nr=!dr&&!!fi&&/Apple Computer/.test(fi.vendor),Fa=nr&&(/Mobile\/\w+/.test(gi)||!!fi&&fi.maxTouchPoints>2),Dr=Fa||(fi?/Mac/.test(fi.platform):!1),$r=/Android \d/.test(gi),Pc=!!tb&&"webkitFontSmoothing"in tb.documentElement.style,TB=Pc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _B(r){return{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Wn(r,e){return typeof r=="number"?r:r[e]}function CB(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function rb(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let o=t||r.dom;o;o=Jo(o)){if(o.nodeType!=1)continue;let s=o,l=s==a.body,u=l?_B(a):CB(s),c=0,f=0;if(e.top<u.top+Wn(n,"top")?f=-(u.top-e.top+Wn(i,"top")):e.bottom>u.bottom-Wn(n,"bottom")&&(f=e.bottom-u.bottom+Wn(i,"bottom")),e.left<u.left+Wn(n,"left")?c=-(u.left-e.left+Wn(i,"left")):e.right>u.right-Wn(n,"right")&&(c=e.right-u.right+Wn(i,"right")),c||f)if(l)a.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let p=s.scrollLeft-d,v=s.scrollTop-h;e={left:e.left-p,top:e.top-v,right:e.right-p,bottom:e.bottom-v}}if(l)break}}function SB(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let s=r.root.elementFromPoint(a,o);if(!s||s==r.dom||!r.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=t-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:Yk(r.dom)}}function Yk(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=Jo(n));return e}function OB({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;Gk(t,n==0?0:n-e)}function Gk(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:a}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let ma=null;function MB(r){if(r.setActive)return r.setActive();if(ma)return r.focus(ma);let e=Yk(r);r.focus(ma==null?{get preventScroll(){return ma={preventScroll:!0},!0}}:void 0),ma||(ma=!1,Gk(e,0))}function Kk(r,e){let t,n=2e8,i,a=0,o=e.top,s=e.top;for(let l=r.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Sn(l).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=o&&d.bottom>=s){o=Math.max(d.bottom,o),s=Math.min(d.top,s);let h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<n){t=l,n=h,i=h&&t.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&h&&(a=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!t&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(a=u+1)}}return t&&t.nodeType==3?EB(t,i):!t||n&&t.nodeType==1?{node:r,offset:a}:Kk(t,i)}function EB(r,e){let t=r.nodeValue.length,n=document.createRange();for(let i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);let a=Yn(n,1);if(a.top!=a.bottom&&ev(e,a))return{node:r,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function ev(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function DB(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function AB(r,e,t){let{node:n,offset:i}=Kk(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,i,a)}function PB(r,e,t,n){let i=-1;for(let a=e;a!=r.dom;){let o=r.docView.nearestDesc(a,!0);if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)){let s=o.dom.getBoundingClientRect();if(o.node.isBlock&&o.parent&&(s.left>n.left||s.top>n.top?i=o.posBefore:(s.right<n.left||s.bottom<n.top)&&(i=o.posAfter)),!o.contentDOM&&i<0)return(o.node.isBlock?n.top<(s.top+s.bottom)/2:n.left<(s.left+s.right)/2)?o.posBefore:o.posAfter}a=o.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,-1)}function Xk(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let o=r.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(ev(e,u))return Xk(o,e,u)}}if((a=(a+1)%n)==i)break}return r}function NB(r,e){let t=r.dom.ownerDocument,n,i=0;if(t.caretPositionFromPoint)try{let l=t.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:n,offset:i}=l)}catch{}if(!n&&t.caretRangeFromPoint){let l=t.caretRangeFromPoint(e.left,e.top);l&&({startContainer:n,startOffset:i}=l)}let a=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),o;if(!a||!r.dom.contains(a.nodeType!=1?a.parentNode:a)){let l=r.dom.getBoundingClientRect();if(!ev(e,l)||(a=Xk(r.dom,e,l),!a))return null}if(nr)for(let l=a;n&&l;l=Jo(l))l.draggable&&(n=void 0);if(a=DB(a,e),n){if(Wr&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let l=n.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=PB(r,n,i,e))}o==null&&(o=AB(r,a,e));let s=r.docView.nearestDesc(a,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function Yn(r,e){let t=r.getClientRects();return t.length?t[e<0?0:t.length-1]:r.getBoundingClientRect()}const RB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Jk(r,e,t){let{node:n,offset:i,atom:a}=r.docView.domFromPos(e,t<0?-1:1),o=Pc||Wr;if(n.nodeType==3)if(o&&(RB.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let l=Yn(Sn(n,i,i),t);if(Wr&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Yn(Sn(n,i-1,i-1),-1);if(u.top==l.top){let c=Yn(Sn(n,i,i+1),-1);if(c.top!=l.top)return mo(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==n.nodeValue.length?(l--,c=1):t<0?l--:u++,mo(Yn(Sn(n,l,u),1),c<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==ln(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return Ef(l.getBoundingClientRect(),!1)}if(a==null&&i<ln(n)){let l=n.childNodes[i];if(l.nodeType==1)return Ef(l.getBoundingClientRect(),!0)}return Ef(n.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==ln(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Sn(l,ln(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return mo(Yn(u,1),!1)}if(a==null&&i<ln(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Sn(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return mo(Yn(u,-1),!0)}return mo(Yn(n.nodeType==3?Sn(n):n,-t),t>=0)}function mo(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function Ef(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function Qk(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function LB(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return Qk(r,e,()=>{let{node:a}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let s=r.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=Jk(r,i.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Sn(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const IB=/[\u0590-\u08ac]/;function $B(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,s=r.domSelection();return!IB.test(n.parent.textContent)||!s.modify?t=="left"||t=="backward"?a:o:Qk(r,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=r.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",t,"character");let h=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:p,focusOffset:v}=r.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==v;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),m})}let nb=null,ib=null,ab=!1;function BB(r,e,t){return nb==e&&ib==t?ab:(nb=e,ib=t,ab=t=="up"||t=="down"?LB(r,e,t):$B(r,e,t))}const zr=0,ob=1,_a=2,mn=3;class ls{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=zr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>wr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return(i==null?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!t||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],s=a+o.size;if(s>e||o instanceof ex){i=e-a;break}a=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof Zk&&a.side>=0;n--);if(t<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&t&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?wr(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?wr(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,s=0;;s++){let l=this.children[s],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=o;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=wr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>t||s==this.children.length-1)){t=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){a=wr(f.dom);break}t+=f.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let d=0,h=0;d<this.children.length;d++){let p=this.children[d],v=h+p.size;if(a>h&&o<v)return p.setSelection(e-h-p.border,t-h-p.border,n,i);h=v}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),u=n.getSelection(),c=!1;if((Wr||nr)&&e==t){let{node:d,offset:h}=s;if(d.nodeType==3){if(c=!!(h&&d.nodeValue[h-1]==`
`),c&&h==d.nodeValue.length)for(let p=d,v;p;p=p.parentNode){if(v=p.nextSibling){v.nodeName=="BR"&&(s=l={node:v.parentNode,offset:wr(v)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=d.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Wr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&nr)&&Ji(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Ji(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==t)&&!c){u.collapse(s.node,s.offset);try{e!=t&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let h=s;s=l,l=h}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let s=n+a.border,l=o-a.border;if(e>=s&&t<=l){this.dirty=e==n||t==o?_a:ob,e==s&&t==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=mn:a.markDirty(e-s,t-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?_a:mn}n=o}this.dirty=_a}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?_a:ob;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Zk extends ls{constructor(e,t,n,i){let a,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==zr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class HB extends ls{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qi extends ls{constructor(e,t,n,i){super(e,[],n,i),this.mark=t}static create(e,t,n,i){let a=i.nodeViews[t.type.name],o=a&&a(t,i,n);return(!o||!o.dom)&&(o=Rn.renderSpec(document,t.type.spec.toDOM(t,n))),new Qi(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&mn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=mn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=zr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=zr}}slice(e,t,n){let i=Qi.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;t<o&&(a=qh(a,t,o,n)),e>0&&(a=qh(a,0,e,n));for(let s=0;s<a.length;s++)a[s].parent=i;return i.children=a,i}}class Zi extends ls{constructor(e,t,n,i,a,o,s,l,u){super(e,[],a,o),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s,o&&this.updateChildren(l,u)}static create(e,t,n,i,a,o){let s=a.nodeViews[t.type.name],l,u=s&&s(t,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,f=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=Rn.renderSpec(document,t.type.spec.toDOM(t)));!f&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=nx(c,n,t),u?l=new FB(e,t,n,i,c,f||null,d,u,a,o+1):t.isText?new Nc(e,t,n,i,c,d,a):new Zi(e,t,n,i,c,f||null,d,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,t,n){return this.dirty==zr&&e.eq(this.node)&&Vh(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new VB(this,o&&o.node,e);WB(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?De.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,n,e);let h;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,c,f,h,e)||l.updateNextNode(u,c,f,e,d)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==_a)&&(o&&this.protectLocalComposition(e,o),tx(this.contentDOM,this.children,e),Fa&&jB(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Ie)||n<t||i>t+this.node.content.size)return null;let a=e.domSelectionRange(),o=YB(a.focusNode,a.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=GB(this.node.content,s,n-t,i-t);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new HB(this,a,t,i);e.input.compositionNodes.push(o),this.children=qh(this.children,n,n+i.length,e,o)}update(e,t,n,i){return this.dirty==mn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=zr}updateOuterDeco(e){if(Vh(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=rx(this.dom,this.nodeDOM,zh(this.outerDeco,this.node,t),zh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function sb(r,e,t,n,i){return nx(n,e,r),new Zi(void 0,r,e,t,n,n,n,i,0)}class Nc extends Zi{constructor(e,t,n,i,a,o,s){super(e,t,n,i,a,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==mn||this.dirty!=zr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=zr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=zr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new Nc(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=mn)}get domAtom(){return!1}}class ex extends ls{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==zr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class FB extends Zi{constructor(e,t,n,i,a,o,s,l,u,c){super(e,t,n,i,a,o,s,u,c),this.spec=l}update(e,t,n,i){if(this.dirty==mn)return!1;if(this.spec.update){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function tx(r,e,t){let n=r.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],s=o.dom;if(s.parentNode==r){for(;s!=n;)n=lb(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(s,n);if(o instanceof Qi){let l=n?n.previousSibling:r.lastChild;tx(o.contentDOM,o.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=lb(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}const Vo=function(r){r&&(this.nodeName=r)};Vo.prototype=Object.create(null);const Bi=[new Vo];function zh(r,e,t){if(r.length==0)return Bi;let n=t?Bi[0]:new Vo,i=[n];for(let a=0;a<r.length;a++){let o=r[a].type.attrs;if(!!o){o.nodeName&&i.push(n=new Vo(o.nodeName));for(let s in o){let l=o[s];l!=null&&(t&&i.length==1&&i.push(n=new Vo(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function rx(r,e,t,n){if(t==Bi&&n==Bi)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],s=t[a];if(a){let l;s&&s.nodeName==o.nodeName&&i!=r&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Bi[0]),i=l}zB(i,s||Bi[0],o)}return i}function zB(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&r.classList.add(i[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function nx(r,e,t){return rx(r,r,Bi,zh(e,t,r.nodeType!=1))}function Vh(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function lb(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class VB{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qB(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=zr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[a])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Qi.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,t,n)&&!this.preMatch.matched.has(u)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,i,a){let o=this.top.children[i];return o.dirty==mn&&o.dom==o.contentDOM&&(o.dirty=_a),o.update(e,t,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,a){for(let o=this.index;o<this.top.children.length;o++){let s=this.top.children[o];if(s instanceof Zi){let l=this.preMatch.matched.get(s);if(l!=null&&l!=a)return!1;let u=s.dom;if(!(this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=mn&&Vh(t,s.outerDeco)))&&s.update(e,t,n,i))return this.destroyBetween(this.index,o),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,i,a){this.top.children.splice(this.index++,0,Zi.create(this.top,e,t,n,i,a)),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new Zk(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Qi;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Nc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((nr||Zt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new ex(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function qB(r,e){let t=e,n=t.children.length,i=r.childCount,a=new Map,o=[];e:for(;i>0;){let s;for(;;)if(n){let u=t.children[n-1];if(u instanceof Qi)t=u,n=u.children.length;else{s=u,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=s.node;if(!!l){if(l!=r.child(i-1))break;--i,a.set(s,i),o.push(s)}}return{index:i,matched:a,matches:o.reverse()}}function UB(r,e){return r.type.side-e.type.side}function WB(r,e,t,n){let i=e.locals(r),a=0;if(i.length==0){for(let u=0;u<r.childCount;u++){let c=r.child(u);n(c,i,e.forChild(a,c),u),a+=c.nodeSize}return}let o=0,s=[],l=null;for(let u=0;;){if(o<i.length&&i[o].to==a){let p=i[o++],v;for(;o<i.length&&i[o].to==a;)(v||(v=[p])).push(i[o++]);if(v){v.sort(UB);for(let m=0;m<v.length;m++)t(v[m],u,!!l)}else t(p,u,!!l)}let c,f;if(l)f=-1,c=l,l=null;else if(u<r.childCount)f=u,c=r.child(u++);else break;for(let p=0;p<s.length;p++)s[p].to<=a&&s.splice(p--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)s.push(i[o++]);let d=a+c.nodeSize;if(c.isText){let p=d;o<i.length&&i[o].from<p&&(p=i[o].from);for(let v=0;v<s.length;v++)s[v].to<p&&(p=s[v].to);p<d&&(l=c.cut(p-a),c=c.cut(0,p-a),d=p,f=-1)}let h=c.isInline&&!c.isLeaf?s.filter(p=>!p.inline):s.slice();n(c,h,e.forChild(a,c),f),a=d}}function jB(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function YB(r,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0){if(r.childNodes.length>e&&r.childNodes[e].nodeType==3)return r.childNodes[e];r=r.childNodes[e-1],e=ln(r)}else if(r.nodeType==1&&e<r.childNodes.length)r=r.childNodes[e],e=0;else return null}}function GB(r,e,t,n){for(let i=0,a=0;i<r.childCount&&a<=n;){let o=r.child(i++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<r.childCount;){let u=r.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=t){let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=t)return s+u;if(t==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function qh(r,e,t,n,i){let a=[];for(let o=0,s=0;o<r.length;o++){let l=r[o],u=s,c=s+=l.size;u>=t||c<=e?a.push(l):(u<e&&a.push(l.slice(0,e-u,n)),i&&(a.push(i),i=void 0),c>t&&a.push(l.slice(t-u,l.size,n)))}return a}function tv(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),a=i&&i.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let s=n.resolve(o),l,u;if(Ac(t)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&ye.isSelectable(c)&&i.parent&&!(c.isInline&&bB(t.focusNode,t.focusOffset,i.dom))){let f=i.posBefore;u=new ye(o==f?s:n.resolve(f))}}else{let c=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null;l=n.resolve(c)}if(!u){let c=e=="pointer"||r.state.selection.head<s.pos&&!a?1:-1;u=rv(r,l,s,c)}return u}function ix(r){return r.editable?r.hasFocus():ox(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function In(r,e=!1){let t=r.state.selection;if(ax(r,t),!!ix(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Zt){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ji(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)XB(r);else{let{anchor:n,head:i}=t,a,o;ub&&!(t instanceof Ie)&&(t.$from.parent.inlineContent||(a=cb(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=cb(r,t.to))),r.docView.setSelection(n,i,r.root,e),ub&&(a&&fb(a),o&&fb(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&KB(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const ub=nr||Zt&&xB<63;function cb(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(nr&&i&&i.contentEditable=="false")return Df(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return Df(i);if(a)return Df(a)}}function Df(r){return r.contentEditable="true",nr&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function fb(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function KB(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!ix(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function XB(r){let e=r.domSelection(),t=document.createRange(),n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setEnd(n.parentNode,wr(n)+1):t.setEnd(n,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&dr&&oi<=11&&(n.disabled=!0,n.disabled=!1)}function ax(r,e){if(e instanceof ye){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(db(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else db(r)}function db(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function rv(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||Ie.between(e,t,n)}function hb(r){return r.editable&&!r.hasFocus()?!1:ox(r)}function ox(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function JB(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Ji(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Uh(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),a=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Ce.findFrom(a,e)}function Li(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function pb(r,e,t){let n=r.state.selection;if(n instanceof Ie){if(!n.empty||t.indexOf("s")>-1)return!1;if(r.endOfTextblock(e>0?"right":"left")){let i=Uh(r.state,e);return i&&i instanceof ye?Li(r,i):!1}else if(!(Dr&&t.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let s=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=r.docView.descAt(s))&&!o.contentDOM?ye.isSelectable(a)?Li(r,new ye(e<0?r.state.doc.resolve(i.pos-a.nodeSize):i)):Pc?Li(r,new Ie(r.state.doc.resolve(e<0?s:s+a.nodeSize))):!1:!1}}else{if(n instanceof ye&&n.node.isInline)return Li(r,new Ie(e>0?n.$to:n.$from));{let i=Uh(r.state,e);return i?Li(r,i):!1}}}function Qu(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function qo(r){let e=r.pmViewDesc;return e&&e.size==0&&(r.nextSibling||r.nodeName!="BR")}function Af(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,a,o=!1;for(Wr&&t.nodeType==1&&n<Qu(t)&&qo(t.childNodes[n])&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let s=t.childNodes[n-1];if(qo(s))i=t,a=--n;else if(s.nodeType==3)t=s,n=t.nodeValue.length;else break}}else{if(sx(t))break;{let s=t.previousSibling;for(;s&&qo(s);)i=t.parentNode,a=wr(s),s=s.previousSibling;if(s)t=s,n=Qu(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?Wh(r,t,n):i&&Wh(r,i,a)}function Pf(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=Qu(t),a,o;for(;;)if(n<i){if(t.nodeType!=1)break;let s=t.childNodes[n];if(qo(s))a=t,o=++n;else break}else{if(sx(t))break;{let s=t.nextSibling;for(;s&&qo(s);)a=s.parentNode,o=wr(s)+1,s=s.nextSibling;if(s)t=s,n=0,i=Qu(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}a&&Wh(r,a,o)}function sx(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function Wh(r,e,t){let n=r.domSelection();if(Ac(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&In(r)},50)}function vb(r,e,t){let n=r.state.selection;if(n instanceof Ie&&!n.empty||t.indexOf("s")>-1||Dr&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=Uh(r.state,e);if(o&&o instanceof ye)return Li(r,o)}if(!i.parent.inlineContent){let o=e<0?i:a,s=n instanceof tr?Ce.near(o,e):Ce.findFrom(o,e);return s?Li(r,s):!1}return!1}function mb(r,e){if(!(r.state.selection instanceof Ie))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let o=r.state.tr;return e<0?o.delete(t.pos-a.nodeSize,t.pos):o.delete(t.pos,t.pos+a.nodeSize),r.dispatch(o),!0}return!1}function gb(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function QB(r){if(!nr||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;gb(r,n,"true"),setTimeout(()=>gb(r,n,"false"),20)}return!1}function ZB(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function e2(r,e){let t=e.keyCode,n=ZB(e);return t==8||Dr&&t==72&&n=="c"?mb(r,-1)||Af(r):t==46||Dr&&t==68&&n=="c"?mb(r,1)||Pf(r):t==13||t==27?!0:t==37||Dr&&t==66&&n=="c"?pb(r,-1,n)||Af(r):t==39||Dr&&t==70&&n=="c"?pb(r,1,n)||Pf(r):t==38||Dr&&t==80&&n=="c"?vb(r,-1,n)||Af(r):t==40||Dr&&t==78&&n=="c"?QB(r)||vb(r,1,n)||Pf(r):n==(Dr?"m":"c")&&(t==66||t==73||t==89||t==90)}function lx(r,e){r.someProp("transformCopied",h=>{e=h(e,r)});let t=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let h=n.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let o=r.someProp("clipboardSerializer")||Rn.fromSchema(r.state.schema),s=px(),l=s.createElement("div");l.appendChild(o.serializeFragment(n,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=hx[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${f?` -${f}`:""} ${JSON.stringify(t)}`);let d=r.someProp("clipboardTextSerializer",h=>h(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function ux(r,e,t,n,i){let a=i.parent.type.spec.code,o,s;if(!t&&!e)return null;let l=e&&(n||a||!t);if(l){if(r.someProp("transformPastedText",d=>{e=d(e,a||n,r)}),a)return e?new Z(j.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Z.empty;let f=r.someProp("clipboardTextParser",d=>d(e,i,n,r));if(f)s=f;else{let d=i.marks(),{schema:h}=r.state,p=Rn.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let m=o.appendChild(document.createElement("p"));v&&m.appendChild(p.serializeNode(h.text(v,d)))})}}else r.someProp("transformPastedHTML",f=>{t=f(t,r)}),o=n2(t),Pc&&i2(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(s||(s=(r.someProp("clipboardParser")||r.someProp("domParser")||Xi.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!t2.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=a2(yb(s,+c[1],+c[2]),c[4]);else if(s=Z.maxOpen(r2(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=yb(s,f,d)}return r.someProp("transformPasted",f=>{s=f(s,r)}),s}const t2=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function r2(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,o=[];if(r.forEach(s=>{if(!o)return;let l=i.findWrapping(s.type),u;if(!l)return o=null;if(u=o.length&&a.length&&fx(l,a,s,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=dx(o[o.length-1],a.length));let c=cx(s,l);o.push(c),i=i.matchType(c.type),a=l}}),o)return j.from(o)}return r}function cx(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,j.from(r));return r}function fx(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let a=fx(r,e,t,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(j.from(cx(t,r,i+1))))}}function dx(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,dx(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(j.empty,!0);return r.copy(t.append(n))}function jh(r,e,t,n,i,a){let o=e<0?r.firstChild:r.lastChild,s=o.content;return i<n-1&&(s=jh(s,e,t,n,i+1,a)),i>=t&&(s=e<0?o.contentMatchAt(0).fillBefore(s,r.childCount>1||a<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(j.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(s))}function yb(r,e,t){return e<r.openStart&&(r=new Z(jh(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Z(jh(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const hx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bb=null;function px(){return bb||(bb=document.implementation.createHTMLDocument("title"))}function n2(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=px().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&hx[n[1].toLowerCase()])&&(r=i.map(a=>"<"+a+">").join("")+r+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=r,i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function i2(r){let e=r.querySelectorAll(Zt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function a2(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:a,openEnd:o}=r;for(let s=n.length-2;s>=0;s-=2){let l=t.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=j.from(l.create(n[s+1],i)),a++,o++}return new Z(i,a,o)}const ir={},ar={},o2={touchstart:!0,touchmove:!0};class s2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function l2(r){for(let e in ir){let t=ir[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{c2(r,n)&&!nv(r,n)&&(r.editable||!(n.type in ar))&&t(r,n)},o2[e]?{passive:!0}:void 0)}nr&&r.dom.addEventListener("input",()=>null),Yh(r)}function ni(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function u2(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function Yh(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>nv(r,n))})}function nv(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function c2(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function f2(r,e){!nv(r,e)&&ir[e.type]&&(r.editable||!(e.type in ar))&&ir[e.type](r,e)}ar.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!mx(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!($r&&Zt&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),Fa&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,Ri(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||e2(r,t)?t.preventDefault():ni(r,"key")};ar.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};ar.keypress=(r,e)=>{let t=e;if(mx(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Dr&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof Ie)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!r.someProp("handleTextInput",a=>a(r,n.$from.pos,n.$to.pos,i))&&r.dispatch(r.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function Rc(r){return{left:r.clientX,top:r.clientY}}function d2(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function iv(r,e,t,n,i){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(r.someProp(e,s=>o>a.depth?s(r,t,a.nodeAfter,a.before(o),i,!0):s(r,t,a.node(o),a.before(o),i,!1)))return!0;return!1}function Na(r,e,t){r.focused||r.focus();let n=r.state.tr.setSelection(e);t=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function h2(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&ye.isSelectable(n)?(Na(r,new ye(t),"pointer"),!0):!1}function p2(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof ye&&(n=t.node);let a=r.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(ye.isSelectable(s)){n&&t.$from.depth>0&&o>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(o);break}}return i!=null?(Na(r,ye.create(r.state.doc,i),"pointer"),!0):!1}function v2(r,e,t,n,i){return iv(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(i?p2(r,t):h2(r,t))}function m2(r,e,t,n){return iv(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function g2(r,e,t,n){return iv(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||y2(r,t,n)}function y2(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(Na(r,Ie.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(o.inlineContent)Na(r,Ie.create(n,s+1,s+1+o.content.size),"pointer");else if(ye.isSelectable(o))Na(r,ye.create(n,s),"pointer");else continue;return!0}}function av(r){return Zu(r)}const vx=Dr?"metaKey":"ctrlKey";ir.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=av(r),i=Date.now(),a="singleClick";i-r.input.lastClick.time<500&&d2(t,r.input.lastClick)&&!t[vx]&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a};let o=r.posAtCoords(Rc(t));!o||(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new b2(r,o,t,!!n)):(a=="doubleClick"?m2:g2)(r,o.pos,o.inside,t)?t.preventDefault():ni(r,"pointer"))};class b2{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[vx],this.allowDefault=n.shiftKey;let a,o;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),o=t.inside;else{let c=e.state.doc.resolve(t.pos);a=c.parent,o=c.depth?c.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof ye&&u.from<=o&&u.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ni(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>In(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Rc(e))),this.updateAllowDefault(e),this.allowDefault||!t?ni(this.view,"pointer"):v2(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||nr&&this.mightDrag&&!this.mightDrag.node.isAtom||Zt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Na(this.view,Ce.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):ni(this.view,"pointer")}move(e){this.updateAllowDefault(e),ni(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ir.touchstart=r=>{r.input.lastTouch=Date.now(),av(r),ni(r,"pointer")};ir.touchmove=r=>{r.input.lastTouch=Date.now(),ni(r,"pointer")};ir.contextmenu=r=>av(r);function mx(r,e){return r.composing?!0:nr&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const w2=$r?5e3:-1;ar.compositionstart=ar.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),Zu(r,!0),r.markCursor=null;else if(Zu(r),Wr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){r.domSelection().collapse(o,o.nodeValue.length);break}else i=o,a=-1}}r.input.composing=!0}gx(r,w2)};ar.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,gx(r,20))};function gx(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Zu(r),e))}function yx(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=k2());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function k2(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Zu(r,e=!1){if(!($r&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),yx(r),e||r.docView&&r.docView.dirty){let t=tv(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):r.updateState(r.state),!0}return!1}}function x2(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const za=dr&&oi<15||Fa&&TB<604;ir.copy=ar.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let a=za?null:t.clipboardData,o=n.content(),{dom:s,text:l}=lx(r,o);a?(t.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):x2(r,s),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function T2(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function _2(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Qo(r,n.value,null,r.input.shiftKey,e):Qo(r,n.textContent,n.innerHTML,r.input.shiftKey,e)},50)}function Qo(r,e,t,n,i){let a=ux(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,i,a||Z.empty)))return!0;if(!a)return!1;let o=T2(a),s=o?r.state.tr.replaceSelectionWith(o,r.input.shiftKey):r.state.tr.replaceSelection(a);return r.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ar.paste=(r,e)=>{let t=e;if(r.composing&&!$r)return;let n=za?null:t.clipboardData;n&&Qo(r,n.getData("text/plain"),n.getData("text/html"),r.input.shiftKey,t)?t.preventDefault():_2(r,t)};class C2{constructor(e,t){this.slice=e,this.move=t}}const bx=Dr?"altKey":"ctrlKey";ir.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,a=i.empty?null:r.posAtCoords(Rc(t));if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof ye?i.to-1:i.to))){if(n&&n.mightDrag)r.dispatch(r.state.tr.setSelection(ye.create(r.state.doc,n.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let u=r.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=r.docView&&r.dispatch(r.state.tr.setSelection(ye.create(r.state.doc,u.posBefore)))}}let o=r.state.selection.content(),{dom:s,text:l}=lx(r,o);t.dataTransfer.clearData(),t.dataTransfer.setData(za?"Text":"text/html",s.innerHTML),t.dataTransfer.effectAllowed="copyMove",za||t.dataTransfer.setData("text/plain",l),r.dragging=new C2(o,!t[bx])};ir.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};ar.dragover=ar.dragenter=(r,e)=>e.preventDefault();ar.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let i=r.posAtCoords(Rc(t));if(!i)return;let a=r.state.doc.resolve(i.pos),o=n&&n.slice;o?r.someProp("transformPasted",p=>{o=p(o,r)}):o=ux(r,t.dataTransfer.getData(za?"Text":"text/plain"),za?null:t.dataTransfer.getData("text/html"),!1,a);let s=!!(n&&!t[bx]);if(r.someProp("handleDrop",p=>p(r,t,o||Z.empty,s))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?sB(r.state.doc,a.pos,o):a.pos;l==null&&(l=a.pos);let u=r.state.tr;s&&u.deleteSelection();let c=u.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&ye.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new ye(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((v,m,g,b)=>p=b),u.setSelection(rv(r,h,u.doc.resolve(p)))}r.focus(),r.dispatch(u.setMeta("uiEvent","drop"))};ir.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&In(r)},20))};ir.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};ir.beforeinput=(r,e)=>{if(Zt&&$r&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,Ri(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in ar)ir[r]=ar[r];function Zo(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class ov{constructor(e,t){this.toDOM=e,this.spec=t||qi,this.side=this.spec.side||0}map(e,t,n,i){let{pos:a,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new fr(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof ov&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Zo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class si{constructor(e,t){this.attrs=e,this.spec=t||qi}map(e,t,n,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new fr(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof si&&Zo(this.attrs,e.attrs)&&Zo(this.spec,e.spec)}static is(e){return e.type instanceof si}destroy(){}}class sv{constructor(e,t){this.attrs=e,this.spec=t||qi}map(e,t,n,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=a.pos?null:new fr(a.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(n)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof sv&&Zo(this.attrs,e.attrs)&&Zo(this.spec,e.spec)}destroy(){}}class fr{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new fr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new fr(e,e,new ov(t,n))}static inline(e,t,n,i){return new fr(e,t,new si(n,i))}static node(e,t,n,i){return new fr(e,t,new sv(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof si}}const ka=[],qi={};class ut{constructor(e,t){this.local=e.length?e:ka,this.children=t.length?t:ka}static create(e,t){return t.length?ec(t,e,0,qi):Ut}find(e,t,n){let i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,n),i}findInner(e,t,n,i,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!a||a(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,i+s,a)}}map(e,t,n){return this==Ut||e.maps.length==0?this:this.mapInner(e,t,0,0,n||qi)}mapInner(e,t,n,i,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?S2(this.children,o||[],e,t,n,i,a):o?new ut(o.sort(Ui),ka):Ut}add(e,t){return t.length?this==Ut?ut.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,a=0;e.forEach((s,l)=>{let u=l+n,c;if(!!(c=kx(t,s,u))){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(s,c,u+1):i.splice(a,0,l,l+s.nodeSize,ec(c,s,u+1,qi)),a+=3}});let o=wx(a?xx(t):t,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new ut(o.length?this.local.concat(o).sort(Ui):this.local,i||this.children)}remove(e){return e.length==0||this==Ut?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,s=n[a]+t,l=n[a+1]+t;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(o||(o=[])).push(f));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(o,s+1);u!=Ut?n[a+2]=u:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let s=0;s<i.length;s++)i[s].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new ut(i,n):Ut}forChild(e,t){if(this==Ut)return this;if(t.isLeaf)return ut.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let a=e+1,o=a+t.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof si){let u=Math.max(a,l.from)-a,c=Math.min(o,l.to)-a;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new ut(i.sort(Ui),ka);return n?new Xn([s,n]):s}return n||Ut}eq(e){if(this==e)return!0;if(!(e instanceof ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return lv(this.localsInner(e))}localsInner(e){if(this==Ut)return ka;if(e.inlineContent||!this.local.some(si.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof si||t.push(this.local[n]);return t}}ut.empty=new ut([],[]);ut.removeOverlap=lv;const Ut=ut.empty;class Xn{constructor(e){this.members=e}map(e,t){const n=this.members.map(i=>i.map(e,t,qi));return Xn.from(n)}forChild(e,t){if(t.isLeaf)return ut.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=Ut&&(a instanceof Xn?n=n.concat(a.members):n.push(a))}return Xn.from(n)}eq(e){if(!(e instanceof Xn)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(!!a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let o=0;o<a.length;o++)t.push(a[o])}}return t?lv(n?t:t.sort(Ui)):ka}static from(e){switch(e.length){case 0:return Ut;case 1:return e[0];default:return new Xn(e.every(t=>t instanceof ut)?e:e.reduce((t,n)=>t.concat(n instanceof ut?n:n.members),[]))}}}function S2(r,e,t,n,i,a,o){let s=r.slice();for(let u=0,c=a;u<t.maps.length;u++){let f=0;t.maps[u].forEach((d,h,p,v)=>{let m=v-p-(h-d);for(let g=0;g<s.length;g+=3){let b=s[g+1];if(b<0||d>b+c-f)continue;let k=s[g]+c-f;h>=k?s[g+1]=d<=k?-2:-1:p>=i&&m&&(s[g]+=m,s[g+1]+=m)}f+=m}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=t.map(r[u]+a),f=c-i;if(f<0||f>=n.content.size){l=!0;continue}let d=t.map(r[u+1]+a,-1),h=d-i,{index:p,offset:v}=n.content.findIndex(f),m=n.maybeChild(p);if(m&&v==f&&v+m.nodeSize==h){let g=s[u+2].mapInner(t,m,c+1,r[u]+a+1,o);g!=Ut?(s[u]=f,s[u+1]=h,s[u+2]=g):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=O2(s,r,e,t,i,a,o),c=ec(u,n,0,o);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new ut(e.sort(Ui),s)}function wx(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new fr(i.from+e,i.to+e,i.type))}return t}function O2(r,e,t,n,i,a,o){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(n,i,u);f?t.push(f):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&s(r[l+2],e[l]+a+1);return t}function kx(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let a=0,o;a<r.length;a++)(o=r[a])&&o.from>t&&o.to<n&&((i||(i=[])).push(o),r[a]=null);return i}function xx(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function ec(r,e,t,n){let i=[],a=!1;e.forEach((s,l)=>{let u=kx(r,s,l+t);if(u){a=!0;let c=ec(u,s,t+l+1,n);c!=Ut&&i.push(l,l+s.nodeSize,c)}});let o=wx(a?xx(r):r,-t).sort(Ui);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||(n.onRemove&&n.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new ut(o,i):Ut}function Ui(r,e){return r.from-e.from||r.to-e.to}function lv(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[i]=a.copy(a.from,n.to),wb(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),wb(e,i,n.copy(a.from,n.to)));break}}}return e}function wb(r,e,t){for(;e<r.length&&Ui(t,r[e])>0;)e++;r.splice(e,0,t)}function Nf(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=Ut&&e.push(n)}),r.cursorWrapper&&e.push(ut.create(r.state.doc,[r.cursorWrapper.deco])),Xn.from(e)}const M2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},E2=dr&&oi<=11;class D2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class A2{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new D2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);dr&&oi<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),E2&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,M2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!hb(this.view)){if(this.suppressingSelectionUpdates)return In(this.view);if(dr&&oi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ji(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=Jo(a))t.add(a);for(let a=e.anchorNode;a;a=Jo(a))if(t.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&hb(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,s=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let f=this.registerMutation(t[c],l);f&&(a=a<0?f.from:Math.min(f.from,a),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(s=!0))}if(Wr&&l.length>1){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ac(n)&&(u=tv(e))&&u.eq(Ce.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,In(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),P2(e)),this.handleDOMChange(a,o,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||In(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)t.push(e.addedNodes[c]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(dr&&oi<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(a=d)}let o=i&&i.parentNode==e.target?wr(i)+1:0,s=n.localPosFromDOM(e.target,o,-1),l=a&&a.parentNode==e.target?wr(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let kb=new WeakMap,xb=!1;function P2(r){if(!kb.has(r)&&(kb.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Wr,xb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),xb=!0}}function N2(r){let e;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}r.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",t,!0);let n=e.startContainer,i=e.startOffset,a=e.endContainer,o=e.endOffset,s=r.domAtPos(r.state.selection.anchor);return Ji(s.node,s.offset,a,o)&&([n,i,a,o]=[a,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o}}function R2(r,e,t){let{node:n,fromOffset:i,toOffset:a,from:o,to:s}=r.docView.parseRange(e,t),l=r.domSelectionRange(),u,c=l.anchorNode;if(c&&r.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Ac(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Zt&&r.input.lastKeyCode===8)for(let m=a;m>i;m--){let g=n.childNodes[m-1],b=g.pmViewDesc;if(g.nodeName=="BR"&&!b){a=m;break}if(!b||b.size)break}let f=r.state.doc,d=r.someProp("domParser")||Xi.fromSchema(r.state.schema),h=f.resolve(o),p=null,v=d.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:a,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:L2,context:h});if(u&&u[0].pos!=null){let m=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=m),p={anchor:m+o,head:g+o}}return{doc:v,sel:p,from:o,to:s}}function L2(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(nr&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||nr&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}function I2(r,e,t,n,i){if(e<0){let C=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,H=tv(r,C);if(H&&!r.state.selection.eq(H)){if(Zt&&$r&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",N=>N(r,Ri(13,"Enter"))))return;let V=r.state.tr.setSelection(H);C=="pointer"?V.setMeta("pointer",!0):C=="key"&&V.scrollIntoView(),r.dispatch(V)}return}let a=r.state.doc.resolve(e),o=a.sharedDepth(t);e=a.before(o+1),t=r.state.doc.resolve(t).after(o+1);let s=r.state.selection,l=R2(r,e,t),u=r.state.doc,c=u.slice(l.from,l.to),f,d;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(f=r.state.selection.to,d="end"):(f=r.state.selection.from,d="start"),r.input.lastKeyCode=null;let h=H2(c.content,l.doc.content,l.from,f,d);if((Fa&&r.input.lastIOSEnter>Date.now()-225||$r)&&i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"||C.nodeName=="LI")&&(!h||h.endA>=h.endB)&&r.someProp("handleKeyDown",C=>C(r,Ri(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!h)if(n&&s instanceof Ie&&!s.empty&&s.$head.sameParent(s.$anchor)&&!r.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:s.from,endA:s.to,endB:s.to};else{if(l.sel){let C=Tb(r,r.state.doc,l.sel);C&&!C.eq(r.state.selection)&&r.dispatch(r.state.tr.setSelection(C))}return}if(Zt&&r.cursorWrapper&&l.sel&&l.sel.anchor==r.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let C=h.endB-h.start;l.sel={anchor:l.sel.anchor+C,head:l.sel.anchor+C}}r.input.domChangeCount++,r.state.selection.from<r.state.selection.to&&h.start==h.endB&&r.state.selection instanceof Ie&&(h.start>r.state.selection.from&&h.start<=r.state.selection.from+2&&r.state.selection.from>=l.from?h.start=r.state.selection.from:h.endA<r.state.selection.to&&h.endA>=r.state.selection.to-2&&r.state.selection.to<=l.to&&(h.endB+=r.state.selection.to-h.endA,h.endA=r.state.selection.to)),dr&&oi<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let p=l.doc.resolveNoCache(h.start-l.from),v=l.doc.resolveNoCache(h.endB-l.from),m=u.resolve(h.start),g=p.sameParent(v)&&p.parent.inlineContent&&m.end()>=h.endA,b;if((Fa&&r.input.lastIOSEnter>Date.now()-225&&(!g||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!g&&p.pos<l.doc.content.size&&(b=Ce.findFrom(l.doc.resolve(p.pos+1),1,!0))&&b.head==v.pos)&&r.someProp("handleKeyDown",C=>C(r,Ri(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>h.start&&B2(u,h.start,h.endA,p,v)&&r.someProp("handleKeyDown",C=>C(r,Ri(8,"Backspace")))){$r&&Zt&&r.domObserver.suppressSelectionUpdates();return}Zt&&$r&&h.endB==h.start&&(r.input.lastAndroidDelete=Date.now()),$r&&!g&&p.start()!=v.start()&&v.parentOffset==0&&p.depth==v.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,v=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{r.someProp("handleKeyDown",function(C){return C(r,Ri(13,"Enter"))})},20));let k=h.start,T=h.endA,x,w,_;if(g){if(p.pos==v.pos)dr&&oi<=11&&p.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>In(r),20)),x=r.state.tr.delete(k,T),w=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(_=$2(p.parent.content.cut(p.parentOffset,v.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))x=r.state.tr,_.type=="add"?x.addMark(k,T,_.mark):x.removeMark(k,T,_.mark);else if(p.parent.child(p.index()).isText&&p.index()==v.index()-(v.textOffset?0:1)){let C=p.parent.textBetween(p.parentOffset,v.parentOffset);if(r.someProp("handleTextInput",H=>H(r,k,T,C)))return;x=r.state.tr.insertText(C,k,T)}}if(x||(x=r.state.tr.replace(k,T,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let C=Tb(r,x.doc,l.sel);C&&!(Zt&&$r&&r.composing&&C.empty&&(h.start!=h.endB||r.input.lastAndroidDelete<Date.now()-100)&&(C.head==k||C.head==x.mapping.map(T)-1)||dr&&C.empty&&C.head==k)&&x.setSelection(C)}w&&x.ensureMarks(w),r.dispatch(x.scrollIntoView())}function Tb(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:rv(r,e.resolve(t.anchor),e.resolve(t.head))}function $2(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,a=n,o,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<t.length;c++)a=t[c].removeFromSet(a);if(i.length==1&&a.length==0)s=i[0],o="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&a.length==1)s=a[0],o="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(j.from(u).eq(r))return{mark:s,type:o}}function B2(r,e,t,n,i){if(!n.parent.isTextblock||t-e<=i.pos-n.pos||Rf(n,!0,!1)<i.pos)return!1;let a=r.resolve(e);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=r.resolve(Rf(a,!0,!0));return!o.parent.isTextblock||o.pos>t||Rf(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Rf(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function H2(r,e,t,n,i){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:o,b:s}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(o,s));n-=o+l-a}return o<a&&r.size<e.size?(a-=n<=a&&n>=o?a-n:0,s=a+(s-o),o=a):s<a&&(a-=n<=a&&n>=s?a-n:0,o=a+(o-s),s=a),{start:a,endA:o,endB:s}}class uv{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new s2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Mb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Sb(this),Cb(this),this.nodeViews=Ob(this),this.docView=sb(this.state.doc,_b(this),Nf(this),this.dom,this),this.domObserver=new A2(this,(n,i,a,o)=>I2(this,n,i,a,o)),this.domObserver.start(),l2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Yh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Mb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(yx(this),a=!0),this.state=e;let o=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let d=Ob(this);z2(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&Yh(this),this.editable=Sb(this),Cb(this);let s=Nf(this),l=_b(this),u=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(n.selection))&&(a=!0);let f=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&SB(this);if(a){this.domObserver.stop();let d=c&&(dr||Zt)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&F2(n.selection,e.selection);if(c){let h=Zt?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=sb(e.doc,l,s,this.dom,this)),h&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&JB(this))?In(this,d):(ax(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&OB(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ye){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&rb(this,t.getBoundingClientRect(),e)}else rb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[e];if(s!=null&&(i=t?t(s):s))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[e];if(s!=null&&(i=t?t(s):s))return i}}hasFocus(){if(dr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&MB(this.dom),In(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}posAtCoords(e){return NB(this,e)}coordsAtPos(e,t=1){return Jk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return BB(this,t||this.state,e)}pasteHTML(e,t){return Qo(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Qo(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){!this.docView||(u2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Nf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return f2(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return nr&&this.root.nodeType===11&&kB(this.dom.ownerDocument)==this.dom?N2(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function _b(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),e.translate="no",r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"&&(e.class+=" "+t[n]),n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),[fr.node(0,r.state.doc.content.size,e)]}function Cb(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:fr.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Sb(r){return!r.someProp("editable",e=>e(r.state)===!1)}function F2(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Ob(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function z2(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function Mb(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var di={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Eb=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var V2=typeof navigator<"u"&&/Mac/.test(navigator.platform),q2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),U2=V2||Eb&&+Eb[1]<57;for(var Pt=0;Pt<10;Pt++)di[48+Pt]=di[96+Pt]=String(Pt);for(var Pt=1;Pt<=24;Pt++)di[Pt+111]="F"+Pt;for(var Pt=65;Pt<=90;Pt++)di[Pt]=String.fromCharCode(Pt+32),tc[Pt]=String.fromCharCode(Pt);for(var Lf in di)tc.hasOwnProperty(Lf)||(tc[Lf]=di[Lf]);function W2(r){var e=U2&&(r.ctrlKey||r.altKey||r.metaKey)||q2&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?tc:di)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const j2=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Y2(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,a,o;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))j2?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function G2(r){let e=Object.create(null);for(let t in r)e[Y2(t)]=r[t];return e}function If(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}function es(r){return new mr({props:{handleKeyDown:K2(r)}})}function K2(r){let e=G2(r);return function(t,n){let i=W2(n),a=i.length==1&&i!=" ",o,s=e[If(i,n,!a)];if(s&&s(t.state,t.dispatch,t))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=di[n.keyCode])&&o!=i){let l=e[If(o,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(a&&n.shiftKey){let l=e[If(i,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}const cv=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function X2(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const J2=(r,e,t)=>{let n=X2(r,t);if(!n)return!1;let i=Tx(n);if(!i){let o=n.blockRange(),s=o&&Ec(o);return s==null?!1:(e&&e(r.tr.lift(o,s).scrollIntoView()),!0)}let a=i.nodeBefore;if(!a.type.spec.isolating&&Mx(r,i,e))return!0;if(n.parent.content.size==0&&(Va(a,"end")||ye.isSelectable(a))){let o=Qp(r.doc,n.before(),n.after(),Z.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Va(a,"end")?Ce.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):ye.create(s.doc,i.pos-a.nodeSize)),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Va(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Q2=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=Tx(n)}let o=a&&a.nodeBefore;return!o||!ye.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ye.create(r.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function Tx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Z2(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const _x=(r,e,t)=>{let n=Z2(r,t);if(!n)return!1;let i=Cx(n);if(!i)return!1;let a=i.nodeAfter;if(Mx(r,i,e))return!0;if(n.parent.content.size==0&&(Va(a,"start")||ye.isSelectable(a))){let o=Qp(r.doc,n.before(),n.after(),Z.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Va(a,"start")?Ce.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):ye.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},eH=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=Cx(n)}let o=a&&a.nodeAfter;return!o||!ye.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ye.create(r.doc,a.pos)).scrollIntoView()),!0)};function Cx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const Sx=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function fv(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const dv=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),a=t.indexAfter(-1),o=fv(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let s=t.after(),l=r.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Ce.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},tH=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof tr||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=fv(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=r.tr.insert(o,a.createAndFill());s.setSelection(Ie.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},rH=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Aa(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),i=n&&Ec(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)};function nH(r){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof ye&&e.selection.node.isBlock)return!n.parentOffset||!Aa(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let a=i.parentOffset==i.parent.content.size,o=e.tr;(e.selection instanceof Ie||e.selection instanceof tr)&&o.deleteSelection();let s=n.depth==0?null:fv(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=r&&r(i.parent,a),u=l?[l]:a&&s?[{type:s}]:void 0,c=Aa(o.doc,o.mapping.map(n.pos),1,u);if(!u&&!c&&Aa(o.doc,o.mapping.map(n.pos),1,s?[{type:s}]:void 0)&&(s&&(u=[{type:s}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,u),!a&&!n.parentOffset&&n.parent.type!=s)){let f=o.mapping.map(n.before()),d=o.doc.resolve(f);s&&n.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&o.setNodeMarkup(o.mapping.map(n.before()),s)}t(o.scrollIntoView())}return!0}}const iH=nH(),Ox=(r,e)=>(e&&e(r.tr.setSelection(new tr(r.doc))),!0);function aH(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||Bk(r.doc,e.pos))?!1:(t&&t(r.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function Mx(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a,o;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(aH(r,e,t))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(a=(o=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&o.matchType(a[0]||i.type).validEnd){if(t){let f=e.pos+i.nodeSize,d=j.empty;for(let v=a.length-1;v>=0;v--)d=j.from(a[v].create(null,d));d=j.from(n.copy(d));let h=r.tr.step(new Tt(e.pos-1,f,e.pos,f,new Z(d,1,0),a.length,!0)),p=f+2*a.length;Bk(h.doc,p)&&h.join(p),t(h.scrollIntoView())}return!0}let l=Ce.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Ec(u);if(c!=null&&c>=e.depth)return t&&t(r.tr.lift(u,c).scrollIntoView()),!0;if(s&&Va(i,"start",!0)&&Va(n,"end")){let f=n,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(t){let v=j.empty;for(let g=d.length-1;g>=0;g--)v=j.from(d[g].copy(v));let m=r.tr.step(new Tt(e.pos-d.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new Z(v,d.length,0),0,!0));t(m.scrollIntoView())}return!0}}return!1}function Ex(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(Ie.create(e.doc,r<0?i.start(a):i.end(a)))),!0):!1}}const oH=Ex(-1),sH=Ex(1);function lH(r,e=null){return function(t,n){let{$from:i,$to:a}=t.selection,o=i.blockRange(a),s=o&&X$(o,r,e);return s?(n&&n(t.tr.wrap(o,s).scrollIntoView()),!0):!1}}function hv(r,e=null){return function(t,n){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:s}}=t.selection.ranges[a];t.doc.nodesBetween(o,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)i=!0;else{let c=t.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,r)}})}if(!i)return!1;if(n){let a=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=t.selection.ranges[o];a.setBlockType(s,l,r,e)}n(a.scrollIntoView())}return!0}}function uH(r,e,t){for(let n=0;n<e.length;n++){let{$from:i,$to:a}=e[n],o=i.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(i.pos,a.pos,s=>{if(o)return!1;o=s.inlineContent&&s.type.allowsMarkType(t)}),o)return!0}return!1}function us(r,e=null){return function(t,n){let{empty:i,$cursor:a,ranges:o}=t.selection;if(i&&!a||!uH(t.doc,o,r))return!1;if(n)if(a)r.isInSet(t.storedMarks||a.marks())?n(t.tr.removeStoredMark(r)):n(t.tr.addStoredMark(r.create(e)));else{let s=!1,l=t.tr;for(let u=0;!s&&u<o.length;u++){let{$from:c,$to:f}=o[u];s=t.doc.rangeHasMark(c.pos,f.pos,r)}for(let u=0;u<o.length;u++){let{$from:c,$to:f}=o[u];if(s)l.removeMark(c.pos,f.pos,r);else{let d=c.pos,h=f.pos,p=c.nodeAfter,v=f.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,g=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;d+m<h&&(d+=m,h-=g),l.addMark(d,h,r.create(e))}}n(l.scrollIntoView())}return!0}}function Lc(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}let $f=Lc(cv,J2,Q2),Db=Lc(cv,_x,eH);const Mn={Enter:Lc(Sx,tH,rH,iH),"Mod-Enter":dv,Backspace:$f,"Mod-Backspace":$f,"Shift-Backspace":$f,Delete:Db,"Mod-Delete":Db,"Mod-a":Ox},Dx={"Ctrl-h":Mn.Backspace,"Alt-Backspace":Mn["Mod-Backspace"],"Ctrl-d":Mn.Delete,"Ctrl-Alt-Backspace":Mn["Mod-Delete"],"Alt-Delete":Mn["Mod-Delete"],"Alt-d":Mn["Mod-Delete"],"Ctrl-a":oH,"Ctrl-e":sH};for(let r in Mn)Dx[r]=Mn[r];const cH=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Ab=cH?Dx:Mn;class yi{constructor(e,t){this.match=e,this.match=e,this.handler=typeof t=="string"?fH(t):t}}function fH(r){return function(e,t,n,i){let a=r;if(t[1]){let o=t[0].lastIndexOf(t[1]);a+=t[0].slice(o+t[1].length),n+=o;let s=n-i;s>0&&(a=t[0].slice(o-s,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const dH=500;function Ax({rules:r}){let e=new mr({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,a){return Pb(t,n,i,a,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&Pb(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function Pb(r,e,t,n,i,a){if(r.composing)return!1;let o=r.state,s=o.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-dH),s.parentOffset,null,"\uFFFC")+n;for(let u=0;u<i.length;u++){let c=i[u].match.exec(l),f=c&&i[u].handler(o,c,e-(c[0].length-n.length),t);if(!!f)return r.dispatch(f.setMeta(a,{transform:f,from:e,to:t,text:n})),!0}return!1}const hH=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],a;if(i.spec.isInputRules&&(a=i.getState(r))){if(e){let o=r.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l--)o.step(s.steps[l].invert(s.docs[l]));if(a.text){let l=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,r.schema.text(a.text,l))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new yi(/--$/,"\u2014");new yi(/\.\.\.$/,"\u2026");new yi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new yi(/"$/,"\u201D");new yi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new yi(/'$/,"\u2019");var rc=200,It=function(){};It.prototype.append=function(e){return e.length?(e=It.from(e),!this.length&&e||e.length<rc&&this.leafAppend(e)||this.length<rc&&e.leafPrepend(this)||this.appendInner(e)):this};It.prototype.prepend=function(e){return e.length?It.from(e).append(this):this};It.prototype.appendInner=function(e){return new pH(this,e)};It.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?It.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};It.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};It.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};It.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},t,n),i};It.from=function(e){return e instanceof It?e:e&&e.length?new Px(e):It.empty};var Px=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,s){for(var l=a;l<o;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,s){for(var l=a-1;l>=o;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=rc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=rc)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(It);It.empty=new Px([]);var pH=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(n,Math.min(i,s),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(It),Nx=It;const vH=500;class Br{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;t&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),a=i.maps.length),a--,c.push(f);return}if(i){c.push(new nn(f.map));let h=f.step.map(i.slice(a)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new nn(p,void 0,void 0,u.length+c.length))),a--,p&&i.appendMap(p,a)}else o.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(a)):f.selection,l=new Br(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,t,n,i){let a=[],o=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new nn(e.mapping.maps[c],f,t),h;(h=l&&l.merge(d))&&(d=h,c?a.pop():s=s.slice(0,s.length-1)),a.push(d),t&&(o++,t=void 0),i||(l=d)}let u=o-n.depth;return u>gH&&(s=mH(s,u),o-=u),new Br(s.append(a),o)}remapping(e,t){let n=new Da;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new Br(this.items.append(e.map(t=>new nn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=t;this.items.forEach(d=>{let h=a.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=a.maps[h];if(d.step){let v=e.steps[h].invert(e.docs[h]),m=d.selection&&d.selection.map(a.slice(l+1,h));m&&s++,n.push(new nn(p,v,m))}else n.push(new nn(p))},i);let u=[];for(let d=t;d<o;d++)u.push(new nn(a.maps[d]));let c=this.items.slice(0,i).append(u).append(n),f=new Br(c,s);return f.emptyItemCount()>vH&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],a=0;return this.items.forEach((o,s)=>{if(s>=e)i.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(t.slice(n)),u=l&&l.getMap();if(n--,u&&t.appendMap(u,n),l){let c=o.selection&&o.selection.map(t.slice(n));c&&a++;let f=new nn(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else o.map&&n--},this.items.length,0),new Br(Nx.from(i.reverse()),a)}}Br.empty=new Br(Nx.empty,0);function mH(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}class nn{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new nn(t.getMap().invert(),t,this.selection)}}}class Kn{constructor(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i}}const gH=20;function yH(r,e,t,n){let i=t.getMeta($n),a;if(i)return i.historyState;t.getMeta(wH)&&(r=new Kn(r.done,r.undone,null,0));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta($n))return o.getMeta($n).redo?new Kn(r.done.addTransform(t,void 0,n,Bl(e)),r.undone,Nb(t.mapping.maps[t.steps.length-1]),r.prevTime):new Kn(r.done,r.undone.addTransform(t,void 0,n,Bl(e)),null,r.prevTime);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=r.prevTime==0||!o&&(r.prevTime<(t.time||0)-n.newGroupDelay||!bH(t,r.prevRanges)),l=o?Bf(r.prevRanges,t.mapping):Nb(t.mapping.maps[t.steps.length-1]);return new Kn(r.done.addTransform(t,s?e.selection.getBookmark():void 0,n,Bl(e)),Br.empty,l,t.time)}else return(a=t.getMeta("rebased"))?new Kn(r.done.rebased(t,a),r.undone.rebased(t,a),Bf(r.prevRanges,t.mapping),r.prevTime):new Kn(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Bf(r.prevRanges,t.mapping),r.prevTime)}function bH(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function Nb(r){let e=[];return r.forEach((t,n,i,a)=>e.push(i,a)),e}function Bf(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),a=e.map(r[n+1],-1);i<=a&&t.push(i,a)}return t}function Rx(r,e,t,n){let i=Bl(e),a=$n.get(e).spec.config,o=(n?r.undone:r.done).popEvent(e,i);if(!o)return;let s=o.selection.resolve(o.transform.doc),l=(n?r.done:r.undone).addTransform(o.transform,e.selection.getBookmark(),a,i),u=new Kn(n?l:o.remaining,n?o.remaining:l,null,0);t(o.transform.setSelection(s).setMeta($n,{redo:n,historyState:u}).scrollIntoView())}let Hf=!1,Rb=null;function Bl(r){let e=r.plugins;if(Rb!=e){Hf=!1,Rb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Hf=!0;break}}return Hf}const $n=new ss("history"),wH=new ss("closeHistory");function Lx(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new mr({key:$n,state:{init(){return new Kn(Br.empty,Br.empty,null,0)},apply(e,t,n){return yH(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?Uo:n=="historyRedo"?pv:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const Uo=(r,e)=>{let t=$n.getState(r);return!t||t.done.eventCount==0?!1:(e&&Rx(t,r,e,!1),!0)},pv=(r,e)=>{let t=$n.getState(r);return!t||t.undone.eventCount==0?!1:(e&&Rx(t,r,e,!0),!0)};function kH(r){let e=$n.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.1 | Thu Sep 29 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gh=function(r,e){return Gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Gh(r,e)};function ee(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var I=function(){return I=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},I.apply(this,arguments)};function hr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function Pe(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function xH(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var qa=xH;function TH(r,e){var t=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var vv=TH;function _H(r){return typeof r=="string"||r instanceof String}var zn=_H;function CH(r){return r instanceof Array}var no=CH;function SH(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var Ua=SH,OH=no,MH=Ua,EH=qa;function DH(r,e,t){OH(r)?MH(r,e,t):EH(r,e,t)}var Ic=DH,AH=zn,PH=Ic;function NH(r,e,t){var n=r.style;if(AH(e)){n[e]=t;return}PH(e,function(i,a){n[a]=i})}var gn=NH,RH=no;function LH(r,e,t){var n,i;if(t=t||0,!RH(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var ea=LH;function IH(r){return r===void 0}var jr=IH,$H=jr;function BH(r){return!r||!r.className?"":$H(r.className.baseVal)?r.className:r.className.baseVal}var mv=BH,HH=no,FH=jr;function zH(r,e){if(e=HH(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),FH(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var Ix=zH,Lb=Ic,VH=ea,qH=mv,UH=Ix;function WH(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){Lb(e,function(a){r.classList.add(a)});return}i=qH(r),i&&(e=[].concat(i.split(/\s+/),e)),Lb(e,function(a){VH(a,n)<0&&n.push(a)}),UH(r,n)}var hn=WH,Ib=Ua,jH=ea,YH=mv,GH=Ix;function KH(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){Ib(e,function(a){t.remove(a)});return}n=YH(r).split(/\s+/),i=[],Ib(n,function(a){jH(a,e)<0&&i.push(a)}),GH(r,i)}var Hr=KH;function XH(r){return typeof r=="number"||r instanceof Number}var En=XH;function JH(r){return r===null}var nc=JH,QH=qa;function ZH(r,e){var t=document.createElement("img"),n="";return QH(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var eF=ZH,tF=jr,rF=eF,nF=7*24*60*60*1e3;function iF(r){var e=new Date().getTime();return e-r>nF}function aF(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+r+" for "+n+": Statistics",s=window.localStorage.getItem(o);!tF(window.tui)&&window.tui.usageStatistics===!1||s&&!iF(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&rF(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:a})},1e3))}var oF=aF;/Mac/.test(navigator.platform);var sF=/[\u0020]+/g,lF=/[>(){}[\]+-.!#|]/g,$b=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Bb=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,uF=/[*_~`]/g,Hb=/!\[.*\]\(.*\)/g,cF=/[[\]]/g,Fb=/(?:^|[^\\])\\(?!\\)/g,fF='[&<>"]',zb=new RegExp(fF,"g");function dF(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Ca(r){return zb.test(r)?r.replace(zb,dF):r}function hF(){oF("editor","UA-129966929-1")}function Bt(r,e){return r.indexOf(e)!==-1}var pF=["rel","target","hreflang","type"],vF={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function $x(r){if(!r)return null;var e={};return pF.forEach(function(t){jr(r[t])||(e[t]=r[t])}),e}function ic(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function mF(r){var e=!1;return qa(vF,function(t){return t.test(r)&&(e=!0),!e}),e}function ac(r){for(var e=[],t=Hb.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=Hb.exec(r);return r.replace(cF,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function gF(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(sF," ");return Bb.test(n)&&(n=n.replace(Bb,e)),Fb.test(n)&&(n=n.replace(Fb,t)),n=n.replace(uF,e),$b.test(n)&&(n=n.replace($b,e)),mF(n)&&(n=n.replace(lF,e)),n}function yF(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function Kh(r){return nc(r)||jr(r)}function gv(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||Kh(r)||Kh(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function jt(r){return r[r.length-1]}function bF(r,e,t){return r>=e&&r<=t}function yv(r){return typeof r=="object"&&r!==null}function oc(r,e){var t=I({},r);return r&&e&&Object.keys(e).forEach(function(n){yv(t[n])?Array.isArray(e[n])?t[n]=bv(e[n]):t.hasOwnProperty(n)?t[n]=oc(t[n],e[n]):t[n]=wv(e[n]):t[n]=e[n]}),t}function bv(r){return r.map(function(e){return yv(e)?Array.isArray(e)?bv(e):wv(e):e})}function wv(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return yv(r[n])?t[n]=Array.isArray(r[n])?bv(r[n]):wv(r[n]):t[n]=r[n],t},{}):r}function kv(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:kv(r[t],e[t]):r[t]=e[t]}),r}function Vb(r,e){return r>e?[e,r]:[r,e]}function wF(r){var e=/^\s(\S*)/g;return e.test(r)}function kF(r){var e=/(\S*)\s$/g;return e.test(r)}var xF=Ua;function TF(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],xF(r,function(n){e.push(n)})}return e}var yn=TF;function sc(r,e){var t=r.nodes.paragraph;return e?t.create(null,zn(e)?r.text(e):e):t.createAndFill()}function $t(r,e,t){return r.text(e,t)}function tt(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return Ie.create(r.doc,Math.min(e,i),Math.min(t,i))}function xv(r,e,t){var n=e.pos;return r.replaceWith(n,n,sc(t)),r.setSelection(tt(r,n+1))}function lc(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,a=r.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=i;u+=1){var c=s.child(u),f=c.nodeSize,d=c.textContent,h=c.content,p=a(d),v=p?$t(l,p):j.empty,m=o.mapping.map(t),g=m+h.size;o.replaceWith(m,g,v),t+=f}return o}function Tv(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(tt(r,r.mapping.map(e)-i))}function cs(r){return r.sourcepos[0][0]}function $c(r){return r.sourcepos[1][0]}function Bc(r){return r.sourcepos[0][1]}function li(r){return r.sourcepos[1][1]}function _F(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function CF(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function SF(r){return r&&r.type==="codeBlock"}function ta(r){return r&&(r.type==="item"||r.type==="list")}function Bx(r){return ta(r)&&r.listData.type==="ordered"}function OF(r){return ta(r)&&r.listData.type!=="ordered"}function qb(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function MF(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Wa(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function EF(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function kt(r,e){return[r[0],r[1]+e]}function ui(r,e){return[r[0],e]}function DF(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,a=r.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function AF(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function PF(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var ts=[],Hx={},Ub=/\$\$widget\d+\s/;function Hc(r){var e=r.search(Ub);if(e!==-1){var t=r.substring(e),n=t.replace(Ub,"").replace("$$","");r=r.substring(0,e),r+=Hc(n)}return r}function Fx(r,e){return"$$"+r+" "+e+"$$"}function zx(r,e){var t=Hx[r],n=t.rule,i=t.toDOM,a=Hc(e).match(n);return a&&(e=a[0]),i(e)}function NF(){return ts}function RF(r){ts=r,ts.forEach(function(e,t){Hx["widget"+t]=e})}function Ff(r,e,t,n){return r.concat(Wi(e,t,n))}function Wi(r,e,t){t===void 0&&(t=0);var n=[],i=(ts[t]||{}).rule,a=t+1;if(r=Hc(r),i&&i.test(r)){for(var o=void 0;(o=r.search(i))!==-1;){var s=r.substring(0,o);s&&(n=Ff(n,s,e,a)),r=r.substring(o);var l=r.match(i)[0],u="widget"+t;n.push(e.nodes.widget.create({info:u},e.text(Fx(u,l)))),r=r.substring(l.length)}r&&(n=Ff(n,r,e,a))}else r&&(n=t<ts.length-1?Ff(n,r,e,a):[e.text(r)]);return n}function Vx(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==r&&i.type!=="text"?(t+=DF(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function qx(){return{deleteSelection:function(){return cv},selectAll:function(){return Ox},undo:function(){return Uo},redo:function(){return pv}}}function LF(r){return new mr({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return hn(n,"placeholder"),r.className&&hn(n,r.className),n.textContent=r.text,ut.create(t,[fr.widget(1,n)])}return null}}})}var IF=ea,$F=mv;function BF(r,e){var t;return r.classList?r.classList.contains(e):(t=$F(r).split(/\s+/),IF(e,t)>-1)}var Ux=BF,HF=ea,FF=yn,Ps=Element.prototype,zF=Ps.matches||Ps.webkitMatchesSelector||Ps.mozMatchesSelector||Ps.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return HF(this,FF(e.querySelectorAll(r)))>-1};function VF(r,e){return zF.call(r,e)}var qF=VF,Wx="[A-Za-z][A-Za-z0-9-]*",UF="[a-zA-Z_:][a-zA-Z0-9:._-]*",WF="[^\"'=<>`\\x00-\\x20]+",jF="'[^']*'",YF='"[^"]*"',GF="(?:"+WF+"|"+jF+"|"+YF+")",KF="(?:\\s*=\\s*"+GF+")",jx="(?:\\s+"+UF+KF+"?)",Yx="<("+Wx+")("+jx+")*\\s*/?>",XF="</("+Wx+")\\s*[>]",Gx="(?:"+Yx+"|"+XF+")",ja=new RegExp("^"+Gx,"i"),Xh=/<br\s*\/*>/i,JF=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Kx="</p><p>",Wb="a";function _v(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),a=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),o=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+a&&t>=i&&t<=i+o}var Xx="toastui-editor-";function ie(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&t.push(""+Xx+o)}return t.join(" ")}function wt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return Xx+"md-"+t}).join(" ")}function QF(r){return(r==null?void 0:r.nodeType)===Node.TEXT_NODE}function Fc(r){return r&&r.nodeType===Node.ELEMENT_NODE}function ZF(r,e){var t=yn(r.querySelectorAll(e));return t.length?t:[]}function ez(r,e){e=no(e)?yn(e):[e],e.forEach(function(t){r.appendChild(t)})}function tz(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function ra(r){r.parentNode&&r.parentNode.removeChild(r)}function rz(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return ra(r),e}function Cv(r,e,t){jr(t)&&(t=!Ux(r,e));var n=t?hn:Hr;n(r,e)}function Jx(r,e){var t=document.createElement("div");zn(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function Sv(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function pn(r,e){var t;for(zn(e)?t=function(n){return qF(n,e)}:t=function(n){return n===e};r&&r!==document;){if(Fc(r)&&t(r))return r;r=r.parentNode}return null}function Qx(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,a=r.offsetLeft,o=r.offsetParent;if(t+=i,n+=a,o===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function Ov(r,e){Object.keys(r).forEach(function(t){Kh(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function nz(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(Gx,"ig"),n=e.match(t);return n==null||n.forEach(function(i,a){if(Xh.test(i)){var o=Kx;if(a){var s=n[a-1],l=s.match(Yx);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(Xh,o)}}),e}function Mv(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var Zx=new ss("widget"),jb=5,iz=function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=pn(e.dom.parentElement,"."+ie("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=Zx.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,a=e.coordsAtPos(t.pos),o=a.top,s=a.left,l=a.bottom,u=l-o,c=this.rootEl.getBoundingClientRect(),f=o-c.top;gn(n,{opacity:"0"}),this.rootEl.appendChild(n),gn(n,{position:"absolute",left:s-c.left+jb+"px",top:(i==="bottom"?f+u-jb:f-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r}();function az(r){return new mr({key:Zx,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new iz(e,r)}})}function oz(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var a=i.target;return t(a.result)},n.readAsDataURL(e)})}function Ev(r,e,t){var n=function(i,a){r.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function eT(r){var e=yn(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function sz(r){var e=r.eventEmitter;return new mr({props:{handleDOMEvents:{drop:function(t,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&Ua(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Ev(e,o,n.type),!1):!0}),!0}}}})}var Ke=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function tT(r){var e=document.createElement("span"),t=zx(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function Jh(r){return r.type.name==="widget"}var rT=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(Ke),nT=function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return $i.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=hr(hr([],this.keymaps),[es(I({"Shift-Enter":Ab.Enter},Ab)),Lx(),LF(this.placeholder),az(this.eventEmitter),sz(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=NF(),t=e.map(function(n){var i=n.rule;return new yi(i,function(a,o,s,l){var u=a.schema,c=a.tr,f=a.doc,d=o.input.match(new RegExp(i,"g")),h=f.resolve(s),p=h.parent,v=0;if(Jh(p)&&(p=h.node(h.depth-1)),p.forEach(function(b){return Jh(b)&&(v+=1)}),d.length>v){var m=jt(d),g=Wi(m,u);return c.replaceWith(l-m.length+1,l,g)}return null})});return t.length?Ax({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new Dk({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=qx(),n=t.undo,i=t.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(es(o)):a},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(tt(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(tt(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){gn(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){gn(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r}();function lz(r){return r instanceof Function}var Pr=lz,uz=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Ns(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var iT=function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return I(I({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return I(I({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var s={},l=o.commands();return Pr(l)?s[o.name]=function(u){return Ns(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return Ns(e,l[u],c)}}),I(I({},a),s)},{}),i=qx();return Object.keys(i).forEach(function(a){n[a]=function(o){return Ns(e,i[a],o)}}),t&&Object.keys(t).forEach(function(a){n[a]=function(o){return Ns(e,t[a],o)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){Bt(uz,i)||delete n[i]}),es(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r}();function aT(r){var e=r.from,t=r.to;return r instanceof tr?[e+1,t-1]:[e,t]}function Yb(r){return r.index(0)+1}function Ya(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,a){Jh(i)&&a+2<e&&(n+=2*t)}),n}function Hl(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),a=Yb(i),o=a,s=i.start(1),l=s;if(!n){var u=r.resolve(t===r.content.size?t-1:t);l=u.start(1),o=Yb(u),u.pos===r.content.size&&(t=r.content.size-2)}var c=Math.max(e-s+1,1),f=Math.max(t-l+1,1);return[[a,c+Ya(r.child(a-1),c,-1)],[o,f+Ya(r.child(o-1),f,-1)]]}function oT(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var a=r.child(n);t[n]=i,i+=a.nodeSize}return t}function Pi(r,e,t){var n=oT(r,t[0]),i=e[0]-1,a=t[0]-1,o=r.child(i),s=r.child(a),l=n[i],u=n[a];return l+=e[1]+Ya(o,e[1]-1),u+=t[1]+Ya(s,t[1]-1),[l,Math.min(u,r.content.size)]}function gt(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,a=e.doc;return r instanceof tr&&(e=a.resolve(n+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function uc(r,e){for(var t=1,n=1,i=0,a=0;i<r.childCount;i+=1){var o=r.child(i).nodeSize;if(t=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:t,endOffset:n}}var Gb="heading",cz="blockQuote",fz="listItem",dz="table",hz="tableCell",pz="codeBlock",vz="thematicBreak",Fl="link",Rs="code",zc="meta",na="delimiter",mz="taskDelimiter",Dv="markedText",gz="html",yz="customBlock",Kb={strong:2,emph:1,strike:2};function Fe(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function bz(r,e,t){var n=r.level,i=r.headingType,a=[Fe(e,t,Gb,{level:n})];return i==="atx"?a.push(Fe(e,kt(e,n),na)):a.push(Fe(ui(t,0),t,Gb,{seText:!0})),a}function zf(r,e,t){var n=r.type,i=kt(e,Kb[n]),a=kt(t,-Kb[n]);return[Fe(i,a,n),Fe(e,i,na),Fe(a,t,na)]}function sT(r,e,t,n){return[Fe(r,e,Fl),Fe(ui(r,t[1]+1),ui(e,n),Fl,{desc:!0}),Fe(ui(e,n+2),kt(e,-1),Fl,{url:!0})]}function wz(r,e,t){var n=r.lastChild,i=n?li(n)+1:3,a=kt(e,1);return hr([Fe(e,a,zc)],sT(e,t,a,i))}function kz(r,e,t){var n=r.lastChild,i=r.extendedAutolink,a=n?li(n)+1:2;return i?[Fe(e,t,Fl,{desc:!0})]:sT(e,t,e,a)}function xz(r,e,t){var n=r.tickCount,i=kt(e,n),a=kt(t,-n);return[Fe(e,t,Rs),Fe(e,i,Rs,{start:!0}),Fe(i,a,Rs,{marked:!0}),Fe(a,t,Rs,{end:!0})]}function lT(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[I(I({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),I(I({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function Tz(r,e,t,n){var i=r.fenceOffset,a=r.fenceLength,o=r.fenceChar,s=r.info,l=r.infoPadding,u=r.parent,c=i+a,f=[Fe(ui(e,1),t,pz)];o&&f.push(Fe(e,kt(e,c),na)),s&&f.push(Fe(kt(e,a),kt(e,a+l+s.length),zc));var d="^(\\s{0,4})("+o+"{"+a+",})",h=new RegExp(d);h.test(n)&&f.push(Fe(ui(t,1),t,na));var p=lT(u,e,t,"code-block");return p?f.concat(p):f}function _z(r,e,t){var n=r,i=n.offset,a=n.syntaxLength,o=n.info,s=n.parent,l=i+a,u=[Fe(ui(e,1),t,yz)];u.push(Fe(e,kt(e,l),na)),o&&u.push(Fe(kt(e,l),kt(e,a+o.length),zc)),u.push(Fe(ui(t,1),t,na));var c=lT(s,e,t,"custom-block");return c?u.concat(c):u}function uT(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(Fe([cs(r),Bc(r)-1],[$c(r),li(r)+1],e)),r=r.next}return t}function Cz(r){for(var e=[];r;)e.push(Fe([cs(r),Bc(r)],[$c(r),li(r)+1],Dv)),r=r.next;return e}function Sz(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[Fe(e,t,cz)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=Cz(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=uT(r.firstChild,Dv)),n=hr(hr([],n),i)}return n}function Oz(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[fz,I(I({},t),{listStyle:!0})]}function Mz(r,e){var t=r.listData,n=t.padding,i=t.task,a=Oz(r),o=[Fe.apply(void 0,hr([e,kt(e,n)],a))];return i&&(o.push(Fe(kt(e,n),kt(e,n+3),mz)),o.push(Fe(kt(e,n+1),kt(e,n+2),zc))),o.concat(uT(r.firstChild,Dv))}var Xb={heading:bz,strong:zf,emph:zf,strike:zf,link:kz,image:wz,code:xz,codeBlock:Tz,blockQuote:Sz,item:Mz,customBlock:_z},Jb={thematicBreak:vz,table:dz,tableCell:hz,htmlInline:gz};function Ez(r,e,t,n){var i=r.type;return Pr(Xb[i])?Xb[i](r,e,t,n):Jb[i]?[Fe(e,t,Jb[i])]:null}var rs={};function Dz(r){var e=r.schema,t=r.toastMark;return new mr({appendTransaction:function(n,i,a){var o=n[0],s=a.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(c){var f=c.nodes,d=c.removedNodeRange;if(f.length){l=l.concat(Iz(s,f));for(var h=0,p=f;h<p.length;h++)for(var v=p[h],m=v.walker(),g=m.next();g;){var b=g.node,k=g.entering;k&&(l=l.concat($z(b,t))),g=m.next()}}else if(d)for(var T=s.doc.childCount-1,x=d.line,w=x[0],_=x[1],C=Math.min(w,T),H=Math.min(_,T),V=C;V<=H;V+=1)rs[V]=!0}),Nz(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function Az(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function Pz(r,e,t,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,c=a;c<=o;c+=1)delete rs[c],u=Az(e,c,i);u&&r.setBlockType(s,l,t,i)}function Nz(r,e,t){var n=r.doc,i=e.nodes.paragraph,a=oT(n,n.childCount);t.forEach(function(o){var s=o.start,l=o.end,u=o.spec,c=o.lineBackground,f=Math.min(s[0],n.childCount)-1,d=Math.min(l[0],n.childCount)-1,h=n.child(f),p=n.child(d),v=a[f],m=a[d];if(v+=s[1]+Ya(h,s[1]-1),m+=l[1]+Ya(p,l[1]-1),u)if(c){var g={from:v,to:m,startIndex:f,endIndex:d};Pz(r,n,i,g,u.attrs)}else r.addMark(v,m,e.mark(u.type,u.attrs));else r.removeMark(v,m)}),Rz(r,a,i)}function Rz(r,e,t){Object.keys(rs).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,r.doc.childCount-1),o=e[i],s=e[a]-1;i===a&&(s+=2),r.setBlockType(o,s,t)})}function Lz(r,e,t){var n=[];rs={};for(var i=e[0]-1;i<t[0];i+=1){var a=r.child(i),o=a.attrs.codeEnd,s=a.attrs.codeStart;if(s&&o&&!Bt(n,s)){n.push(s),o=Math.min(o,r.childCount);for(var l=s-1,u=t[0],c=l;c<u;c+=1)rs[c]=!0}}}function Iz(r,e){var t=r.doc,n=e[0].sourcepos[0],i=jt(e).sourcepos,a=i[1],o=[n[0],n[1]],s=[a[0],a[1]+1],l=[];return Lz(t,n,a),l.push({start:o,end:s}),l}function $z(r,e){var t=e.getLineTexts(),n=[cs(r),Bc(r)],i=[$c(r),li(r)+1],a=Ez(r,n,i,t[i[0]-1]);return a!=null?a:[]}var Bz=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Hz(r){var e=r.type;return ta(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":Bt(Bz,e)?e:null}function Fz(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return EF(r,function(n){var i=Hz(n);!i||(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function zz(r){var e=r.toastMark,t=r.eventEmitter;return new mr({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,s=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(s))){var l=s.from,u=a.doc.resolve(l).start(),c=a.doc.content.findIndex(l).index+1,f=l-u;l===u&&(f+=1);var d=[c,f],h=e.findNodeAtPosition(d),p=Fz(h);t.emit("changeToolbarState",{cursorPos:d,mdNode:h,toolbarState:p}),t.emit("setFocusedNode",h)}}}}})}var Vz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Ke),rt=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function xr(r,e){return hi(r,e-1)}function hi(r,e){return r.child(e).textContent}var Do=/^\s*> ?/,qz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(Do,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema,u=gt(a),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,h=u.to,p=hi(o,d),v=Do.test(p);if(v&&h>c&&a.empty){var m=!p.replace(Do,"").trim();if(m)s.deleteRange(c,f).split(s.mapping.map(f));else{var g=p.slice(h-c).trim(),b=$t(l,t.createBlockQuoteText(g));Tv(s,f,g,b)}return i(s),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var a=n.selection,o=n.doc,s=gt(a),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=Do.test(hi(o,c)),h=lc({state:n,startIndex:c,endIndex:f,from:l,createText:function(p){return t.createBlockQuoteText(p,d)}});return i(h.setSelection(tt(h,h.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(rt),ia=/(^\s*)([-*+] |[\d]+\. )/,Av=/(^\s*)([\d])+\.( \[[ xX]])? /,Bn=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,cc=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Uz=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Wz=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,jz=/(^\s*)([-*+])( \[[ xX]]) /;function Pv(r){return Av.test(r)?"ordered":"bullet"}function Nv(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function Qh(r,e,t,n){for(var i=r.getLineTexts(),a=i.length,o=[],s=e;n?s<a:s>1;){s=n?s+1:s-1;var l=r.findFirstNodeAtLine(s),u=Nv(l);if(u===t)o.push({line:s,depth:t,mdNode:l});else if(u<t)break}return o}function Yz(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=Nv(t),a=Qh(e,n,i,!1).reverse(),o=Qh(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:t}]).concat(o)}function Gz(r){if(!ia.test(r))return"* "+r;var e=Pv(r);return e==="bullet"&&cc.test(r)?r=r.replace(jz,"$1$2 "):e==="ordered"&&(r=r.replace(Av,"$1* ")),r}function Kz(r,e){if(!ia.test(r))return e+". "+r;var t=Pv(r);if(t==="bullet"||t==="ordered"&&cc.test(r))r=r.replace(cc,"$1"+e+". ");else if(t==="ordered"){var n=Bn.exec(r)[3];Number(n)!==e&&(r=r.replace(Av,"$1"+e+". "))}return r}function cT(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),a=Math.max(u-1,a);var c=xr(r,u);return c=t==="bullet"?Gz(c):Kz(c,l+1+n),{text:c,line:u}});return{changedResults:o,firstIndex:i,lastIndex:a}}function Qb(r,e){var t=Yz(e);return cT(e.doc,t,r)}var Xz={bullet:function(r){return Qb("bullet",r)},ordered:function(r){return Qb("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=xr(t,n);return e.listData.task?i=i.replace(Wz,"$1$2"):ta(e)&&(i=i.replace(ia,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},Jz={bullet:function(r){var e=r.doc,t=r.line,n=xr(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,a=xr(t,n),o=1,s=i,l=0,u=i-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),f=xr(t,u),d=f&&!!Wa(c,function(k){return ta(k)}),h=Bn.exec(xr(t,u));if(!h&&!d)break;if(!h&&d){l+=1;continue}var p=h,v=p[1],m=p[3];if(!v){o=Number(m),s=u;break}}var g=o+n-s-l,b=[{text:g+". "+a,line:n}];return{changedResults:b}},task:function(r){var e=r.doc,t=r.line,n=xr(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},Qz={bullet:function(r){var e=r.line,t=r.doc,n=xr(t,e),i=Uz.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,a=Nv(n),o=xr(i,t),s=Bn.exec(o),l=s[1],u=s[3],c=s[4],f=Number(u)+1,d=""+l+f+c,h=Qh(e,t,a,!0),p=h.filter(function(v){var m=Bn.exec(xr(i,v.line));return m&&m[1].length===l.length&&!!Wa(v.mdNode,function(g){return Bx(g)})});return I({listSyntax:d},cT(i,p,"ordered",f))}};function fT(r,e,t,n,i){for(var a=[],o=xr(r,t),s=Bn.exec(o);s;){var l=s[1],u=s[4],c=s[5],f=l.length;if(f===i)a.push($t(e,""+l+n+u+c)),n+=1,t+=1;else if(f>i){var d=fT(r,e,t,1,f);t=d.line,a=a.concat(d.nodes)}if(f<i||t>r.childCount)break;o=xr(r,t),s=Bn.exec(o)}return{nodes:a,line:t}}var Zb=/(^\s{1,4})(.*)/;function e0(r,e,t){return r<e||ia.test(t)||Do.test(t)}function t0(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function r0(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return tt(r,t,n)}var Zz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:wt(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,a=i.view,o=i.toastMark,s=i.schema,l=a.state,u=l.tr,c=l.selection,f=l.doc,d=o.findFirstNodeAtLine(t),h=d;d&&!OF(d)&&d.parent.type!=="document";)if(d=d.parent,Bx(d)){h=d;break}h&&(t=h.sourcepos[0][0]);var p=Bn.exec(xr(f,t)),v=p[1],m=p[3],g=v.length,b=fT(f,s,t,Number(m),g),k=b.line,T=b.nodes;n=Math.max(n,k-1);for(var x=uc(f,t-1).startOffset,w=t-1;w<=n-1;w+=1){var _=f.child(w),C=_.nodeSize,H=_.content,V=u.mapping.map(x),N=V+H.size;u.replaceWith(V,N,T[w-t+1]),x+=C}var U=tt(u,c.from,c.to);a.dispatch(u.setSelection(U))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.schema,s=i.selection,l=i.doc,u=gt(s),c=u.from,f=u.to,d=u.startFromOffset,h=u.startIndex,p=u.endIndex;if(t&&t0(l,o,s))return!1;var v=hi(l,h);if(t&&e0(c,f,v)||!t&&ia.test(v)){var m=lc({state:i,from:d,startIndex:h,endIndex:p,createText:function(b){return"    "+b}}),g={type:"indent",from:c,to:f,lineLen:p-h};a(m.setSelection(r0(m,g))),Bn.test(v)&&n.reorderList(h+1,p+1)}else t&&a(i.tr.insert(f,$t(o,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.selection,s=i.doc,l=i.schema,u=gt(o),c=u.from,f=u.to,d=u.startFromOffset,h=u.startIndex,p=u.endIndex;if(t&&t0(s,l,o))return!1;var v=hi(s,h);if(t&&e0(c,f,v)||!t&&ia.test(v)){var m=[],g=lc({state:i,from:d,startIndex:h,endIndex:p,createText:function(w){var _=Zb.exec(w);return m.push(_?_[1].length:0),w.replace(Zb,"$2")}}),b={type:"outdent",from:c,to:f,spaceLenList:m};a(g.setSelection(r0(g,b))),Bn.test(v)&&n.reorderList(h+1,p+1)}else if(t){var k=v.slice(0,f-d),T=k.replace(/\s{1,4}$/,""),x=f-(k.length-T.length);a(i.tr.delete(x,f))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var a=t.context.view,o=gt(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return i(n.tr.deleteRange(s,l)),!0};return Lc(u,_x)(n,i,a)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,a=t.tr,o=t.selection,s=t.schema,l=gt(o),u=l.startFromOffset,c=l.endToOffset,f=l.endIndex;if(f<i.content.childCount-1){var d=i.child(f+1),h=d.nodeSize,p=d.textContent;return a.delete(c,c+h).split(u).insert(a.mapping.map(u)-2,$t(s,p)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,a=t.doc,o=t.selection,s=t.schema,l=gt(o),u=l.startFromOffset,c=l.endToOffset,f=l.startIndex;if(f>0){var d=a.child(f-1),h=d.nodeSize,p=d.textContent;return i.delete(u-h,u).split(i.mapping.map(c)).insert(i.mapping.map(c),$t(s,p)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Ke),e3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Ke),t3=/^#{1,6}\s/,r3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:wt.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var a=n.replace(i,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+a},e.prototype.commands=function(){var t=this;return function(n){return function(i,a){var o=n.level,s=gt(i.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=lc({state:i,from:l,startIndex:c,endIndex:f,createText:function(h){var p=h.match(t3),v=p?p[0]:"";return t.createHeadingText(o,h,v)}});return a(d.setSelection(tt(d,d.mapping.map(u)))),!0}}},e}(rt),Vf="```",n3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,s=gt(i),l=s.startFromOffset,u=s.endToOffset,c=$t(a,Vf);return o.insert(l,c).split(l+Vf.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),c),n(o.setSelection(tt(o,o.mapping.map(u)-(Vf.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=gt(a),f=c.startFromOffset,d=c.endToOffset,h=c.endIndex,p=c.from,v=c.to,m=hi(s,h);if(p===v&&m.trim()){var g=m.match(/^\s+/),b=u.findFirstNodeAtLine(h+1);if(SF(b)&&g){var k=g[0],T=m.slice(v-f),x=$t(l,k+T);return Tv(o,d,T,x),i(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(rt),i3=/\||\s/g;function a3(r){return[fc(r),fc(r,!0)]}function o3(r,e){for(var t=[],n=0;n<e;n+=1)t.push(fc(r));return t}function fc(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function s3(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var l3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!a.empty)return!1;var u=gt(a),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,h=u.to,p=hi(o,d),v=[d+1,h-c+1],m=t.context.toastMark.findNodeAtPosition(v),g=Wa(m,function(w){return qb(w)&&(w.parent.type==="tableDelimRow"||w.parent.parent.type==="tableBody")});if(g){var b=!p.replace(i3,"").trim(),k=g.parent,T=k.parent.parent.columns.length,x=fc(T);return b?s.deleteRange(c,f).split(s.mapping.map(f)):s.split(f).insert(s.mapping.map(f),$t(l,x)).setSelection(tt(s,s.mapping.map(f)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=gt(o),u=l.endFromOffset,c=l.endIndex,f=l.to,d=[c+1,f-u],h=n.context.toastMark.findNodeAtPosition(d),p=Wa(h,function(_){return qb(_)});if(p){var v=p.parent,m=s3(t),g=m.type,b=m.parentType,k=m.childType,T=li(p);if(p[g])T=li(p[g])-1;else{var x=!v[g]&&v.parent.type===b?v.parent[g][k]:v[g];if(g==="next"){var w=x?li(x[k]):0;T+=w+2}else g==="prev"&&(T=x?-4:0)}return a(s.setSelection(tt(s,u+T))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=t,u=l.columnCount,c=l.rowCount,f=gt(a).endToOffset,d=a3(u),h=o3(u,c-1),p=hr(hr([],d),h);return p.forEach(function(v){o.split(o.mapping.map(f)).insert(o.mapping.map(f),$t(s,v))}),i(o.setSelection(tt(o,f+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(rt),u3="***",c3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,s=gt(i),l=s.from,u=s.to,c=s.endToOffset,f=$t(a,u3);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),f).split(o.mapping.map(u)).setSelection(tt(o,o.mapping.map(c))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(rt);function f3(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var d3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,a=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),a&&(s+="|list-item-even"),["span",{class:wt.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.schema,l=n.tr,u=t.context.toastMark,c=gt(a),f=c.to,d=c.startFromOffset,h=c.endFromOffset,p=c.endIndex,v=c.endToOffset,m=hi(o,p),g=ia.test(m);if(!g||a.from===d||!a.empty)return!1;var b=!m.replace(cc,"").trim();if(b)l.deleteRange(h,v).split(l.mapping.map(v));else{var k=Pv(m),T=u.findFirstNodeAtLine(p+1),x=m.slice(f-h),w={toastMark:u,mdNode:T,doc:o,line:p+1},_=Qz[k](w),C=_.listSyntax,H=_.changedResults;if(H!=null&&H.length){l.split(f),H.unshift({text:C+x,line:p+1}),t.changeToListPerLine(l,H,{from:f,startLine:H[0].line,endLine:jt(H).line});var V=l.mapping.map(v)-x.length;l.setSelection(tt(l,V))}else{var N=$t(s,C+x);Tv(l,v,x,N)}}return i(l),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,a){for(var o=i.doc,s=i.tr,l=i.selection,u=n.context.toastMark,c=gt(l),f=c.startIndex+1,d=c.endIndex+1,h=c.endToOffset,p=[],v=f;v<=d;v+=1){var m=u.findFirstNodeAtLine(v);if(m&&f3(m,v))break;if(p.indexOf(v)===-1){var g={toastMark:u,mdNode:m,doc:o,line:v,startLine:f},b=(ta(m)?Xz[t](g):Jz[t](g)).changedResults,k=n.changeToListPerLine(s,b,{from:uc(o,b[0].line-1).startOffset,startLine:b[0].line,endLine:jt(b).line,indexDiff:1});h=Math.max(k,h),b&&(p=p.concat(b.map(function(T){return T.line})))}}return a(s.setSelection(tt(s,s.mapping.map(h)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var a=i.from,o=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,c=0,f=function(p){var v=t.doc.child(p),m=v.nodeSize,g=v.content,b=t.mapping.map(a),k=b+g.size,T=n.filter(function(x){return x.line-u===p})[0];T&&(t.replaceWith(b,k,$t(d.context.schema,T.text)),c=Math.max(c,a+g.size)),a+=m},d=this,h=o-u;h<=s-u;h+=1)f(h);return c},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=gt(a),f=c.startIndex,d=c.endIndex,h=null,p=f;p<=d;p+=1){var v=u.findFirstNodeAtLine(p+1);if(ta(v)&&v.listData.task){var m=v.listData,g=m.checked,b=m.padding,k=g?" ":"x",T=v.sourcepos[0],x=uc(s,T[0]-1).startOffset;x+=T[1]+b,h=o.replaceWith(x,x+1,l.text(k))}}return h?(i(h),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(rt);function Vc(r,e){return function(){return function(t,n){var i=t.tr,a=t.selection,o=Pr(r)?r:function(k){return r.test(k)},s=e.length,l=i.doc,u=aT(a),c=u[0],f=u[1],d=Math.max(c-s,1),h=Math.min(f+s,l.content.size-1),p=a.content(),v=p.content.textBetween(0,p.content.size,`
`),m=l.textBetween(d,c,`
`),g=l.textBetween(f,h,`
`);if(v=""+m+v+g,m&&g&&o(v))i.delete(h-s,h).delete(d,d+s);else{i.insertText(e,f).insertText(e,c);var b=a.empty?tt(i,c+s):tt(i,c+s,f+s);i.setSelection(b)}return n(i),!0}}}var h3=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,p3="**",v3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Vc(h3,p3)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(rt),m3=/^(~{2}).*([\s\S]*)\1$/m,g3="~~",y3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Vc(m3,g3)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(rt),b3=/^(\*|_).*([\s\S]*)\1$/m,w3="*",k3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Vc(b3,w3)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(rt),x3=/^(`).*([\s\S]*)\1$/m,T3="`",_3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,a=n.end,o=n.marked,s="code";return i&&(s+="|delimiter|start"),a&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:wt.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Vc(x3,T3)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(rt),C3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:wt.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,a){var o=i.selection,s=i.tr,l=i.schema,u=aT(o),c=u[0],f=u[1],d=n,h=d.linkText,p=d.altText,v=d.linkUrl,m=d.imageUrl,g=h,b=v,k="";return t==="image"&&(g=p,b=m,k="!"),g=ac(g),k+="["+g+"]("+b+")",a(s.replaceWith(c,f,$t(l,k))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(rt),S3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(rt),O3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(rt),M3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("meta")},0]}}},enumerable:!1,configurable:!0}),e}(rt),E3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(rt),D3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(rt),A3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("html")},0]}}},enumerable:!1,configurable:!0}),e}(rt),qf="$$",P3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=gt(a),u=l.startFromOffset,c=l.endToOffset;if(!(t!=null&&t.info))return!1;var f=""+qf+t.info,d=$t(o,f),h=$t(o,qf);return s.insert(u,d).split(u+f.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),h),i(s.setSelection(tt(s,s.mapping.map(c)-(qf.length+2)))),!0}}},e}(rt),N3=/x|backspace/i,R3=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function L3(r){var e=r.schema,t=r.toastMark;return new mr({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&N3.test(i.key)){var c=gt(u),f=c.startIndex,d=c.startFromOffset,h=c.from,p=[f+1,h-d+1],v=t.findNodeAtPosition(p),m=Wa(v,function(N){var U;return N.type==="paragraph"&&((U=N.parent)===null||U===void 0?void 0:U.type)==="item"});if(!((a=m==null?void 0:m.firstChild)===null||a===void 0)&&a.literal){var g=m.firstChild,b=g.literal.match(R3);if(b){var k=g.sourcepos[0],T=b[1],x=b[2],w=b[3],_=T.length+w.length,C=uc(s,k[0]-1).startOffset,H=k[1]+C;if(x){var V=_?_+1:0;l.replaceWith(H,V+H,e.text(x)),n.dispatch(l)}else _||(l.insertText(" ",H),n.dispatch(l))}}}return!1}}}})}var Uf="cut",n0=/\r\n|\n|\r/,I3=function(r){ee(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(I(I({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(c){return i.toggleActive(!0,c)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){Cv(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=ie("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=yn(a).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=eT(a);s&&(n.preventDefault(),Ev(t.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new iT([new Vz,new Zz,new rT,new e3,new r3,new qz,new n3,new P3,new l3,new D3,new c3,new d3,new v3,new y3,new k3,new _3,new C3,new O3,new S3,new E3,new M3,new A3])},e.prototype.createPlugins=function(){return hr([Dz(this.context),zz(this.context),L3(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new uv(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,Uf)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:tT}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var s=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===Uf&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Uf)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof Tt)){var o=t.docs[a],s=[i.from,i.to],l=s[0],u=s[1],c=Hl(o,l,u),f=c[0],d=c[1],h=n.getChanged(i.slice);f[0]===d[0]&&f[1]===d[1]&&h===""&&(h=`
`);var p=n.toastMark.editMarkdown(f,d,h);n.eventEmitter.emit("updatePreview",p),t.setMeta("editResult",p).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(o,s){o.isText?n+=o.text.slice(Math.max(i,s)-s,a-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=Pi(i.doc,t,n),o=a[0],s=a[1];this.view.dispatch(i.setSelection(tt(i,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var a,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,c=t.split(n0),f=c.map(function(m){return sc(l,Wi(m,l))}),d=new Z(j.from(f),1,1);if(this.focus(),n&&i){var h=Pi(u,n,i),p=h[0],v=h[1];a=s.replaceRange(p,v,d)}else a=s.replaceSelection(d);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,a=this.view.state,o=a.tr,s=a.doc;if(t&&n){var l=Pi(s,t,n),u=l[0],c=l[1];i=o.deleteRange(u,c)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;if(t&&n){var u=Pi(a,t,n);s=u[0],l=u[1]}return a.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return Hl(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(n0),a=this.view.state,o=a.tr,s=a.doc,l=a.schema,u=i.map(function(c){return sc(l,Wi(c,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.doc,l=a.selection,u=i?Pi(s,i,i)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=a.doc,u=Pi(l,t,n),c=Wi(i,s);this.view.dispatch(o.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t||Hl(i,a.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return Hc(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(nT),i0="_feEventKey";function $3(r,e){var t=r[i0],n;return t||(t=r[i0]={}),n=t[e],n||(n=t[e]=[]),n}var dT=$3,B3=zn,dc=Ic,H3=dT;function F3(r,e,t){if(B3(e)){dc(e.split(/\s+/g),function(n){a0(r,n,t)});return}dc(e,function(n,i){a0(r,i,n)})}function a0(r,e,t){var n=H3(r,e),i;t?(dc(n,function(a,o){return t===a.handler?(o0(r,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(dc(n,function(a){o0(r,e,a.wrappedHandler)}),n.splice(0,n.length))}function o0(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var hT=F3,z3=zn,Zh=Ic,V3=dT;function q3(r,e,t,n){if(z3(e)){Zh(e.split(/\s+/g),function(i){s0(r,i,t,n)});return}Zh(e,function(i,a){s0(r,a,i,t)})}function s0(r,e,t,n){function i(a){t.call(n||r,a||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),U3(r,e,t,i)}function U3(r,e,t,n){var i=V3(r,e),a=!1;Zh(i,function(o){return o.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:n})}var pT=q3;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ep=function(r,e){return ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},ep(r,e)};function Nr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ep(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var At=function(){return At=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},At.apply(this,arguments)};function tp(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l0={};function W3(r){var e,t,n=l0[r];if(n)return n;for(n=l0[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function qc(r,e,t){var n,i,a,o,s,l="";for(typeof e!="string"&&(t=e,e=qc.defaultChars),typeof t>"u"&&(t=!0),s=W3(e),n=0,i=r.length;n<i;n++){if(a=r.charCodeAt(n),t&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){l+=r.slice(n,n+3),n+=2;continue}if(a<128){l+=s[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=r.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(r[n]+r[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(r[n])}return l}qc.defaultChars=";/?:@&=+$,-_.!~*'()#";qc.componentChars="-_.!~*'()";var j3=qc,Rv={},Hn={},Y3="\xC1",G3="\xE1",K3="\u0102",X3="\u0103",J3="\u223E",Q3="\u223F",Z3="\u223E\u0333",eV="\xC2",tV="\xE2",rV="\xB4",nV="\u0410",iV="\u0430",aV="\xC6",oV="\xE6",sV="\u2061",lV="\u{1D504}",uV="\u{1D51E}",cV="\xC0",fV="\xE0",dV="\u2135",hV="\u2135",pV="\u0391",vV="\u03B1",mV="\u0100",gV="\u0101",yV="\u2A3F",bV="&",wV="&",kV="\u2A55",xV="\u2A53",TV="\u2227",_V="\u2A5C",CV="\u2A58",SV="\u2A5A",OV="\u2220",MV="\u29A4",EV="\u2220",DV="\u29A8",AV="\u29A9",PV="\u29AA",NV="\u29AB",RV="\u29AC",LV="\u29AD",IV="\u29AE",$V="\u29AF",BV="\u2221",HV="\u221F",FV="\u22BE",zV="\u299D",VV="\u2222",qV="\xC5",UV="\u237C",WV="\u0104",jV="\u0105",YV="\u{1D538}",GV="\u{1D552}",KV="\u2A6F",XV="\u2248",JV="\u2A70",QV="\u224A",ZV="\u224B",eq="'",tq="\u2061",rq="\u2248",nq="\u224A",iq="\xC5",aq="\xE5",oq="\u{1D49C}",sq="\u{1D4B6}",lq="\u2254",uq="*",cq="\u2248",fq="\u224D",dq="\xC3",hq="\xE3",pq="\xC4",vq="\xE4",mq="\u2233",gq="\u2A11",yq="\u224C",bq="\u03F6",wq="\u2035",kq="\u223D",xq="\u22CD",Tq="\u2216",_q="\u2AE7",Cq="\u22BD",Sq="\u2305",Oq="\u2306",Mq="\u2305",Eq="\u23B5",Dq="\u23B6",Aq="\u224C",Pq="\u0411",Nq="\u0431",Rq="\u201E",Lq="\u2235",Iq="\u2235",$q="\u2235",Bq="\u29B0",Hq="\u03F6",Fq="\u212C",zq="\u212C",Vq="\u0392",qq="\u03B2",Uq="\u2136",Wq="\u226C",jq="\u{1D505}",Yq="\u{1D51F}",Gq="\u22C2",Kq="\u25EF",Xq="\u22C3",Jq="\u2A00",Qq="\u2A01",Zq="\u2A02",eU="\u2A06",tU="\u2605",rU="\u25BD",nU="\u25B3",iU="\u2A04",aU="\u22C1",oU="\u22C0",sU="\u290D",lU="\u29EB",uU="\u25AA",cU="\u25B4",fU="\u25BE",dU="\u25C2",hU="\u25B8",pU="\u2423",vU="\u2592",mU="\u2591",gU="\u2593",yU="\u2588",bU="=\u20E5",wU="\u2261\u20E5",kU="\u2AED",xU="\u2310",TU="\u{1D539}",_U="\u{1D553}",CU="\u22A5",SU="\u22A5",OU="\u22C8",MU="\u29C9",EU="\u2510",DU="\u2555",AU="\u2556",PU="\u2557",NU="\u250C",RU="\u2552",LU="\u2553",IU="\u2554",$U="\u2500",BU="\u2550",HU="\u252C",FU="\u2564",zU="\u2565",VU="\u2566",qU="\u2534",UU="\u2567",WU="\u2568",jU="\u2569",YU="\u229F",GU="\u229E",KU="\u22A0",XU="\u2518",JU="\u255B",QU="\u255C",ZU="\u255D",eW="\u2514",tW="\u2558",rW="\u2559",nW="\u255A",iW="\u2502",aW="\u2551",oW="\u253C",sW="\u256A",lW="\u256B",uW="\u256C",cW="\u2524",fW="\u2561",dW="\u2562",hW="\u2563",pW="\u251C",vW="\u255E",mW="\u255F",gW="\u2560",yW="\u2035",bW="\u02D8",wW="\u02D8",kW="\xA6",xW="\u{1D4B7}",TW="\u212C",_W="\u204F",CW="\u223D",SW="\u22CD",OW="\u29C5",MW="\\",EW="\u27C8",DW="\u2022",AW="\u2022",PW="\u224E",NW="\u2AAE",RW="\u224F",LW="\u224E",IW="\u224F",$W="\u0106",BW="\u0107",HW="\u2A44",FW="\u2A49",zW="\u2A4B",VW="\u2229",qW="\u22D2",UW="\u2A47",WW="\u2A40",jW="\u2145",YW="\u2229\uFE00",GW="\u2041",KW="\u02C7",XW="\u212D",JW="\u2A4D",QW="\u010C",ZW="\u010D",ej="\xC7",tj="\xE7",rj="\u0108",nj="\u0109",ij="\u2230",aj="\u2A4C",oj="\u2A50",sj="\u010A",lj="\u010B",uj="\xB8",cj="\xB8",fj="\u29B2",dj="\xA2",hj="\xB7",pj="\xB7",vj="\u{1D520}",mj="\u212D",gj="\u0427",yj="\u0447",bj="\u2713",wj="\u2713",kj="\u03A7",xj="\u03C7",Tj="\u02C6",_j="\u2257",Cj="\u21BA",Sj="\u21BB",Oj="\u229B",Mj="\u229A",Ej="\u229D",Dj="\u2299",Aj="\xAE",Pj="\u24C8",Nj="\u2296",Rj="\u2295",Lj="\u2297",Ij="\u25CB",$j="\u29C3",Bj="\u2257",Hj="\u2A10",Fj="\u2AEF",zj="\u29C2",Vj="\u2232",qj="\u201D",Uj="\u2019",Wj="\u2663",jj="\u2663",Yj=":",Gj="\u2237",Kj="\u2A74",Xj="\u2254",Jj="\u2254",Qj=",",Zj="@",e5="\u2201",t5="\u2218",r5="\u2201",n5="\u2102",i5="\u2245",a5="\u2A6D",o5="\u2261",s5="\u222E",l5="\u222F",u5="\u222E",c5="\u{1D554}",f5="\u2102",d5="\u2210",h5="\u2210",p5="\xA9",v5="\xA9",m5="\u2117",g5="\u2233",y5="\u21B5",b5="\u2717",w5="\u2A2F",k5="\u{1D49E}",x5="\u{1D4B8}",T5="\u2ACF",_5="\u2AD1",C5="\u2AD0",S5="\u2AD2",O5="\u22EF",M5="\u2938",E5="\u2935",D5="\u22DE",A5="\u22DF",P5="\u21B6",N5="\u293D",R5="\u2A48",L5="\u2A46",I5="\u224D",$5="\u222A",B5="\u22D3",H5="\u2A4A",F5="\u228D",z5="\u2A45",V5="\u222A\uFE00",q5="\u21B7",U5="\u293C",W5="\u22DE",j5="\u22DF",Y5="\u22CE",G5="\u22CF",K5="\xA4",X5="\u21B6",J5="\u21B7",Q5="\u22CE",Z5="\u22CF",e4="\u2232",t4="\u2231",r4="\u232D",n4="\u2020",i4="\u2021",a4="\u2138",o4="\u2193",s4="\u21A1",l4="\u21D3",u4="\u2010",c4="\u2AE4",f4="\u22A3",d4="\u290F",h4="\u02DD",p4="\u010E",v4="\u010F",m4="\u0414",g4="\u0434",y4="\u2021",b4="\u21CA",w4="\u2145",k4="\u2146",x4="\u2911",T4="\u2A77",_4="\xB0",C4="\u2207",S4="\u0394",O4="\u03B4",M4="\u29B1",E4="\u297F",D4="\u{1D507}",A4="\u{1D521}",P4="\u2965",N4="\u21C3",R4="\u21C2",L4="\xB4",I4="\u02D9",$4="\u02DD",B4="`",H4="\u02DC",F4="\u22C4",z4="\u22C4",V4="\u22C4",q4="\u2666",U4="\u2666",W4="\xA8",j4="\u2146",Y4="\u03DD",G4="\u22F2",K4="\xF7",X4="\xF7",J4="\u22C7",Q4="\u22C7",Z4="\u0402",e6="\u0452",t6="\u231E",r6="\u230D",n6="$",i6="\u{1D53B}",a6="\u{1D555}",o6="\xA8",s6="\u02D9",l6="\u20DC",u6="\u2250",c6="\u2251",f6="\u2250",d6="\u2238",h6="\u2214",p6="\u22A1",v6="\u2306",m6="\u222F",g6="\xA8",y6="\u21D3",b6="\u21D0",w6="\u21D4",k6="\u2AE4",x6="\u27F8",T6="\u27FA",_6="\u27F9",C6="\u21D2",S6="\u22A8",O6="\u21D1",M6="\u21D5",E6="\u2225",D6="\u2913",A6="\u2193",P6="\u2193",N6="\u21D3",R6="\u21F5",L6="\u0311",I6="\u21CA",$6="\u21C3",B6="\u21C2",H6="\u2950",F6="\u295E",z6="\u2956",V6="\u21BD",q6="\u295F",U6="\u2957",W6="\u21C1",j6="\u21A7",Y6="\u22A4",G6="\u2910",K6="\u231F",X6="\u230C",J6="\u{1D49F}",Q6="\u{1D4B9}",Z6="\u0405",eY="\u0455",tY="\u29F6",rY="\u0110",nY="\u0111",iY="\u22F1",aY="\u25BF",oY="\u25BE",sY="\u21F5",lY="\u296F",uY="\u29A6",cY="\u040F",fY="\u045F",dY="\u27FF",hY="\xC9",pY="\xE9",vY="\u2A6E",mY="\u011A",gY="\u011B",yY="\xCA",bY="\xEA",wY="\u2256",kY="\u2255",xY="\u042D",TY="\u044D",_Y="\u2A77",CY="\u0116",SY="\u0117",OY="\u2251",MY="\u2147",EY="\u2252",DY="\u{1D508}",AY="\u{1D522}",PY="\u2A9A",NY="\xC8",RY="\xE8",LY="\u2A96",IY="\u2A98",$Y="\u2A99",BY="\u2208",HY="\u23E7",FY="\u2113",zY="\u2A95",VY="\u2A97",qY="\u0112",UY="\u0113",WY="\u2205",jY="\u2205",YY="\u25FB",GY="\u2205",KY="\u25AB",XY="\u2004",JY="\u2005",QY="\u2003",ZY="\u014A",e8="\u014B",t8="\u2002",r8="\u0118",n8="\u0119",i8="\u{1D53C}",a8="\u{1D556}",o8="\u22D5",s8="\u29E3",l8="\u2A71",u8="\u03B5",c8="\u0395",f8="\u03B5",d8="\u03F5",h8="\u2256",p8="\u2255",v8="\u2242",m8="\u2A96",g8="\u2A95",y8="\u2A75",b8="=",w8="\u2242",k8="\u225F",x8="\u21CC",T8="\u2261",_8="\u2A78",C8="\u29E5",S8="\u2971",O8="\u2253",M8="\u212F",E8="\u2130",D8="\u2250",A8="\u2A73",P8="\u2242",N8="\u0397",R8="\u03B7",L8="\xD0",I8="\xF0",$8="\xCB",B8="\xEB",H8="\u20AC",F8="!",z8="\u2203",V8="\u2203",q8="\u2130",U8="\u2147",W8="\u2147",j8="\u2252",Y8="\u0424",G8="\u0444",K8="\u2640",X8="\uFB03",J8="\uFB00",Q8="\uFB04",Z8="\u{1D509}",e7="\u{1D523}",t7="\uFB01",r7="\u25FC",n7="\u25AA",i7="fj",a7="\u266D",o7="\uFB02",s7="\u25B1",l7="\u0192",u7="\u{1D53D}",c7="\u{1D557}",f7="\u2200",d7="\u2200",h7="\u22D4",p7="\u2AD9",v7="\u2131",m7="\u2A0D",g7="\xBD",y7="\u2153",b7="\xBC",w7="\u2155",k7="\u2159",x7="\u215B",T7="\u2154",_7="\u2156",C7="\xBE",S7="\u2157",O7="\u215C",M7="\u2158",E7="\u215A",D7="\u215D",A7="\u215E",P7="\u2044",N7="\u2322",R7="\u{1D4BB}",L7="\u2131",I7="\u01F5",$7="\u0393",B7="\u03B3",H7="\u03DC",F7="\u03DD",z7="\u2A86",V7="\u011E",q7="\u011F",U7="\u0122",W7="\u011C",j7="\u011D",Y7="\u0413",G7="\u0433",K7="\u0120",X7="\u0121",J7="\u2265",Q7="\u2267",Z7="\u2A8C",eG="\u22DB",tG="\u2265",rG="\u2267",nG="\u2A7E",iG="\u2AA9",aG="\u2A7E",oG="\u2A80",sG="\u2A82",lG="\u2A84",uG="\u22DB\uFE00",cG="\u2A94",fG="\u{1D50A}",dG="\u{1D524}",hG="\u226B",pG="\u22D9",vG="\u22D9",mG="\u2137",gG="\u0403",yG="\u0453",bG="\u2AA5",wG="\u2277",kG="\u2A92",xG="\u2AA4",TG="\u2A8A",_G="\u2A8A",CG="\u2A88",SG="\u2269",OG="\u2A88",MG="\u2269",EG="\u22E7",DG="\u{1D53E}",AG="\u{1D558}",PG="`",NG="\u2265",RG="\u22DB",LG="\u2267",IG="\u2AA2",$G="\u2277",BG="\u2A7E",HG="\u2273",FG="\u{1D4A2}",zG="\u210A",VG="\u2273",qG="\u2A8E",UG="\u2A90",WG="\u2AA7",jG="\u2A7A",YG=">",GG=">",KG="\u226B",XG="\u22D7",JG="\u2995",QG="\u2A7C",ZG="\u2A86",e9="\u2978",t9="\u22D7",r9="\u22DB",n9="\u2A8C",i9="\u2277",a9="\u2273",o9="\u2269\uFE00",s9="\u2269\uFE00",l9="\u02C7",u9="\u200A",c9="\xBD",f9="\u210B",d9="\u042A",h9="\u044A",p9="\u2948",v9="\u2194",m9="\u21D4",g9="\u21AD",y9="^",b9="\u210F",w9="\u0124",k9="\u0125",x9="\u2665",T9="\u2665",_9="\u2026",C9="\u22B9",S9="\u{1D525}",O9="\u210C",M9="\u210B",E9="\u2925",D9="\u2926",A9="\u21FF",P9="\u223B",N9="\u21A9",R9="\u21AA",L9="\u{1D559}",I9="\u210D",$9="\u2015",B9="\u2500",H9="\u{1D4BD}",F9="\u210B",z9="\u210F",V9="\u0126",q9="\u0127",U9="\u224E",W9="\u224F",j9="\u2043",Y9="\u2010",G9="\xCD",K9="\xED",X9="\u2063",J9="\xCE",Q9="\xEE",Z9="\u0418",eK="\u0438",tK="\u0130",rK="\u0415",nK="\u0435",iK="\xA1",aK="\u21D4",oK="\u{1D526}",sK="\u2111",lK="\xCC",uK="\xEC",cK="\u2148",fK="\u2A0C",dK="\u222D",hK="\u29DC",pK="\u2129",vK="\u0132",mK="\u0133",gK="\u012A",yK="\u012B",bK="\u2111",wK="\u2148",kK="\u2110",xK="\u2111",TK="\u0131",_K="\u2111",CK="\u22B7",SK="\u01B5",OK="\u21D2",MK="\u2105",EK="\u221E",DK="\u29DD",AK="\u0131",PK="\u22BA",NK="\u222B",RK="\u222C",LK="\u2124",IK="\u222B",$K="\u22BA",BK="\u22C2",HK="\u2A17",FK="\u2A3C",zK="\u2063",VK="\u2062",qK="\u0401",UK="\u0451",WK="\u012E",jK="\u012F",YK="\u{1D540}",GK="\u{1D55A}",KK="\u0399",XK="\u03B9",JK="\u2A3C",QK="\xBF",ZK="\u{1D4BE}",eX="\u2110",tX="\u2208",rX="\u22F5",nX="\u22F9",iX="\u22F4",aX="\u22F3",oX="\u2208",sX="\u2062",lX="\u0128",uX="\u0129",cX="\u0406",fX="\u0456",dX="\xCF",hX="\xEF",pX="\u0134",vX="\u0135",mX="\u0419",gX="\u0439",yX="\u{1D50D}",bX="\u{1D527}",wX="\u0237",kX="\u{1D541}",xX="\u{1D55B}",TX="\u{1D4A5}",_X="\u{1D4BF}",CX="\u0408",SX="\u0458",OX="\u0404",MX="\u0454",EX="\u039A",DX="\u03BA",AX="\u03F0",PX="\u0136",NX="\u0137",RX="\u041A",LX="\u043A",IX="\u{1D50E}",$X="\u{1D528}",BX="\u0138",HX="\u0425",FX="\u0445",zX="\u040C",VX="\u045C",qX="\u{1D542}",UX="\u{1D55C}",WX="\u{1D4A6}",jX="\u{1D4C0}",YX="\u21DA",GX="\u0139",KX="\u013A",XX="\u29B4",JX="\u2112",QX="\u039B",ZX="\u03BB",eJ="\u27E8",tJ="\u27EA",rJ="\u2991",nJ="\u27E8",iJ="\u2A85",aJ="\u2112",oJ="\xAB",sJ="\u21E4",lJ="\u291F",uJ="\u2190",cJ="\u219E",fJ="\u21D0",dJ="\u291D",hJ="\u21A9",pJ="\u21AB",vJ="\u2939",mJ="\u2973",gJ="\u21A2",yJ="\u2919",bJ="\u291B",wJ="\u2AAB",kJ="\u2AAD",xJ="\u2AAD\uFE00",TJ="\u290C",_J="\u290E",CJ="\u2772",SJ="{",OJ="[",MJ="\u298B",EJ="\u298F",DJ="\u298D",AJ="\u013D",PJ="\u013E",NJ="\u013B",RJ="\u013C",LJ="\u2308",IJ="{",$J="\u041B",BJ="\u043B",HJ="\u2936",FJ="\u201C",zJ="\u201E",VJ="\u2967",qJ="\u294B",UJ="\u21B2",WJ="\u2264",jJ="\u2266",YJ="\u27E8",GJ="\u21E4",KJ="\u2190",XJ="\u2190",JJ="\u21D0",QJ="\u21C6",ZJ="\u21A2",eQ="\u2308",tQ="\u27E6",rQ="\u2961",nQ="\u2959",iQ="\u21C3",aQ="\u230A",oQ="\u21BD",sQ="\u21BC",lQ="\u21C7",uQ="\u2194",cQ="\u2194",fQ="\u21D4",dQ="\u21C6",hQ="\u21CB",pQ="\u21AD",vQ="\u294E",mQ="\u21A4",gQ="\u22A3",yQ="\u295A",bQ="\u22CB",wQ="\u29CF",kQ="\u22B2",xQ="\u22B4",TQ="\u2951",_Q="\u2960",CQ="\u2958",SQ="\u21BF",OQ="\u2952",MQ="\u21BC",EQ="\u2A8B",DQ="\u22DA",AQ="\u2264",PQ="\u2266",NQ="\u2A7D",RQ="\u2AA8",LQ="\u2A7D",IQ="\u2A7F",$Q="\u2A81",BQ="\u2A83",HQ="\u22DA\uFE00",FQ="\u2A93",zQ="\u2A85",VQ="\u22D6",qQ="\u22DA",UQ="\u2A8B",WQ="\u22DA",jQ="\u2266",YQ="\u2276",GQ="\u2276",KQ="\u2AA1",XQ="\u2272",JQ="\u2A7D",QQ="\u2272",ZQ="\u297C",eZ="\u230A",tZ="\u{1D50F}",rZ="\u{1D529}",nZ="\u2276",iZ="\u2A91",aZ="\u2962",oZ="\u21BD",sZ="\u21BC",lZ="\u296A",uZ="\u2584",cZ="\u0409",fZ="\u0459",dZ="\u21C7",hZ="\u226A",pZ="\u22D8",vZ="\u231E",mZ="\u21DA",gZ="\u296B",yZ="\u25FA",bZ="\u013F",wZ="\u0140",kZ="\u23B0",xZ="\u23B0",TZ="\u2A89",_Z="\u2A89",CZ="\u2A87",SZ="\u2268",OZ="\u2A87",MZ="\u2268",EZ="\u22E6",DZ="\u27EC",AZ="\u21FD",PZ="\u27E6",NZ="\u27F5",RZ="\u27F5",LZ="\u27F8",IZ="\u27F7",$Z="\u27F7",BZ="\u27FA",HZ="\u27FC",FZ="\u27F6",zZ="\u27F6",VZ="\u27F9",qZ="\u21AB",UZ="\u21AC",WZ="\u2985",jZ="\u{1D543}",YZ="\u{1D55D}",GZ="\u2A2D",KZ="\u2A34",XZ="\u2217",JZ="_",QZ="\u2199",ZZ="\u2198",eee="\u25CA",tee="\u25CA",ree="\u29EB",nee="(",iee="\u2993",aee="\u21C6",oee="\u231F",see="\u21CB",lee="\u296D",uee="\u200E",cee="\u22BF",fee="\u2039",dee="\u{1D4C1}",hee="\u2112",pee="\u21B0",vee="\u21B0",mee="\u2272",gee="\u2A8D",yee="\u2A8F",bee="[",wee="\u2018",kee="\u201A",xee="\u0141",Tee="\u0142",_ee="\u2AA6",Cee="\u2A79",See="<",Oee="<",Mee="\u226A",Eee="\u22D6",Dee="\u22CB",Aee="\u22C9",Pee="\u2976",Nee="\u2A7B",Ree="\u25C3",Lee="\u22B4",Iee="\u25C2",$ee="\u2996",Bee="\u294A",Hee="\u2966",Fee="\u2268\uFE00",zee="\u2268\uFE00",Vee="\xAF",qee="\u2642",Uee="\u2720",Wee="\u2720",jee="\u21A6",Yee="\u21A6",Gee="\u21A7",Kee="\u21A4",Xee="\u21A5",Jee="\u25AE",Qee="\u2A29",Zee="\u041C",ete="\u043C",tte="\u2014",rte="\u223A",nte="\u2221",ite="\u205F",ate="\u2133",ote="\u{1D510}",ste="\u{1D52A}",lte="\u2127",ute="\xB5",cte="*",fte="\u2AF0",dte="\u2223",hte="\xB7",pte="\u229F",vte="\u2212",mte="\u2238",gte="\u2A2A",yte="\u2213",bte="\u2ADB",wte="\u2026",kte="\u2213",xte="\u22A7",Tte="\u{1D544}",_te="\u{1D55E}",Cte="\u2213",Ste="\u{1D4C2}",Ote="\u2133",Mte="\u223E",Ete="\u039C",Dte="\u03BC",Ate="\u22B8",Pte="\u22B8",Nte="\u2207",Rte="\u0143",Lte="\u0144",Ite="\u2220\u20D2",$te="\u2249",Bte="\u2A70\u0338",Hte="\u224B\u0338",Fte="\u0149",zte="\u2249",Vte="\u266E",qte="\u2115",Ute="\u266E",Wte="\xA0",jte="\u224E\u0338",Yte="\u224F\u0338",Gte="\u2A43",Kte="\u0147",Xte="\u0148",Jte="\u0145",Qte="\u0146",Zte="\u2247",ere="\u2A6D\u0338",tre="\u2A42",rre="\u041D",nre="\u043D",ire="\u2013",are="\u2924",ore="\u2197",sre="\u21D7",lre="\u2197",ure="\u2260",cre="\u2250\u0338",fre="\u200B",dre="\u200B",hre="\u200B",pre="\u200B",vre="\u2262",mre="\u2928",gre="\u2242\u0338",yre="\u226B",bre="\u226A",wre=`
`,kre="\u2204",xre="\u2204",Tre="\u{1D511}",_re="\u{1D52B}",Cre="\u2267\u0338",Sre="\u2271",Ore="\u2271",Mre="\u2267\u0338",Ere="\u2A7E\u0338",Dre="\u2A7E\u0338",Are="\u22D9\u0338",Pre="\u2275",Nre="\u226B\u20D2",Rre="\u226F",Lre="\u226F",Ire="\u226B\u0338",$re="\u21AE",Bre="\u21CE",Hre="\u2AF2",Fre="\u220B",zre="\u22FC",Vre="\u22FA",qre="\u220B",Ure="\u040A",Wre="\u045A",jre="\u219A",Yre="\u21CD",Gre="\u2025",Kre="\u2266\u0338",Xre="\u2270",Jre="\u219A",Qre="\u21CD",Zre="\u21AE",ene="\u21CE",tne="\u2270",rne="\u2266\u0338",nne="\u2A7D\u0338",ine="\u2A7D\u0338",ane="\u226E",one="\u22D8\u0338",sne="\u2274",lne="\u226A\u20D2",une="\u226E",cne="\u22EA",fne="\u22EC",dne="\u226A\u0338",hne="\u2224",pne="\u2060",vne="\xA0",mne="\u{1D55F}",gne="\u2115",yne="\u2AEC",bne="\xAC",wne="\u2262",kne="\u226D",xne="\u2226",Tne="\u2209",_ne="\u2260",Cne="\u2242\u0338",Sne="\u2204",One="\u226F",Mne="\u2271",Ene="\u2267\u0338",Dne="\u226B\u0338",Ane="\u2279",Pne="\u2A7E\u0338",Nne="\u2275",Rne="\u224E\u0338",Lne="\u224F\u0338",Ine="\u2209",$ne="\u22F5\u0338",Bne="\u22F9\u0338",Hne="\u2209",Fne="\u22F7",zne="\u22F6",Vne="\u29CF\u0338",qne="\u22EA",Une="\u22EC",Wne="\u226E",jne="\u2270",Yne="\u2278",Gne="\u226A\u0338",Kne="\u2A7D\u0338",Xne="\u2274",Jne="\u2AA2\u0338",Qne="\u2AA1\u0338",Zne="\u220C",eie="\u220C",tie="\u22FE",rie="\u22FD",nie="\u2280",iie="\u2AAF\u0338",aie="\u22E0",oie="\u220C",sie="\u29D0\u0338",lie="\u22EB",uie="\u22ED",cie="\u228F\u0338",fie="\u22E2",die="\u2290\u0338",hie="\u22E3",pie="\u2282\u20D2",vie="\u2288",mie="\u2281",gie="\u2AB0\u0338",yie="\u22E1",bie="\u227F\u0338",wie="\u2283\u20D2",kie="\u2289",xie="\u2241",Tie="\u2244",_ie="\u2247",Cie="\u2249",Sie="\u2224",Oie="\u2226",Mie="\u2226",Eie="\u2AFD\u20E5",Die="\u2202\u0338",Aie="\u2A14",Pie="\u2280",Nie="\u22E0",Rie="\u2280",Lie="\u2AAF\u0338",Iie="\u2AAF\u0338",$ie="\u2933\u0338",Bie="\u219B",Hie="\u21CF",Fie="\u219D\u0338",zie="\u219B",Vie="\u21CF",qie="\u22EB",Uie="\u22ED",Wie="\u2281",jie="\u22E1",Yie="\u2AB0\u0338",Gie="\u{1D4A9}",Kie="\u{1D4C3}",Xie="\u2224",Jie="\u2226",Qie="\u2241",Zie="\u2244",eae="\u2244",tae="\u2224",rae="\u2226",nae="\u22E2",iae="\u22E3",aae="\u2284",oae="\u2AC5\u0338",sae="\u2288",lae="\u2282\u20D2",uae="\u2288",cae="\u2AC5\u0338",fae="\u2281",dae="\u2AB0\u0338",hae="\u2285",pae="\u2AC6\u0338",vae="\u2289",mae="\u2283\u20D2",gae="\u2289",yae="\u2AC6\u0338",bae="\u2279",wae="\xD1",kae="\xF1",xae="\u2278",Tae="\u22EA",_ae="\u22EC",Cae="\u22EB",Sae="\u22ED",Oae="\u039D",Mae="\u03BD",Eae="#",Dae="\u2116",Aae="\u2007",Pae="\u224D\u20D2",Nae="\u22AC",Rae="\u22AD",Lae="\u22AE",Iae="\u22AF",$ae="\u2265\u20D2",Bae=">\u20D2",Hae="\u2904",Fae="\u29DE",zae="\u2902",Vae="\u2264\u20D2",qae="<\u20D2",Uae="\u22B4\u20D2",Wae="\u2903",jae="\u22B5\u20D2",Yae="\u223C\u20D2",Gae="\u2923",Kae="\u2196",Xae="\u21D6",Jae="\u2196",Qae="\u2927",Zae="\xD3",eoe="\xF3",toe="\u229B",roe="\xD4",noe="\xF4",ioe="\u229A",aoe="\u041E",ooe="\u043E",soe="\u229D",loe="\u0150",uoe="\u0151",coe="\u2A38",foe="\u2299",doe="\u29BC",hoe="\u0152",poe="\u0153",voe="\u29BF",moe="\u{1D512}",goe="\u{1D52C}",yoe="\u02DB",boe="\xD2",woe="\xF2",koe="\u29C1",xoe="\u29B5",Toe="\u03A9",_oe="\u222E",Coe="\u21BA",Soe="\u29BE",Ooe="\u29BB",Moe="\u203E",Eoe="\u29C0",Doe="\u014C",Aoe="\u014D",Poe="\u03A9",Noe="\u03C9",Roe="\u039F",Loe="\u03BF",Ioe="\u29B6",$oe="\u2296",Boe="\u{1D546}",Hoe="\u{1D560}",Foe="\u29B7",zoe="\u201C",Voe="\u2018",qoe="\u29B9",Uoe="\u2295",Woe="\u21BB",joe="\u2A54",Yoe="\u2228",Goe="\u2A5D",Koe="\u2134",Xoe="\u2134",Joe="\xAA",Qoe="\xBA",Zoe="\u22B6",ese="\u2A56",tse="\u2A57",rse="\u2A5B",nse="\u24C8",ise="\u{1D4AA}",ase="\u2134",ose="\xD8",sse="\xF8",lse="\u2298",use="\xD5",cse="\xF5",fse="\u2A36",dse="\u2A37",hse="\u2297",pse="\xD6",vse="\xF6",mse="\u233D",gse="\u203E",yse="\u23DE",bse="\u23B4",wse="\u23DC",kse="\xB6",xse="\u2225",Tse="\u2225",_se="\u2AF3",Cse="\u2AFD",Sse="\u2202",Ose="\u2202",Mse="\u041F",Ese="\u043F",Dse="%",Ase=".",Pse="\u2030",Nse="\u22A5",Rse="\u2031",Lse="\u{1D513}",Ise="\u{1D52D}",$se="\u03A6",Bse="\u03C6",Hse="\u03D5",Fse="\u2133",zse="\u260E",Vse="\u03A0",qse="\u03C0",Use="\u22D4",Wse="\u03D6",jse="\u210F",Yse="\u210E",Gse="\u210F",Kse="\u2A23",Xse="\u229E",Jse="\u2A22",Qse="+",Zse="\u2214",ele="\u2A25",tle="\u2A72",rle="\xB1",nle="\xB1",ile="\u2A26",ale="\u2A27",ole="\xB1",sle="\u210C",lle="\u2A15",ule="\u{1D561}",cle="\u2119",fle="\xA3",dle="\u2AB7",hle="\u2ABB",ple="\u227A",vle="\u227C",mle="\u2AB7",gle="\u227A",yle="\u227C",ble="\u227A",wle="\u2AAF",kle="\u227C",xle="\u227E",Tle="\u2AAF",_le="\u2AB9",Cle="\u2AB5",Sle="\u22E8",Ole="\u2AAF",Mle="\u2AB3",Ele="\u227E",Dle="\u2032",Ale="\u2033",Ple="\u2119",Nle="\u2AB9",Rle="\u2AB5",Lle="\u22E8",Ile="\u220F",$le="\u220F",Ble="\u232E",Hle="\u2312",Fle="\u2313",zle="\u221D",Vle="\u221D",qle="\u2237",Ule="\u221D",Wle="\u227E",jle="\u22B0",Yle="\u{1D4AB}",Gle="\u{1D4C5}",Kle="\u03A8",Xle="\u03C8",Jle="\u2008",Qle="\u{1D514}",Zle="\u{1D52E}",eue="\u2A0C",tue="\u{1D562}",rue="\u211A",nue="\u2057",iue="\u{1D4AC}",aue="\u{1D4C6}",oue="\u210D",sue="\u2A16",lue="?",uue="\u225F",cue='"',fue='"',due="\u21DB",hue="\u223D\u0331",pue="\u0154",vue="\u0155",mue="\u221A",gue="\u29B3",yue="\u27E9",bue="\u27EB",wue="\u2992",kue="\u29A5",xue="\u27E9",Tue="\xBB",_ue="\u2975",Cue="\u21E5",Sue="\u2920",Oue="\u2933",Mue="\u2192",Eue="\u21A0",Due="\u21D2",Aue="\u291E",Pue="\u21AA",Nue="\u21AC",Rue="\u2945",Lue="\u2974",Iue="\u2916",$ue="\u21A3",Bue="\u219D",Hue="\u291A",Fue="\u291C",zue="\u2236",Vue="\u211A",que="\u290D",Uue="\u290F",Wue="\u2910",jue="\u2773",Yue="}",Gue="]",Kue="\u298C",Xue="\u298E",Jue="\u2990",Que="\u0158",Zue="\u0159",ece="\u0156",tce="\u0157",rce="\u2309",nce="}",ice="\u0420",ace="\u0440",oce="\u2937",sce="\u2969",lce="\u201D",uce="\u201D",cce="\u21B3",fce="\u211C",dce="\u211B",hce="\u211C",pce="\u211D",vce="\u211C",mce="\u25AD",gce="\xAE",yce="\xAE",bce="\u220B",wce="\u21CB",kce="\u296F",xce="\u297D",Tce="\u230B",_ce="\u{1D52F}",Cce="\u211C",Sce="\u2964",Oce="\u21C1",Mce="\u21C0",Ece="\u296C",Dce="\u03A1",Ace="\u03C1",Pce="\u03F1",Nce="\u27E9",Rce="\u21E5",Lce="\u2192",Ice="\u2192",$ce="\u21D2",Bce="\u21C4",Hce="\u21A3",Fce="\u2309",zce="\u27E7",Vce="\u295D",qce="\u2955",Uce="\u21C2",Wce="\u230B",jce="\u21C1",Yce="\u21C0",Gce="\u21C4",Kce="\u21CC",Xce="\u21C9",Jce="\u219D",Qce="\u21A6",Zce="\u22A2",efe="\u295B",tfe="\u22CC",rfe="\u29D0",nfe="\u22B3",ife="\u22B5",afe="\u294F",ofe="\u295C",sfe="\u2954",lfe="\u21BE",ufe="\u2953",cfe="\u21C0",ffe="\u02DA",dfe="\u2253",hfe="\u21C4",pfe="\u21CC",vfe="\u200F",mfe="\u23B1",gfe="\u23B1",yfe="\u2AEE",bfe="\u27ED",wfe="\u21FE",kfe="\u27E7",xfe="\u2986",Tfe="\u{1D563}",_fe="\u211D",Cfe="\u2A2E",Sfe="\u2A35",Ofe="\u2970",Mfe=")",Efe="\u2994",Dfe="\u2A12",Afe="\u21C9",Pfe="\u21DB",Nfe="\u203A",Rfe="\u{1D4C7}",Lfe="\u211B",Ife="\u21B1",$fe="\u21B1",Bfe="]",Hfe="\u2019",Ffe="\u2019",zfe="\u22CC",Vfe="\u22CA",qfe="\u25B9",Ufe="\u22B5",Wfe="\u25B8",jfe="\u29CE",Yfe="\u29F4",Gfe="\u2968",Kfe="\u211E",Xfe="\u015A",Jfe="\u015B",Qfe="\u201A",Zfe="\u2AB8",ede="\u0160",tde="\u0161",rde="\u2ABC",nde="\u227B",ide="\u227D",ade="\u2AB0",ode="\u2AB4",sde="\u015E",lde="\u015F",ude="\u015C",cde="\u015D",fde="\u2ABA",dde="\u2AB6",hde="\u22E9",pde="\u2A13",vde="\u227F",mde="\u0421",gde="\u0441",yde="\u22A1",bde="\u22C5",wde="\u2A66",kde="\u2925",xde="\u2198",Tde="\u21D8",_de="\u2198",Cde="\xA7",Sde=";",Ode="\u2929",Mde="\u2216",Ede="\u2216",Dde="\u2736",Ade="\u{1D516}",Pde="\u{1D530}",Nde="\u2322",Rde="\u266F",Lde="\u0429",Ide="\u0449",$de="\u0428",Bde="\u0448",Hde="\u2193",Fde="\u2190",zde="\u2223",Vde="\u2225",qde="\u2192",Ude="\u2191",Wde="\xAD",jde="\u03A3",Yde="\u03C3",Gde="\u03C2",Kde="\u03C2",Xde="\u223C",Jde="\u2A6A",Qde="\u2243",Zde="\u2243",ehe="\u2A9E",the="\u2AA0",rhe="\u2A9D",nhe="\u2A9F",ihe="\u2246",ahe="\u2A24",ohe="\u2972",she="\u2190",lhe="\u2218",uhe="\u2216",che="\u2A33",fhe="\u29E4",dhe="\u2223",hhe="\u2323",phe="\u2AAA",vhe="\u2AAC",mhe="\u2AAC\uFE00",ghe="\u042C",yhe="\u044C",bhe="\u233F",whe="\u29C4",khe="/",xhe="\u{1D54A}",The="\u{1D564}",_he="\u2660",Che="\u2660",She="\u2225",Ohe="\u2293",Mhe="\u2293\uFE00",Ehe="\u2294",Dhe="\u2294\uFE00",Ahe="\u221A",Phe="\u228F",Nhe="\u2291",Rhe="\u228F",Lhe="\u2291",Ihe="\u2290",$he="\u2292",Bhe="\u2290",Hhe="\u2292",Fhe="\u25A1",zhe="\u25A1",Vhe="\u2293",qhe="\u228F",Uhe="\u2291",Whe="\u2290",jhe="\u2292",Yhe="\u2294",Ghe="\u25AA",Khe="\u25A1",Xhe="\u25AA",Jhe="\u2192",Qhe="\u{1D4AE}",Zhe="\u{1D4C8}",epe="\u2216",tpe="\u2323",rpe="\u22C6",npe="\u22C6",ipe="\u2606",ape="\u2605",ope="\u03F5",spe="\u03D5",lpe="\xAF",upe="\u2282",cpe="\u22D0",fpe="\u2ABD",dpe="\u2AC5",hpe="\u2286",ppe="\u2AC3",vpe="\u2AC1",mpe="\u2ACB",gpe="\u228A",ype="\u2ABF",bpe="\u2979",wpe="\u2282",kpe="\u22D0",xpe="\u2286",Tpe="\u2AC5",_pe="\u2286",Cpe="\u228A",Spe="\u2ACB",Ope="\u2AC7",Mpe="\u2AD5",Epe="\u2AD3",Dpe="\u2AB8",Ape="\u227B",Ppe="\u227D",Npe="\u227B",Rpe="\u2AB0",Lpe="\u227D",Ipe="\u227F",$pe="\u2AB0",Bpe="\u2ABA",Hpe="\u2AB6",Fpe="\u22E9",zpe="\u227F",Vpe="\u220B",qpe="\u2211",Upe="\u2211",Wpe="\u266A",jpe="\xB9",Ype="\xB2",Gpe="\xB3",Kpe="\u2283",Xpe="\u22D1",Jpe="\u2ABE",Qpe="\u2AD8",Zpe="\u2AC6",eve="\u2287",tve="\u2AC4",rve="\u2283",nve="\u2287",ive="\u27C9",ave="\u2AD7",ove="\u297B",sve="\u2AC2",lve="\u2ACC",uve="\u228B",cve="\u2AC0",fve="\u2283",dve="\u22D1",hve="\u2287",pve="\u2AC6",vve="\u228B",mve="\u2ACC",gve="\u2AC8",yve="\u2AD4",bve="\u2AD6",wve="\u2926",kve="\u2199",xve="\u21D9",Tve="\u2199",_ve="\u292A",Cve="\xDF",Sve="	",Ove="\u2316",Mve="\u03A4",Eve="\u03C4",Dve="\u23B4",Ave="\u0164",Pve="\u0165",Nve="\u0162",Rve="\u0163",Lve="\u0422",Ive="\u0442",$ve="\u20DB",Bve="\u2315",Hve="\u{1D517}",Fve="\u{1D531}",zve="\u2234",Vve="\u2234",qve="\u2234",Uve="\u0398",Wve="\u03B8",jve="\u03D1",Yve="\u03D1",Gve="\u2248",Kve="\u223C",Xve="\u205F\u200A",Jve="\u2009",Qve="\u2009",Zve="\u2248",eme="\u223C",tme="\xDE",rme="\xFE",nme="\u02DC",ime="\u223C",ame="\u2243",ome="\u2245",sme="\u2248",lme="\u2A31",ume="\u22A0",cme="\xD7",fme="\u2A30",dme="\u222D",hme="\u2928",pme="\u2336",vme="\u2AF1",mme="\u22A4",gme="\u{1D54B}",yme="\u{1D565}",bme="\u2ADA",wme="\u2929",kme="\u2034",xme="\u2122",Tme="\u2122",_me="\u25B5",Cme="\u25BF",Sme="\u25C3",Ome="\u22B4",Mme="\u225C",Eme="\u25B9",Dme="\u22B5",Ame="\u25EC",Pme="\u225C",Nme="\u2A3A",Rme="\u20DB",Lme="\u2A39",Ime="\u29CD",$me="\u2A3B",Bme="\u23E2",Hme="\u{1D4AF}",Fme="\u{1D4C9}",zme="\u0426",Vme="\u0446",qme="\u040B",Ume="\u045B",Wme="\u0166",jme="\u0167",Yme="\u226C",Gme="\u219E",Kme="\u21A0",Xme="\xDA",Jme="\xFA",Qme="\u2191",Zme="\u219F",ege="\u21D1",tge="\u2949",rge="\u040E",nge="\u045E",ige="\u016C",age="\u016D",oge="\xDB",sge="\xFB",lge="\u0423",uge="\u0443",cge="\u21C5",fge="\u0170",dge="\u0171",hge="\u296E",pge="\u297E",vge="\u{1D518}",mge="\u{1D532}",gge="\xD9",yge="\xF9",bge="\u2963",wge="\u21BF",kge="\u21BE",xge="\u2580",Tge="\u231C",_ge="\u231C",Cge="\u230F",Sge="\u25F8",Oge="\u016A",Mge="\u016B",Ege="\xA8",Dge="_",Age="\u23DF",Pge="\u23B5",Nge="\u23DD",Rge="\u22C3",Lge="\u228E",Ige="\u0172",$ge="\u0173",Bge="\u{1D54C}",Hge="\u{1D566}",Fge="\u2912",zge="\u2191",Vge="\u2191",qge="\u21D1",Uge="\u21C5",Wge="\u2195",jge="\u2195",Yge="\u21D5",Gge="\u296E",Kge="\u21BF",Xge="\u21BE",Jge="\u228E",Qge="\u2196",Zge="\u2197",eye="\u03C5",tye="\u03D2",rye="\u03D2",nye="\u03A5",iye="\u03C5",aye="\u21A5",oye="\u22A5",sye="\u21C8",lye="\u231D",uye="\u231D",cye="\u230E",fye="\u016E",dye="\u016F",hye="\u25F9",pye="\u{1D4B0}",vye="\u{1D4CA}",mye="\u22F0",gye="\u0168",yye="\u0169",bye="\u25B5",wye="\u25B4",kye="\u21C8",xye="\xDC",Tye="\xFC",_ye="\u29A7",Cye="\u299C",Sye="\u03F5",Oye="\u03F0",Mye="\u2205",Eye="\u03D5",Dye="\u03D6",Aye="\u221D",Pye="\u2195",Nye="\u21D5",Rye="\u03F1",Lye="\u03C2",Iye="\u228A\uFE00",$ye="\u2ACB\uFE00",Bye="\u228B\uFE00",Hye="\u2ACC\uFE00",Fye="\u03D1",zye="\u22B2",Vye="\u22B3",qye="\u2AE8",Uye="\u2AEB",Wye="\u2AE9",jye="\u0412",Yye="\u0432",Gye="\u22A2",Kye="\u22A8",Xye="\u22A9",Jye="\u22AB",Qye="\u2AE6",Zye="\u22BB",ebe="\u2228",tbe="\u22C1",rbe="\u225A",nbe="\u22EE",ibe="|",abe="\u2016",obe="|",sbe="\u2016",lbe="\u2223",ube="|",cbe="\u2758",fbe="\u2240",dbe="\u200A",hbe="\u{1D519}",pbe="\u{1D533}",vbe="\u22B2",mbe="\u2282\u20D2",gbe="\u2283\u20D2",ybe="\u{1D54D}",bbe="\u{1D567}",wbe="\u221D",kbe="\u22B3",xbe="\u{1D4B1}",Tbe="\u{1D4CB}",_be="\u2ACB\uFE00",Cbe="\u228A\uFE00",Sbe="\u2ACC\uFE00",Obe="\u228B\uFE00",Mbe="\u22AA",Ebe="\u299A",Dbe="\u0174",Abe="\u0175",Pbe="\u2A5F",Nbe="\u2227",Rbe="\u22C0",Lbe="\u2259",Ibe="\u2118",$be="\u{1D51A}",Bbe="\u{1D534}",Hbe="\u{1D54E}",Fbe="\u{1D568}",zbe="\u2118",Vbe="\u2240",qbe="\u2240",Ube="\u{1D4B2}",Wbe="\u{1D4CC}",jbe="\u22C2",Ybe="\u25EF",Gbe="\u22C3",Kbe="\u25BD",Xbe="\u{1D51B}",Jbe="\u{1D535}",Qbe="\u27F7",Zbe="\u27FA",e0e="\u039E",t0e="\u03BE",r0e="\u27F5",n0e="\u27F8",i0e="\u27FC",a0e="\u22FB",o0e="\u2A00",s0e="\u{1D54F}",l0e="\u{1D569}",u0e="\u2A01",c0e="\u2A02",f0e="\u27F6",d0e="\u27F9",h0e="\u{1D4B3}",p0e="\u{1D4CD}",v0e="\u2A06",m0e="\u2A04",g0e="\u25B3",y0e="\u22C1",b0e="\u22C0",w0e="\xDD",k0e="\xFD",x0e="\u042F",T0e="\u044F",_0e="\u0176",C0e="\u0177",S0e="\u042B",O0e="\u044B",M0e="\xA5",E0e="\u{1D51C}",D0e="\u{1D536}",A0e="\u0407",P0e="\u0457",N0e="\u{1D550}",R0e="\u{1D56A}",L0e="\u{1D4B4}",I0e="\u{1D4CE}",$0e="\u042E",B0e="\u044E",H0e="\xFF",F0e="\u0178",z0e="\u0179",V0e="\u017A",q0e="\u017D",U0e="\u017E",W0e="\u0417",j0e="\u0437",Y0e="\u017B",G0e="\u017C",K0e="\u2128",X0e="\u200B",J0e="\u0396",Q0e="\u03B6",Z0e="\u{1D537}",ewe="\u2128",twe="\u0416",rwe="\u0436",nwe="\u21DD",iwe="\u{1D56B}",awe="\u2124",owe="\u{1D4B5}",swe="\u{1D4CF}",lwe="\u200D",uwe="\u200C",vT={Aacute:Y3,aacute:G3,Abreve:K3,abreve:X3,ac:J3,acd:Q3,acE:Z3,Acirc:eV,acirc:tV,acute:rV,Acy:nV,acy:iV,AElig:aV,aelig:oV,af:sV,Afr:lV,afr:uV,Agrave:cV,agrave:fV,alefsym:dV,aleph:hV,Alpha:pV,alpha:vV,Amacr:mV,amacr:gV,amalg:yV,amp:bV,AMP:wV,andand:kV,And:xV,and:TV,andd:_V,andslope:CV,andv:SV,ang:OV,ange:MV,angle:EV,angmsdaa:DV,angmsdab:AV,angmsdac:PV,angmsdad:NV,angmsdae:RV,angmsdaf:LV,angmsdag:IV,angmsdah:$V,angmsd:BV,angrt:HV,angrtvb:FV,angrtvbd:zV,angsph:VV,angst:qV,angzarr:UV,Aogon:WV,aogon:jV,Aopf:YV,aopf:GV,apacir:KV,ap:XV,apE:JV,ape:QV,apid:ZV,apos:eq,ApplyFunction:tq,approx:rq,approxeq:nq,Aring:iq,aring:aq,Ascr:oq,ascr:sq,Assign:lq,ast:uq,asymp:cq,asympeq:fq,Atilde:dq,atilde:hq,Auml:pq,auml:vq,awconint:mq,awint:gq,backcong:yq,backepsilon:bq,backprime:wq,backsim:kq,backsimeq:xq,Backslash:Tq,Barv:_q,barvee:Cq,barwed:Sq,Barwed:Oq,barwedge:Mq,bbrk:Eq,bbrktbrk:Dq,bcong:Aq,Bcy:Pq,bcy:Nq,bdquo:Rq,becaus:Lq,because:Iq,Because:$q,bemptyv:Bq,bepsi:Hq,bernou:Fq,Bernoullis:zq,Beta:Vq,beta:qq,beth:Uq,between:Wq,Bfr:jq,bfr:Yq,bigcap:Gq,bigcirc:Kq,bigcup:Xq,bigodot:Jq,bigoplus:Qq,bigotimes:Zq,bigsqcup:eU,bigstar:tU,bigtriangledown:rU,bigtriangleup:nU,biguplus:iU,bigvee:aU,bigwedge:oU,bkarow:sU,blacklozenge:lU,blacksquare:uU,blacktriangle:cU,blacktriangledown:fU,blacktriangleleft:dU,blacktriangleright:hU,blank:pU,blk12:vU,blk14:mU,blk34:gU,block:yU,bne:bU,bnequiv:wU,bNot:kU,bnot:xU,Bopf:TU,bopf:_U,bot:CU,bottom:SU,bowtie:OU,boxbox:MU,boxdl:EU,boxdL:DU,boxDl:AU,boxDL:PU,boxdr:NU,boxdR:RU,boxDr:LU,boxDR:IU,boxh:$U,boxH:BU,boxhd:HU,boxHd:FU,boxhD:zU,boxHD:VU,boxhu:qU,boxHu:UU,boxhU:WU,boxHU:jU,boxminus:YU,boxplus:GU,boxtimes:KU,boxul:XU,boxuL:JU,boxUl:QU,boxUL:ZU,boxur:eW,boxuR:tW,boxUr:rW,boxUR:nW,boxv:iW,boxV:aW,boxvh:oW,boxvH:sW,boxVh:lW,boxVH:uW,boxvl:cW,boxvL:fW,boxVl:dW,boxVL:hW,boxvr:pW,boxvR:vW,boxVr:mW,boxVR:gW,bprime:yW,breve:bW,Breve:wW,brvbar:kW,bscr:xW,Bscr:TW,bsemi:_W,bsim:CW,bsime:SW,bsolb:OW,bsol:MW,bsolhsub:EW,bull:DW,bullet:AW,bump:PW,bumpE:NW,bumpe:RW,Bumpeq:LW,bumpeq:IW,Cacute:$W,cacute:BW,capand:HW,capbrcup:FW,capcap:zW,cap:VW,Cap:qW,capcup:UW,capdot:WW,CapitalDifferentialD:jW,caps:YW,caret:GW,caron:KW,Cayleys:XW,ccaps:JW,Ccaron:QW,ccaron:ZW,Ccedil:ej,ccedil:tj,Ccirc:rj,ccirc:nj,Cconint:ij,ccups:aj,ccupssm:oj,Cdot:sj,cdot:lj,cedil:uj,Cedilla:cj,cemptyv:fj,cent:dj,centerdot:hj,CenterDot:pj,cfr:vj,Cfr:mj,CHcy:gj,chcy:yj,check:bj,checkmark:wj,Chi:kj,chi:xj,circ:Tj,circeq:_j,circlearrowleft:Cj,circlearrowright:Sj,circledast:Oj,circledcirc:Mj,circleddash:Ej,CircleDot:Dj,circledR:Aj,circledS:Pj,CircleMinus:Nj,CirclePlus:Rj,CircleTimes:Lj,cir:Ij,cirE:$j,cire:Bj,cirfnint:Hj,cirmid:Fj,cirscir:zj,ClockwiseContourIntegral:Vj,CloseCurlyDoubleQuote:qj,CloseCurlyQuote:Uj,clubs:Wj,clubsuit:jj,colon:Yj,Colon:Gj,Colone:Kj,colone:Xj,coloneq:Jj,comma:Qj,commat:Zj,comp:e5,compfn:t5,complement:r5,complexes:n5,cong:i5,congdot:a5,Congruent:o5,conint:s5,Conint:l5,ContourIntegral:u5,copf:c5,Copf:f5,coprod:d5,Coproduct:h5,copy:p5,COPY:v5,copysr:m5,CounterClockwiseContourIntegral:g5,crarr:y5,cross:b5,Cross:w5,Cscr:k5,cscr:x5,csub:T5,csube:_5,csup:C5,csupe:S5,ctdot:O5,cudarrl:M5,cudarrr:E5,cuepr:D5,cuesc:A5,cularr:P5,cularrp:N5,cupbrcap:R5,cupcap:L5,CupCap:I5,cup:$5,Cup:B5,cupcup:H5,cupdot:F5,cupor:z5,cups:V5,curarr:q5,curarrm:U5,curlyeqprec:W5,curlyeqsucc:j5,curlyvee:Y5,curlywedge:G5,curren:K5,curvearrowleft:X5,curvearrowright:J5,cuvee:Q5,cuwed:Z5,cwconint:e4,cwint:t4,cylcty:r4,dagger:n4,Dagger:i4,daleth:a4,darr:o4,Darr:s4,dArr:l4,dash:u4,Dashv:c4,dashv:f4,dbkarow:d4,dblac:h4,Dcaron:p4,dcaron:v4,Dcy:m4,dcy:g4,ddagger:y4,ddarr:b4,DD:w4,dd:k4,DDotrahd:x4,ddotseq:T4,deg:_4,Del:C4,Delta:S4,delta:O4,demptyv:M4,dfisht:E4,Dfr:D4,dfr:A4,dHar:P4,dharl:N4,dharr:R4,DiacriticalAcute:L4,DiacriticalDot:I4,DiacriticalDoubleAcute:$4,DiacriticalGrave:B4,DiacriticalTilde:H4,diam:F4,diamond:z4,Diamond:V4,diamondsuit:q4,diams:U4,die:W4,DifferentialD:j4,digamma:Y4,disin:G4,div:K4,divide:X4,divideontimes:J4,divonx:Q4,DJcy:Z4,djcy:e6,dlcorn:t6,dlcrop:r6,dollar:n6,Dopf:i6,dopf:a6,Dot:o6,dot:s6,DotDot:l6,doteq:u6,doteqdot:c6,DotEqual:f6,dotminus:d6,dotplus:h6,dotsquare:p6,doublebarwedge:v6,DoubleContourIntegral:m6,DoubleDot:g6,DoubleDownArrow:y6,DoubleLeftArrow:b6,DoubleLeftRightArrow:w6,DoubleLeftTee:k6,DoubleLongLeftArrow:x6,DoubleLongLeftRightArrow:T6,DoubleLongRightArrow:_6,DoubleRightArrow:C6,DoubleRightTee:S6,DoubleUpArrow:O6,DoubleUpDownArrow:M6,DoubleVerticalBar:E6,DownArrowBar:D6,downarrow:A6,DownArrow:P6,Downarrow:N6,DownArrowUpArrow:R6,DownBreve:L6,downdownarrows:I6,downharpoonleft:$6,downharpoonright:B6,DownLeftRightVector:H6,DownLeftTeeVector:F6,DownLeftVectorBar:z6,DownLeftVector:V6,DownRightTeeVector:q6,DownRightVectorBar:U6,DownRightVector:W6,DownTeeArrow:j6,DownTee:Y6,drbkarow:G6,drcorn:K6,drcrop:X6,Dscr:J6,dscr:Q6,DScy:Z6,dscy:eY,dsol:tY,Dstrok:rY,dstrok:nY,dtdot:iY,dtri:aY,dtrif:oY,duarr:sY,duhar:lY,dwangle:uY,DZcy:cY,dzcy:fY,dzigrarr:dY,Eacute:hY,eacute:pY,easter:vY,Ecaron:mY,ecaron:gY,Ecirc:yY,ecirc:bY,ecir:wY,ecolon:kY,Ecy:xY,ecy:TY,eDDot:_Y,Edot:CY,edot:SY,eDot:OY,ee:MY,efDot:EY,Efr:DY,efr:AY,eg:PY,Egrave:NY,egrave:RY,egs:LY,egsdot:IY,el:$Y,Element:BY,elinters:HY,ell:FY,els:zY,elsdot:VY,Emacr:qY,emacr:UY,empty:WY,emptyset:jY,EmptySmallSquare:YY,emptyv:GY,EmptyVerySmallSquare:KY,emsp13:XY,emsp14:JY,emsp:QY,ENG:ZY,eng:e8,ensp:t8,Eogon:r8,eogon:n8,Eopf:i8,eopf:a8,epar:o8,eparsl:s8,eplus:l8,epsi:u8,Epsilon:c8,epsilon:f8,epsiv:d8,eqcirc:h8,eqcolon:p8,eqsim:v8,eqslantgtr:m8,eqslantless:g8,Equal:y8,equals:b8,EqualTilde:w8,equest:k8,Equilibrium:x8,equiv:T8,equivDD:_8,eqvparsl:C8,erarr:S8,erDot:O8,escr:M8,Escr:E8,esdot:D8,Esim:A8,esim:P8,Eta:N8,eta:R8,ETH:L8,eth:I8,Euml:$8,euml:B8,euro:H8,excl:F8,exist:z8,Exists:V8,expectation:q8,exponentiale:U8,ExponentialE:W8,fallingdotseq:j8,Fcy:Y8,fcy:G8,female:K8,ffilig:X8,fflig:J8,ffllig:Q8,Ffr:Z8,ffr:e7,filig:t7,FilledSmallSquare:r7,FilledVerySmallSquare:n7,fjlig:i7,flat:a7,fllig:o7,fltns:s7,fnof:l7,Fopf:u7,fopf:c7,forall:f7,ForAll:d7,fork:h7,forkv:p7,Fouriertrf:v7,fpartint:m7,frac12:g7,frac13:y7,frac14:b7,frac15:w7,frac16:k7,frac18:x7,frac23:T7,frac25:_7,frac34:C7,frac35:S7,frac38:O7,frac45:M7,frac56:E7,frac58:D7,frac78:A7,frasl:P7,frown:N7,fscr:R7,Fscr:L7,gacute:I7,Gamma:$7,gamma:B7,Gammad:H7,gammad:F7,gap:z7,Gbreve:V7,gbreve:q7,Gcedil:U7,Gcirc:W7,gcirc:j7,Gcy:Y7,gcy:G7,Gdot:K7,gdot:X7,ge:J7,gE:Q7,gEl:Z7,gel:eG,geq:tG,geqq:rG,geqslant:nG,gescc:iG,ges:aG,gesdot:oG,gesdoto:sG,gesdotol:lG,gesl:uG,gesles:cG,Gfr:fG,gfr:dG,gg:hG,Gg:pG,ggg:vG,gimel:mG,GJcy:gG,gjcy:yG,gla:bG,gl:wG,glE:kG,glj:xG,gnap:TG,gnapprox:_G,gne:CG,gnE:SG,gneq:OG,gneqq:MG,gnsim:EG,Gopf:DG,gopf:AG,grave:PG,GreaterEqual:NG,GreaterEqualLess:RG,GreaterFullEqual:LG,GreaterGreater:IG,GreaterLess:$G,GreaterSlantEqual:BG,GreaterTilde:HG,Gscr:FG,gscr:zG,gsim:VG,gsime:qG,gsiml:UG,gtcc:WG,gtcir:jG,gt:YG,GT:GG,Gt:KG,gtdot:XG,gtlPar:JG,gtquest:QG,gtrapprox:ZG,gtrarr:e9,gtrdot:t9,gtreqless:r9,gtreqqless:n9,gtrless:i9,gtrsim:a9,gvertneqq:o9,gvnE:s9,Hacek:l9,hairsp:u9,half:c9,hamilt:f9,HARDcy:d9,hardcy:h9,harrcir:p9,harr:v9,hArr:m9,harrw:g9,Hat:y9,hbar:b9,Hcirc:w9,hcirc:k9,hearts:x9,heartsuit:T9,hellip:_9,hercon:C9,hfr:S9,Hfr:O9,HilbertSpace:M9,hksearow:E9,hkswarow:D9,hoarr:A9,homtht:P9,hookleftarrow:N9,hookrightarrow:R9,hopf:L9,Hopf:I9,horbar:$9,HorizontalLine:B9,hscr:H9,Hscr:F9,hslash:z9,Hstrok:V9,hstrok:q9,HumpDownHump:U9,HumpEqual:W9,hybull:j9,hyphen:Y9,Iacute:G9,iacute:K9,ic:X9,Icirc:J9,icirc:Q9,Icy:Z9,icy:eK,Idot:tK,IEcy:rK,iecy:nK,iexcl:iK,iff:aK,ifr:oK,Ifr:sK,Igrave:lK,igrave:uK,ii:cK,iiiint:fK,iiint:dK,iinfin:hK,iiota:pK,IJlig:vK,ijlig:mK,Imacr:gK,imacr:yK,image:bK,ImaginaryI:wK,imagline:kK,imagpart:xK,imath:TK,Im:_K,imof:CK,imped:SK,Implies:OK,incare:MK,in:"\u2208",infin:EK,infintie:DK,inodot:AK,intcal:PK,int:NK,Int:RK,integers:LK,Integral:IK,intercal:$K,Intersection:BK,intlarhk:HK,intprod:FK,InvisibleComma:zK,InvisibleTimes:VK,IOcy:qK,iocy:UK,Iogon:WK,iogon:jK,Iopf:YK,iopf:GK,Iota:KK,iota:XK,iprod:JK,iquest:QK,iscr:ZK,Iscr:eX,isin:tX,isindot:rX,isinE:nX,isins:iX,isinsv:aX,isinv:oX,it:sX,Itilde:lX,itilde:uX,Iukcy:cX,iukcy:fX,Iuml:dX,iuml:hX,Jcirc:pX,jcirc:vX,Jcy:mX,jcy:gX,Jfr:yX,jfr:bX,jmath:wX,Jopf:kX,jopf:xX,Jscr:TX,jscr:_X,Jsercy:CX,jsercy:SX,Jukcy:OX,jukcy:MX,Kappa:EX,kappa:DX,kappav:AX,Kcedil:PX,kcedil:NX,Kcy:RX,kcy:LX,Kfr:IX,kfr:$X,kgreen:BX,KHcy:HX,khcy:FX,KJcy:zX,kjcy:VX,Kopf:qX,kopf:UX,Kscr:WX,kscr:jX,lAarr:YX,Lacute:GX,lacute:KX,laemptyv:XX,lagran:JX,Lambda:QX,lambda:ZX,lang:eJ,Lang:tJ,langd:rJ,langle:nJ,lap:iJ,Laplacetrf:aJ,laquo:oJ,larrb:sJ,larrbfs:lJ,larr:uJ,Larr:cJ,lArr:fJ,larrfs:dJ,larrhk:hJ,larrlp:pJ,larrpl:vJ,larrsim:mJ,larrtl:gJ,latail:yJ,lAtail:bJ,lat:wJ,late:kJ,lates:xJ,lbarr:TJ,lBarr:_J,lbbrk:CJ,lbrace:SJ,lbrack:OJ,lbrke:MJ,lbrksld:EJ,lbrkslu:DJ,Lcaron:AJ,lcaron:PJ,Lcedil:NJ,lcedil:RJ,lceil:LJ,lcub:IJ,Lcy:$J,lcy:BJ,ldca:HJ,ldquo:FJ,ldquor:zJ,ldrdhar:VJ,ldrushar:qJ,ldsh:UJ,le:WJ,lE:jJ,LeftAngleBracket:YJ,LeftArrowBar:GJ,leftarrow:KJ,LeftArrow:XJ,Leftarrow:JJ,LeftArrowRightArrow:QJ,leftarrowtail:ZJ,LeftCeiling:eQ,LeftDoubleBracket:tQ,LeftDownTeeVector:rQ,LeftDownVectorBar:nQ,LeftDownVector:iQ,LeftFloor:aQ,leftharpoondown:oQ,leftharpoonup:sQ,leftleftarrows:lQ,leftrightarrow:uQ,LeftRightArrow:cQ,Leftrightarrow:fQ,leftrightarrows:dQ,leftrightharpoons:hQ,leftrightsquigarrow:pQ,LeftRightVector:vQ,LeftTeeArrow:mQ,LeftTee:gQ,LeftTeeVector:yQ,leftthreetimes:bQ,LeftTriangleBar:wQ,LeftTriangle:kQ,LeftTriangleEqual:xQ,LeftUpDownVector:TQ,LeftUpTeeVector:_Q,LeftUpVectorBar:CQ,LeftUpVector:SQ,LeftVectorBar:OQ,LeftVector:MQ,lEg:EQ,leg:DQ,leq:AQ,leqq:PQ,leqslant:NQ,lescc:RQ,les:LQ,lesdot:IQ,lesdoto:$Q,lesdotor:BQ,lesg:HQ,lesges:FQ,lessapprox:zQ,lessdot:VQ,lesseqgtr:qQ,lesseqqgtr:UQ,LessEqualGreater:WQ,LessFullEqual:jQ,LessGreater:YQ,lessgtr:GQ,LessLess:KQ,lesssim:XQ,LessSlantEqual:JQ,LessTilde:QQ,lfisht:ZQ,lfloor:eZ,Lfr:tZ,lfr:rZ,lg:nZ,lgE:iZ,lHar:aZ,lhard:oZ,lharu:sZ,lharul:lZ,lhblk:uZ,LJcy:cZ,ljcy:fZ,llarr:dZ,ll:hZ,Ll:pZ,llcorner:vZ,Lleftarrow:mZ,llhard:gZ,lltri:yZ,Lmidot:bZ,lmidot:wZ,lmoustache:kZ,lmoust:xZ,lnap:TZ,lnapprox:_Z,lne:CZ,lnE:SZ,lneq:OZ,lneqq:MZ,lnsim:EZ,loang:DZ,loarr:AZ,lobrk:PZ,longleftarrow:NZ,LongLeftArrow:RZ,Longleftarrow:LZ,longleftrightarrow:IZ,LongLeftRightArrow:$Z,Longleftrightarrow:BZ,longmapsto:HZ,longrightarrow:FZ,LongRightArrow:zZ,Longrightarrow:VZ,looparrowleft:qZ,looparrowright:UZ,lopar:WZ,Lopf:jZ,lopf:YZ,loplus:GZ,lotimes:KZ,lowast:XZ,lowbar:JZ,LowerLeftArrow:QZ,LowerRightArrow:ZZ,loz:eee,lozenge:tee,lozf:ree,lpar:nee,lparlt:iee,lrarr:aee,lrcorner:oee,lrhar:see,lrhard:lee,lrm:uee,lrtri:cee,lsaquo:fee,lscr:dee,Lscr:hee,lsh:pee,Lsh:vee,lsim:mee,lsime:gee,lsimg:yee,lsqb:bee,lsquo:wee,lsquor:kee,Lstrok:xee,lstrok:Tee,ltcc:_ee,ltcir:Cee,lt:See,LT:Oee,Lt:Mee,ltdot:Eee,lthree:Dee,ltimes:Aee,ltlarr:Pee,ltquest:Nee,ltri:Ree,ltrie:Lee,ltrif:Iee,ltrPar:$ee,lurdshar:Bee,luruhar:Hee,lvertneqq:Fee,lvnE:zee,macr:Vee,male:qee,malt:Uee,maltese:Wee,Map:"\u2905",map:jee,mapsto:Yee,mapstodown:Gee,mapstoleft:Kee,mapstoup:Xee,marker:Jee,mcomma:Qee,Mcy:Zee,mcy:ete,mdash:tte,mDDot:rte,measuredangle:nte,MediumSpace:ite,Mellintrf:ate,Mfr:ote,mfr:ste,mho:lte,micro:ute,midast:cte,midcir:fte,mid:dte,middot:hte,minusb:pte,minus:vte,minusd:mte,minusdu:gte,MinusPlus:yte,mlcp:bte,mldr:wte,mnplus:kte,models:xte,Mopf:Tte,mopf:_te,mp:Cte,mscr:Ste,Mscr:Ote,mstpos:Mte,Mu:Ete,mu:Dte,multimap:Ate,mumap:Pte,nabla:Nte,Nacute:Rte,nacute:Lte,nang:Ite,nap:$te,napE:Bte,napid:Hte,napos:Fte,napprox:zte,natural:Vte,naturals:qte,natur:Ute,nbsp:Wte,nbump:jte,nbumpe:Yte,ncap:Gte,Ncaron:Kte,ncaron:Xte,Ncedil:Jte,ncedil:Qte,ncong:Zte,ncongdot:ere,ncup:tre,Ncy:rre,ncy:nre,ndash:ire,nearhk:are,nearr:ore,neArr:sre,nearrow:lre,ne:ure,nedot:cre,NegativeMediumSpace:fre,NegativeThickSpace:dre,NegativeThinSpace:hre,NegativeVeryThinSpace:pre,nequiv:vre,nesear:mre,nesim:gre,NestedGreaterGreater:yre,NestedLessLess:bre,NewLine:wre,nexist:kre,nexists:xre,Nfr:Tre,nfr:_re,ngE:Cre,nge:Sre,ngeq:Ore,ngeqq:Mre,ngeqslant:Ere,nges:Dre,nGg:Are,ngsim:Pre,nGt:Nre,ngt:Rre,ngtr:Lre,nGtv:Ire,nharr:$re,nhArr:Bre,nhpar:Hre,ni:Fre,nis:zre,nisd:Vre,niv:qre,NJcy:Ure,njcy:Wre,nlarr:jre,nlArr:Yre,nldr:Gre,nlE:Kre,nle:Xre,nleftarrow:Jre,nLeftarrow:Qre,nleftrightarrow:Zre,nLeftrightarrow:ene,nleq:tne,nleqq:rne,nleqslant:nne,nles:ine,nless:ane,nLl:one,nlsim:sne,nLt:lne,nlt:une,nltri:cne,nltrie:fne,nLtv:dne,nmid:hne,NoBreak:pne,NonBreakingSpace:vne,nopf:mne,Nopf:gne,Not:yne,not:bne,NotCongruent:wne,NotCupCap:kne,NotDoubleVerticalBar:xne,NotElement:Tne,NotEqual:_ne,NotEqualTilde:Cne,NotExists:Sne,NotGreater:One,NotGreaterEqual:Mne,NotGreaterFullEqual:Ene,NotGreaterGreater:Dne,NotGreaterLess:Ane,NotGreaterSlantEqual:Pne,NotGreaterTilde:Nne,NotHumpDownHump:Rne,NotHumpEqual:Lne,notin:Ine,notindot:$ne,notinE:Bne,notinva:Hne,notinvb:Fne,notinvc:zne,NotLeftTriangleBar:Vne,NotLeftTriangle:qne,NotLeftTriangleEqual:Une,NotLess:Wne,NotLessEqual:jne,NotLessGreater:Yne,NotLessLess:Gne,NotLessSlantEqual:Kne,NotLessTilde:Xne,NotNestedGreaterGreater:Jne,NotNestedLessLess:Qne,notni:Zne,notniva:eie,notnivb:tie,notnivc:rie,NotPrecedes:nie,NotPrecedesEqual:iie,NotPrecedesSlantEqual:aie,NotReverseElement:oie,NotRightTriangleBar:sie,NotRightTriangle:lie,NotRightTriangleEqual:uie,NotSquareSubset:cie,NotSquareSubsetEqual:fie,NotSquareSuperset:die,NotSquareSupersetEqual:hie,NotSubset:pie,NotSubsetEqual:vie,NotSucceeds:mie,NotSucceedsEqual:gie,NotSucceedsSlantEqual:yie,NotSucceedsTilde:bie,NotSuperset:wie,NotSupersetEqual:kie,NotTilde:xie,NotTildeEqual:Tie,NotTildeFullEqual:_ie,NotTildeTilde:Cie,NotVerticalBar:Sie,nparallel:Oie,npar:Mie,nparsl:Eie,npart:Die,npolint:Aie,npr:Pie,nprcue:Nie,nprec:Rie,npreceq:Lie,npre:Iie,nrarrc:$ie,nrarr:Bie,nrArr:Hie,nrarrw:Fie,nrightarrow:zie,nRightarrow:Vie,nrtri:qie,nrtrie:Uie,nsc:Wie,nsccue:jie,nsce:Yie,Nscr:Gie,nscr:Kie,nshortmid:Xie,nshortparallel:Jie,nsim:Qie,nsime:Zie,nsimeq:eae,nsmid:tae,nspar:rae,nsqsube:nae,nsqsupe:iae,nsub:aae,nsubE:oae,nsube:sae,nsubset:lae,nsubseteq:uae,nsubseteqq:cae,nsucc:fae,nsucceq:dae,nsup:hae,nsupE:pae,nsupe:vae,nsupset:mae,nsupseteq:gae,nsupseteqq:yae,ntgl:bae,Ntilde:wae,ntilde:kae,ntlg:xae,ntriangleleft:Tae,ntrianglelefteq:_ae,ntriangleright:Cae,ntrianglerighteq:Sae,Nu:Oae,nu:Mae,num:Eae,numero:Dae,numsp:Aae,nvap:Pae,nvdash:Nae,nvDash:Rae,nVdash:Lae,nVDash:Iae,nvge:$ae,nvgt:Bae,nvHarr:Hae,nvinfin:Fae,nvlArr:zae,nvle:Vae,nvlt:qae,nvltrie:Uae,nvrArr:Wae,nvrtrie:jae,nvsim:Yae,nwarhk:Gae,nwarr:Kae,nwArr:Xae,nwarrow:Jae,nwnear:Qae,Oacute:Zae,oacute:eoe,oast:toe,Ocirc:roe,ocirc:noe,ocir:ioe,Ocy:aoe,ocy:ooe,odash:soe,Odblac:loe,odblac:uoe,odiv:coe,odot:foe,odsold:doe,OElig:hoe,oelig:poe,ofcir:voe,Ofr:moe,ofr:goe,ogon:yoe,Ograve:boe,ograve:woe,ogt:koe,ohbar:xoe,ohm:Toe,oint:_oe,olarr:Coe,olcir:Soe,olcross:Ooe,oline:Moe,olt:Eoe,Omacr:Doe,omacr:Aoe,Omega:Poe,omega:Noe,Omicron:Roe,omicron:Loe,omid:Ioe,ominus:$oe,Oopf:Boe,oopf:Hoe,opar:Foe,OpenCurlyDoubleQuote:zoe,OpenCurlyQuote:Voe,operp:qoe,oplus:Uoe,orarr:Woe,Or:joe,or:Yoe,ord:Goe,order:Koe,orderof:Xoe,ordf:Joe,ordm:Qoe,origof:Zoe,oror:ese,orslope:tse,orv:rse,oS:nse,Oscr:ise,oscr:ase,Oslash:ose,oslash:sse,osol:lse,Otilde:use,otilde:cse,otimesas:fse,Otimes:dse,otimes:hse,Ouml:pse,ouml:vse,ovbar:mse,OverBar:gse,OverBrace:yse,OverBracket:bse,OverParenthesis:wse,para:kse,parallel:xse,par:Tse,parsim:_se,parsl:Cse,part:Sse,PartialD:Ose,Pcy:Mse,pcy:Ese,percnt:Dse,period:Ase,permil:Pse,perp:Nse,pertenk:Rse,Pfr:Lse,pfr:Ise,Phi:$se,phi:Bse,phiv:Hse,phmmat:Fse,phone:zse,Pi:Vse,pi:qse,pitchfork:Use,piv:Wse,planck:jse,planckh:Yse,plankv:Gse,plusacir:Kse,plusb:Xse,pluscir:Jse,plus:Qse,plusdo:Zse,plusdu:ele,pluse:tle,PlusMinus:rle,plusmn:nle,plussim:ile,plustwo:ale,pm:ole,Poincareplane:sle,pointint:lle,popf:ule,Popf:cle,pound:fle,prap:dle,Pr:hle,pr:ple,prcue:vle,precapprox:mle,prec:gle,preccurlyeq:yle,Precedes:ble,PrecedesEqual:wle,PrecedesSlantEqual:kle,PrecedesTilde:xle,preceq:Tle,precnapprox:_le,precneqq:Cle,precnsim:Sle,pre:Ole,prE:Mle,precsim:Ele,prime:Dle,Prime:Ale,primes:Ple,prnap:Nle,prnE:Rle,prnsim:Lle,prod:Ile,Product:$le,profalar:Ble,profline:Hle,profsurf:Fle,prop:zle,Proportional:Vle,Proportion:qle,propto:Ule,prsim:Wle,prurel:jle,Pscr:Yle,pscr:Gle,Psi:Kle,psi:Xle,puncsp:Jle,Qfr:Qle,qfr:Zle,qint:eue,qopf:tue,Qopf:rue,qprime:nue,Qscr:iue,qscr:aue,quaternions:oue,quatint:sue,quest:lue,questeq:uue,quot:cue,QUOT:fue,rAarr:due,race:hue,Racute:pue,racute:vue,radic:mue,raemptyv:gue,rang:yue,Rang:bue,rangd:wue,range:kue,rangle:xue,raquo:Tue,rarrap:_ue,rarrb:Cue,rarrbfs:Sue,rarrc:Oue,rarr:Mue,Rarr:Eue,rArr:Due,rarrfs:Aue,rarrhk:Pue,rarrlp:Nue,rarrpl:Rue,rarrsim:Lue,Rarrtl:Iue,rarrtl:$ue,rarrw:Bue,ratail:Hue,rAtail:Fue,ratio:zue,rationals:Vue,rbarr:que,rBarr:Uue,RBarr:Wue,rbbrk:jue,rbrace:Yue,rbrack:Gue,rbrke:Kue,rbrksld:Xue,rbrkslu:Jue,Rcaron:Que,rcaron:Zue,Rcedil:ece,rcedil:tce,rceil:rce,rcub:nce,Rcy:ice,rcy:ace,rdca:oce,rdldhar:sce,rdquo:lce,rdquor:uce,rdsh:cce,real:fce,realine:dce,realpart:hce,reals:pce,Re:vce,rect:mce,reg:gce,REG:yce,ReverseElement:bce,ReverseEquilibrium:wce,ReverseUpEquilibrium:kce,rfisht:xce,rfloor:Tce,rfr:_ce,Rfr:Cce,rHar:Sce,rhard:Oce,rharu:Mce,rharul:Ece,Rho:Dce,rho:Ace,rhov:Pce,RightAngleBracket:Nce,RightArrowBar:Rce,rightarrow:Lce,RightArrow:Ice,Rightarrow:$ce,RightArrowLeftArrow:Bce,rightarrowtail:Hce,RightCeiling:Fce,RightDoubleBracket:zce,RightDownTeeVector:Vce,RightDownVectorBar:qce,RightDownVector:Uce,RightFloor:Wce,rightharpoondown:jce,rightharpoonup:Yce,rightleftarrows:Gce,rightleftharpoons:Kce,rightrightarrows:Xce,rightsquigarrow:Jce,RightTeeArrow:Qce,RightTee:Zce,RightTeeVector:efe,rightthreetimes:tfe,RightTriangleBar:rfe,RightTriangle:nfe,RightTriangleEqual:ife,RightUpDownVector:afe,RightUpTeeVector:ofe,RightUpVectorBar:sfe,RightUpVector:lfe,RightVectorBar:ufe,RightVector:cfe,ring:ffe,risingdotseq:dfe,rlarr:hfe,rlhar:pfe,rlm:vfe,rmoustache:mfe,rmoust:gfe,rnmid:yfe,roang:bfe,roarr:wfe,robrk:kfe,ropar:xfe,ropf:Tfe,Ropf:_fe,roplus:Cfe,rotimes:Sfe,RoundImplies:Ofe,rpar:Mfe,rpargt:Efe,rppolint:Dfe,rrarr:Afe,Rrightarrow:Pfe,rsaquo:Nfe,rscr:Rfe,Rscr:Lfe,rsh:Ife,Rsh:$fe,rsqb:Bfe,rsquo:Hfe,rsquor:Ffe,rthree:zfe,rtimes:Vfe,rtri:qfe,rtrie:Ufe,rtrif:Wfe,rtriltri:jfe,RuleDelayed:Yfe,ruluhar:Gfe,rx:Kfe,Sacute:Xfe,sacute:Jfe,sbquo:Qfe,scap:Zfe,Scaron:ede,scaron:tde,Sc:rde,sc:nde,sccue:ide,sce:ade,scE:ode,Scedil:sde,scedil:lde,Scirc:ude,scirc:cde,scnap:fde,scnE:dde,scnsim:hde,scpolint:pde,scsim:vde,Scy:mde,scy:gde,sdotb:yde,sdot:bde,sdote:wde,searhk:kde,searr:xde,seArr:Tde,searrow:_de,sect:Cde,semi:Sde,seswar:Ode,setminus:Mde,setmn:Ede,sext:Dde,Sfr:Ade,sfr:Pde,sfrown:Nde,sharp:Rde,SHCHcy:Lde,shchcy:Ide,SHcy:$de,shcy:Bde,ShortDownArrow:Hde,ShortLeftArrow:Fde,shortmid:zde,shortparallel:Vde,ShortRightArrow:qde,ShortUpArrow:Ude,shy:Wde,Sigma:jde,sigma:Yde,sigmaf:Gde,sigmav:Kde,sim:Xde,simdot:Jde,sime:Qde,simeq:Zde,simg:ehe,simgE:the,siml:rhe,simlE:nhe,simne:ihe,simplus:ahe,simrarr:ohe,slarr:she,SmallCircle:lhe,smallsetminus:uhe,smashp:che,smeparsl:fhe,smid:dhe,smile:hhe,smt:phe,smte:vhe,smtes:mhe,SOFTcy:ghe,softcy:yhe,solbar:bhe,solb:whe,sol:khe,Sopf:xhe,sopf:The,spades:_he,spadesuit:Che,spar:She,sqcap:Ohe,sqcaps:Mhe,sqcup:Ehe,sqcups:Dhe,Sqrt:Ahe,sqsub:Phe,sqsube:Nhe,sqsubset:Rhe,sqsubseteq:Lhe,sqsup:Ihe,sqsupe:$he,sqsupset:Bhe,sqsupseteq:Hhe,square:Fhe,Square:zhe,SquareIntersection:Vhe,SquareSubset:qhe,SquareSubsetEqual:Uhe,SquareSuperset:Whe,SquareSupersetEqual:jhe,SquareUnion:Yhe,squarf:Ghe,squ:Khe,squf:Xhe,srarr:Jhe,Sscr:Qhe,sscr:Zhe,ssetmn:epe,ssmile:tpe,sstarf:rpe,Star:npe,star:ipe,starf:ape,straightepsilon:ope,straightphi:spe,strns:lpe,sub:upe,Sub:cpe,subdot:fpe,subE:dpe,sube:hpe,subedot:ppe,submult:vpe,subnE:mpe,subne:gpe,subplus:ype,subrarr:bpe,subset:wpe,Subset:kpe,subseteq:xpe,subseteqq:Tpe,SubsetEqual:_pe,subsetneq:Cpe,subsetneqq:Spe,subsim:Ope,subsub:Mpe,subsup:Epe,succapprox:Dpe,succ:Ape,succcurlyeq:Ppe,Succeeds:Npe,SucceedsEqual:Rpe,SucceedsSlantEqual:Lpe,SucceedsTilde:Ipe,succeq:$pe,succnapprox:Bpe,succneqq:Hpe,succnsim:Fpe,succsim:zpe,SuchThat:Vpe,sum:qpe,Sum:Upe,sung:Wpe,sup1:jpe,sup2:Ype,sup3:Gpe,sup:Kpe,Sup:Xpe,supdot:Jpe,supdsub:Qpe,supE:Zpe,supe:eve,supedot:tve,Superset:rve,SupersetEqual:nve,suphsol:ive,suphsub:ave,suplarr:ove,supmult:sve,supnE:lve,supne:uve,supplus:cve,supset:fve,Supset:dve,supseteq:hve,supseteqq:pve,supsetneq:vve,supsetneqq:mve,supsim:gve,supsub:yve,supsup:bve,swarhk:wve,swarr:kve,swArr:xve,swarrow:Tve,swnwar:_ve,szlig:Cve,Tab:Sve,target:Ove,Tau:Mve,tau:Eve,tbrk:Dve,Tcaron:Ave,tcaron:Pve,Tcedil:Nve,tcedil:Rve,Tcy:Lve,tcy:Ive,tdot:$ve,telrec:Bve,Tfr:Hve,tfr:Fve,there4:zve,therefore:Vve,Therefore:qve,Theta:Uve,theta:Wve,thetasym:jve,thetav:Yve,thickapprox:Gve,thicksim:Kve,ThickSpace:Xve,ThinSpace:Jve,thinsp:Qve,thkap:Zve,thksim:eme,THORN:tme,thorn:rme,tilde:nme,Tilde:ime,TildeEqual:ame,TildeFullEqual:ome,TildeTilde:sme,timesbar:lme,timesb:ume,times:cme,timesd:fme,tint:dme,toea:hme,topbot:pme,topcir:vme,top:mme,Topf:gme,topf:yme,topfork:bme,tosa:wme,tprime:kme,trade:xme,TRADE:Tme,triangle:_me,triangledown:Cme,triangleleft:Sme,trianglelefteq:Ome,triangleq:Mme,triangleright:Eme,trianglerighteq:Dme,tridot:Ame,trie:Pme,triminus:Nme,TripleDot:Rme,triplus:Lme,trisb:Ime,tritime:$me,trpezium:Bme,Tscr:Hme,tscr:Fme,TScy:zme,tscy:Vme,TSHcy:qme,tshcy:Ume,Tstrok:Wme,tstrok:jme,twixt:Yme,twoheadleftarrow:Gme,twoheadrightarrow:Kme,Uacute:Xme,uacute:Jme,uarr:Qme,Uarr:Zme,uArr:ege,Uarrocir:tge,Ubrcy:rge,ubrcy:nge,Ubreve:ige,ubreve:age,Ucirc:oge,ucirc:sge,Ucy:lge,ucy:uge,udarr:cge,Udblac:fge,udblac:dge,udhar:hge,ufisht:pge,Ufr:vge,ufr:mge,Ugrave:gge,ugrave:yge,uHar:bge,uharl:wge,uharr:kge,uhblk:xge,ulcorn:Tge,ulcorner:_ge,ulcrop:Cge,ultri:Sge,Umacr:Oge,umacr:Mge,uml:Ege,UnderBar:Dge,UnderBrace:Age,UnderBracket:Pge,UnderParenthesis:Nge,Union:Rge,UnionPlus:Lge,Uogon:Ige,uogon:$ge,Uopf:Bge,uopf:Hge,UpArrowBar:Fge,uparrow:zge,UpArrow:Vge,Uparrow:qge,UpArrowDownArrow:Uge,updownarrow:Wge,UpDownArrow:jge,Updownarrow:Yge,UpEquilibrium:Gge,upharpoonleft:Kge,upharpoonright:Xge,uplus:Jge,UpperLeftArrow:Qge,UpperRightArrow:Zge,upsi:eye,Upsi:tye,upsih:rye,Upsilon:nye,upsilon:iye,UpTeeArrow:aye,UpTee:oye,upuparrows:sye,urcorn:lye,urcorner:uye,urcrop:cye,Uring:fye,uring:dye,urtri:hye,Uscr:pye,uscr:vye,utdot:mye,Utilde:gye,utilde:yye,utri:bye,utrif:wye,uuarr:kye,Uuml:xye,uuml:Tye,uwangle:_ye,vangrt:Cye,varepsilon:Sye,varkappa:Oye,varnothing:Mye,varphi:Eye,varpi:Dye,varpropto:Aye,varr:Pye,vArr:Nye,varrho:Rye,varsigma:Lye,varsubsetneq:Iye,varsubsetneqq:$ye,varsupsetneq:Bye,varsupsetneqq:Hye,vartheta:Fye,vartriangleleft:zye,vartriangleright:Vye,vBar:qye,Vbar:Uye,vBarv:Wye,Vcy:jye,vcy:Yye,vdash:Gye,vDash:Kye,Vdash:Xye,VDash:Jye,Vdashl:Qye,veebar:Zye,vee:ebe,Vee:tbe,veeeq:rbe,vellip:nbe,verbar:ibe,Verbar:abe,vert:obe,Vert:sbe,VerticalBar:lbe,VerticalLine:ube,VerticalSeparator:cbe,VerticalTilde:fbe,VeryThinSpace:dbe,Vfr:hbe,vfr:pbe,vltri:vbe,vnsub:mbe,vnsup:gbe,Vopf:ybe,vopf:bbe,vprop:wbe,vrtri:kbe,Vscr:xbe,vscr:Tbe,vsubnE:_be,vsubne:Cbe,vsupnE:Sbe,vsupne:Obe,Vvdash:Mbe,vzigzag:Ebe,Wcirc:Dbe,wcirc:Abe,wedbar:Pbe,wedge:Nbe,Wedge:Rbe,wedgeq:Lbe,weierp:Ibe,Wfr:$be,wfr:Bbe,Wopf:Hbe,wopf:Fbe,wp:zbe,wr:Vbe,wreath:qbe,Wscr:Ube,wscr:Wbe,xcap:jbe,xcirc:Ybe,xcup:Gbe,xdtri:Kbe,Xfr:Xbe,xfr:Jbe,xharr:Qbe,xhArr:Zbe,Xi:e0e,xi:t0e,xlarr:r0e,xlArr:n0e,xmap:i0e,xnis:a0e,xodot:o0e,Xopf:s0e,xopf:l0e,xoplus:u0e,xotime:c0e,xrarr:f0e,xrArr:d0e,Xscr:h0e,xscr:p0e,xsqcup:v0e,xuplus:m0e,xutri:g0e,xvee:y0e,xwedge:b0e,Yacute:w0e,yacute:k0e,YAcy:x0e,yacy:T0e,Ycirc:_0e,ycirc:C0e,Ycy:S0e,ycy:O0e,yen:M0e,Yfr:E0e,yfr:D0e,YIcy:A0e,yicy:P0e,Yopf:N0e,yopf:R0e,Yscr:L0e,yscr:I0e,YUcy:$0e,yucy:B0e,yuml:H0e,Yuml:F0e,Zacute:z0e,zacute:V0e,Zcaron:q0e,zcaron:U0e,Zcy:W0e,zcy:j0e,Zdot:Y0e,zdot:G0e,zeetrf:K0e,ZeroWidthSpace:X0e,Zeta:J0e,zeta:Q0e,zfr:Z0e,Zfr:ewe,ZHcy:twe,zhcy:rwe,zigrarr:nwe,zopf:iwe,Zopf:awe,Zscr:owe,zscr:swe,zwj:lwe,zwnj:uwe},cwe="\xC1",fwe="\xE1",dwe="\xC2",hwe="\xE2",pwe="\xB4",vwe="\xC6",mwe="\xE6",gwe="\xC0",ywe="\xE0",bwe="&",wwe="&",kwe="\xC5",xwe="\xE5",Twe="\xC3",_we="\xE3",Cwe="\xC4",Swe="\xE4",Owe="\xA6",Mwe="\xC7",Ewe="\xE7",Dwe="\xB8",Awe="\xA2",Pwe="\xA9",Nwe="\xA9",Rwe="\xA4",Lwe="\xB0",Iwe="\xF7",$we="\xC9",Bwe="\xE9",Hwe="\xCA",Fwe="\xEA",zwe="\xC8",Vwe="\xE8",qwe="\xD0",Uwe="\xF0",Wwe="\xCB",jwe="\xEB",Ywe="\xBD",Gwe="\xBC",Kwe="\xBE",Xwe=">",Jwe=">",Qwe="\xCD",Zwe="\xED",e1e="\xCE",t1e="\xEE",r1e="\xA1",n1e="\xCC",i1e="\xEC",a1e="\xBF",o1e="\xCF",s1e="\xEF",l1e="\xAB",u1e="<",c1e="<",f1e="\xAF",d1e="\xB5",h1e="\xB7",p1e="\xA0",v1e="\xAC",m1e="\xD1",g1e="\xF1",y1e="\xD3",b1e="\xF3",w1e="\xD4",k1e="\xF4",x1e="\xD2",T1e="\xF2",_1e="\xAA",C1e="\xBA",S1e="\xD8",O1e="\xF8",M1e="\xD5",E1e="\xF5",D1e="\xD6",A1e="\xF6",P1e="\xB6",N1e="\xB1",R1e="\xA3",L1e='"',I1e='"',$1e="\xBB",B1e="\xAE",H1e="\xAE",F1e="\xA7",z1e="\xAD",V1e="\xB9",q1e="\xB2",U1e="\xB3",W1e="\xDF",j1e="\xDE",Y1e="\xFE",G1e="\xD7",K1e="\xDA",X1e="\xFA",J1e="\xDB",Q1e="\xFB",Z1e="\xD9",eke="\xF9",tke="\xA8",rke="\xDC",nke="\xFC",ike="\xDD",ake="\xFD",oke="\xA5",ske="\xFF",lke={Aacute:cwe,aacute:fwe,Acirc:dwe,acirc:hwe,acute:pwe,AElig:vwe,aelig:mwe,Agrave:gwe,agrave:ywe,amp:bwe,AMP:wwe,Aring:kwe,aring:xwe,Atilde:Twe,atilde:_we,Auml:Cwe,auml:Swe,brvbar:Owe,Ccedil:Mwe,ccedil:Ewe,cedil:Dwe,cent:Awe,copy:Pwe,COPY:Nwe,curren:Rwe,deg:Lwe,divide:Iwe,Eacute:$we,eacute:Bwe,Ecirc:Hwe,ecirc:Fwe,Egrave:zwe,egrave:Vwe,ETH:qwe,eth:Uwe,Euml:Wwe,euml:jwe,frac12:Ywe,frac14:Gwe,frac34:Kwe,gt:Xwe,GT:Jwe,Iacute:Qwe,iacute:Zwe,Icirc:e1e,icirc:t1e,iexcl:r1e,Igrave:n1e,igrave:i1e,iquest:a1e,Iuml:o1e,iuml:s1e,laquo:l1e,lt:u1e,LT:c1e,macr:f1e,micro:d1e,middot:h1e,nbsp:p1e,not:v1e,Ntilde:m1e,ntilde:g1e,Oacute:y1e,oacute:b1e,Ocirc:w1e,ocirc:k1e,Ograve:x1e,ograve:T1e,ordf:_1e,ordm:C1e,Oslash:S1e,oslash:O1e,Otilde:M1e,otilde:E1e,Ouml:D1e,ouml:A1e,para:P1e,plusmn:N1e,pound:R1e,quot:L1e,QUOT:I1e,raquo:$1e,reg:B1e,REG:H1e,sect:F1e,shy:z1e,sup1:V1e,sup2:q1e,sup3:U1e,szlig:W1e,THORN:j1e,thorn:Y1e,times:G1e,Uacute:K1e,uacute:X1e,Ucirc:J1e,ucirc:Q1e,Ugrave:Z1e,ugrave:eke,uml:tke,Uuml:rke,uuml:nke,Yacute:ike,yacute:ake,yen:oke,yuml:ske},uke="&",cke="'",fke=">",dke="<",hke='"',mT={amp:uke,apos:cke,gt:fke,lt:dke,quot:hke},Lv={},pke={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},vke=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lv,"__esModule",{value:!0});var u0=vke(pke),mke=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function gke(r){return r>=55296&&r<=57343||r>1114111?"\uFFFD":(r in u0.default&&(r=u0.default[r]),mke(r))}Lv.default=gke;var Uc=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.decodeHTML=Hn.decodeHTMLStrict=Hn.decodeXML=void 0;var rp=Uc(vT),yke=Uc(lke),bke=Uc(mT),c0=Uc(Lv),wke=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Hn.decodeXML=gT(bke.default);Hn.decodeHTMLStrict=gT(rp.default);function gT(r){var e=yT(r);return function(t){return String(t).replace(wke,e)}}var f0=function(r,e){return r<e?1:-1};Hn.decodeHTML=function(){for(var r=Object.keys(yke.default).sort(f0),e=Object.keys(rp.default).sort(f0),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=yT(rp.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),a(s)}return function(s){return String(s).replace(i,o)}}();function yT(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?c0.default(parseInt(t.substr(3),16)):c0.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var Tr={},bT=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.escapeUTF8=Tr.escape=Tr.encodeNonAsciiHTML=Tr.encodeHTML=Tr.encodeXML=void 0;var kke=bT(mT),wT=xT(kke.default),kT=TT(wT);Tr.encodeXML=ST(wT);var xke=bT(vT),Iv=xT(xke.default),Tke=TT(Iv);Tr.encodeHTML=Cke(Iv,Tke);Tr.encodeNonAsciiHTML=ST(Iv);function xT(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function TT(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var _T=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,_ke=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function Wc(r){return"&#x"+(r.length>1?_ke(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function Cke(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(_T,Wc)}}var CT=new RegExp(kT.source+"|"+_T.source,"g");function Ske(r){return r.replace(CT,Wc)}Tr.escape=Ske;function Oke(r){return r.replace(kT,Wc)}Tr.escapeUTF8=Oke;function ST(r){return function(e){return e.replace(CT,function(t){return r[t]||Wc(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=Hn,t=Tr;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}r.decode=n;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}r.decodeStrict=i;function a(l,u){return(!u||u<=0?t.encodeXML:t.encodeHTML)(l)}r.encode=a;var o=Tr;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=Hn;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(Rv);var OT="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",Mke=92,Eke=/[\\&]/,$v="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Dke=new RegExp("\\\\"+$v+"|"+OT,"gi"),Ake='[&<>"]',d0=new RegExp(Ake,"g"),Pke=function(r){return r.charCodeAt(0)===Mke?r.charAt(1):Rv.decodeHTML(r)};function Wo(r){return Eke.test(r)?r.replace(Dke,Pke):r}function Ls(r){try{return j3(r)}catch{return r}}function Nke(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function xa(r){return d0.test(r)?r.replace(d0,Nke):r}function np(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function h0(r){return r?!/[^ \t]+/.test(r):!0}var Rke=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=Bv(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r}();function Bv(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var Lke=1,jc={};function Ike(r){return jc[r]}function ip(r){delete jc[r]}function $ke(){jc={}}var fs=function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=Lke++,this.type=e,this.sourcepos=t,jc[this.id]=this}return r.prototype.isContainer=function(){return Bv(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new Rke(this)},r}(),Vn=function(r){Nr(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(fs),Bke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e}(Vn),Hke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(Vn),Fke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(Vn),zke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e}(Vn),Vke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(Vn),qke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(Vn),Uke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(Vn),Wke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(Vn),jke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(fs),Yke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e}(fs),Gke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e}(fs);function lt(r,e){switch(r){case"heading":return new Hke(r,e);case"list":case"item":return new Bke(r,e);case"link":case"image":return new jke(r,e);case"codeBlock":return new Fke(r,e);case"htmlBlock":return new Wke(r,e);case"table":return new zke(r,e);case"tableCell":return new Vke(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Vn(r,e);case"code":return new Yke(r,e);case"refDef":return new qke(r,e);case"customBlock":return new Uke(r,e);case"customInline":return new Gke(r,e);default:return new fs(r,e)}}function MT(r){return r.type==="codeBlock"}function Kke(r){return r.type==="htmlBlock"}function Xke(r){return r.type==="heading"}function p0(r){return r.type==="list"}function Jke(r){return r.type==="table"}function ga(r){return r.type==="refDef"}function ET(r){return r.type==="customBlock"}function Qke(r){return r.type==="customInline"}function vt(r,e){var t=lt("text",e);return t.literal=r,t}var DT="[A-Za-z][A-Za-z0-9-]*",Zke="[a-zA-Z_:][a-zA-Z0-9:._-]*",exe="[^\"'=<>`\\x00-\\x20]+",txe="'[^']*'",rxe='"[^"]*"',nxe="(?:"+exe+"|"+txe+"|"+rxe+")",ixe="(?:\\s*=\\s*"+nxe+")",axe="(?:\\s+"+Zke+ixe+"?)",AT="<"+DT+axe+"*\\s*/?>",PT="</"+DT+"\\s*[>]",oxe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",sxe="[<][?].*?[?][>]",lxe="<![A-Z]+\\s+[^>]*>",uxe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",cxe="(?:"+AT+"|"+PT+"|"+oxe+"|"+sxe+"|"+lxe+"|"+uxe+")",fxe=new RegExp("^"+cxe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var ap;if(String.fromCodePoint)ap=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var dxe=String.fromCharCode,hxe=Math.floor;ap=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,a,o=-1,s=r.length;if(!s)return"";for(var l="";++o<s;){var u=Number(r[o]);if(!isFinite(u)||u<0||u>1114111||hxe(u)!==u)return String.fromCharCode(65533);u<=65535?n.push(u):(u-=65536,i=(u>>10)+55296,a=u%1024+56320,n.push(i,a)),(o+1===s||n.length>t)&&(l+=dxe.apply(void 0,n),n.length=0)}return l}}var Wf=ap,pxe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",vxe="[^<\\s]*[^<?!.,:*_?~\\s]",mxe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function gxe(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var a=i[n];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return r.substring(0,r.length-o)}}return r}function yxe(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function bxe(r){for(var e=new RegExp(mxe,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function wxe(r){for(var e=new RegExp("(www|https?://)."+pxe+vxe,"g"),t=[],n;n=e.exec(r);){var i=yxe(gxe(n[0])),a=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return t}function kxe(r){return tp(tp([],wxe(r)),bxe(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function xxe(r,e){typeof e=="boolean"&&(e=kxe);for(var t,n=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=a.sourcepos[0],c=u[0],f=u[1],d=function(C,H){return[[c,f+C],[c,f+H]]},h=[],p=0,v=s;p<v.length;p++){var m=v[p],g=m.range,b=m.url,k=m.text;g[0]>l&&h.push(vt(o.substring(l,g[0]),d(l,g[0]-1)));var T=lt("link",d.apply(void 0,g));T.appendChild(vt(k,d.apply(void 0,g))),T.destination=b,T.extendedAutolink=!0,h.push(T),l=g[1]+1}l<o.length&&h.push(vt(o.substring(l),d(l,o.length-1)));for(var x=0,w=h;x<w.length;x++){var _=w[x];a.insertBefore(_)}a.unlink()}};t=r.next();)n()}function hc(r){return r[r.length-1]}function v0(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Is(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function Txe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=At({},r);return e.forEach(function(i){delete n[i]}),n}function ya(r){return!Object.keys(r).length}function _xe(r){Object.keys(r).forEach(function(e){delete r[e]})}var op=10,jf=42,$s=95,Cxe=96,m0=91,Sxe=93,Bs=126,g0=60,Oxe=33,y0=92,Mxe=38,b0=40,Yf=41,Exe=58,Si=39,Oi=34,Mi=36,Gf="\\\\"+$v,w0=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Dxe=new RegExp('^(?:"('+Gf+'|[^"\\x00])*"|'+("'("+Gf+"|[^'\\x00])*'")+"|"+("\\(("+Gf+"|[^()\\x00])*\\))")),Axe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,k0=new RegExp("^"+$v),Pxe=new RegExp("^"+OT,"i"),Nxe=/`+/,Rxe=/^`+/,Lxe=/\.\.\./g,Ixe=/--+/g,$xe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Bxe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Hxe=/^ *(?:\n *)?/,Kf=/^[ \t\n\x0b\x0c\x0d]/,x0=/^\s/,Fxe=/ *$/,zxe=/^ */,T0=/^ *(?:\n|$)/,Vxe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,qxe=/^[^\n`\[\]\\!<&*_'"~$]+/m,Uxe=function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof t=="number"?[a,[i,t+n]]:a},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(Hxe),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(Rxe);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(Nxe))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(t,this.pos),l=o.split(`
`);if(l.length>1){var u=hc(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var c=lt("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(vt(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===op?(this.pos+=1,n=lt("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):k0.test(t.charAt(this.pos))?(e.appendChild(vt(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(vt("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,a=this.pos+1;return(t=this.match($xe))?(n=t.slice(1,t.length-1),i=lt("link",this.sourcepos(a,this.pos)),i.destination=Ls("mailto:"+n),i.title="",i.appendChild(vt(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(Bxe))?(n=t.slice(1,t.length-1),i=lt("link",this.sourcepos(a,this.pos)),i.destination=Ls(n),i.title="",i.appendChild(vt(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(fxe);if(n===null)return!1;var i=lt("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===Si||e===Oi)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===Bs||e===Mi))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=Wf(a);var s=x0.test(o),l=w0.test(o),u=x0.test(i),c=w0.test(i),f=!s&&(!l||u||c),d=!u&&(!c||s||l),h,p;return e===$s?(h=f&&(!d||c),p=d&&(!f||l)):e===Si||e===Oi?(h=f&&!d,p=d):e===Mi?(h=!s,p=!u):(h=f,p=d),this.pos=n,{numdelims:t,canOpen:h,canClose:p}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===Si?o="\u2019":e===Oi?o="\u201C":o=this.subject.slice(a-1,this.pos);var s=vt(o,this.sourcepos(a,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==Si&&e!==Oi)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,a,o,s,l,u=!1,c=(t={},t[$s]=[e,e,e],t[jf]=[e,e,e],t[Si]=[e],t[Oi]=[e],t[Bs]=[e],t[Mi]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var f=i.cc,d=f===$s||f===jf;if(!i.canClose)i=i.next;else{for(n=i.previous,l=!1;n!==null&&n!==e&&n!==c[f][d?i.origdelims%3:0];){if(u=d&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(a=i,d||f===Bs||f===Mi){if(!l)i=i.next;else if(n){var h=i.numdelims>=2&&n.numdelims>=2?2:1,p=d?0:1;o=n.node,s=i.node;var v=d?h===1?"emph":"strong":"strike";f===Mi&&(v="customInline");var m=lt(v),g=o.sourcepos[1],b=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-h+1],[b[0],b[1]+h-1]],o.sourcepos[1][1]-=h,s.sourcepos[0][1]+=h,o.literal=o.literal.slice(h),s.literal=s.literal.slice(h),n.numdelims-=h,i.numdelims-=h;for(var k=o.next,T=void 0;k&&k!==s;)T=k.next,k.unlink(),m.appendChild(k),k=T;if(f===Mi){var x=m.firstChild,w=x.literal||"",_=w.split(/\s/)[0];m.info=_,w.length<=_.length?x.unlink():(x.sourcepos[0][1]+=_.length,x.literal=w.replace(_+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,i),n.numdelims<=p&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=p){i.numdelims===0&&s.unlink();var C=i.next;this.removeDelimiter(i),i=C}}}else f===Si?(i.node.literal="\u2019",l&&(n.node.literal="\u2018"),i=i.next):f===Oi&&(i.node.literal="\u201D",l&&(n.node.literal="\u201C"),i=i.next);l||(c[f][d?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(Dxe);return e===null?null:Wo(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(Axe);if(e===null){if(this.peek()===g0)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===y0&&k0.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===b0)this.pos+=1,n+=1;else if(i===Yf){if(n<1)break;this.pos+=1,n-=1}else{if(Kf.exec(Wf(i))!==null)break;this.pos+=1}return this.pos===t&&i!==Yf||n!==0?null:(e=this.subject.substr(t,this.pos-t),Ls(Wo(e)))}return Ls(Wo(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(Vxe);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=vt("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===m0){this.pos+=1;var n=vt("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=vt("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(vt("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(vt("]",this.sourcepos(a,a))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===b0&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(Kf.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Yf?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var c=this.pos,f=this.parseLinkLabel();if(f>2?u=this.subject.slice(c,c+f):o.bracketAfter||(u=this.subject.slice(o.index,a)),f===0&&(this.pos=l),u){u=v0(u);var d=this.refMap[u];d&&(t=d.destination,n=d.title,i=!0)}}if(i){var h=lt(s?"image":"link");h.destination=t,h.title=n||"",h.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var p=o.node.next,v=void 0;p;)v=p.next,p.unlink(),h.appendChild(p),p=v;if(e.appendChild(h),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=a,e.appendChild(vt("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(Pxe))?(e.appendChild(vt(Rv.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(qxe)){if(this.options.smart){var i=t.replace(Lxe,"\u2026").replace(Ixe,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),np("\u2014",l)+np("\u2013",s)});e.appendChild(vt(i,this.sourcepos(n,this.pos)))}else{var a=vt(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(Fxe,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(lt(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(lt("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(zxe),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===Exe)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(T0)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(T0)!==null)),!u)return this.pos=i,0;var c=v0(o);if(c==="")return this.pos=i,0;var f=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=f[1][0]+1;var d=lt("refDef",f);return d.title=n,d.dest=s,d.label=c,e.insertBefore(d),t[c]?this.refDefCandidateMap[d.id]=d:t[c]=up(d),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<t.length;o+=1){var s=t[o];if(Kf.test(s))break;if(/\:/.test(s)&&i===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;a={line:l,ch:t[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){a={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case op:n=this.parseNewline(e);break;case y0:n=this.parseBackslash(e);break;case Cxe:n=this.parseBackticks(e);break;case jf:case $s:case Bs:case Mi:n=this.handleDelim(i,e);break;case Si:case Oi:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case m0:n=this.parseOpenBracket(e);break;case Oxe:n=this.parseBang(e);break;case Sxe:n=this.parseCloseBracket(e);break;case g0:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case Mxe:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(vt(Wf(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],Xke(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&xxe(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var s=a.node,l=a.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},r}(),Wxe=/^\[([ \txX])\][ \t]+/;function jxe(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(Wxe);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var Yxe={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},Gxe={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},Kxe={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},Xxe={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},Jxe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Qxe={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},Zxe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},pc=4,NT=9,RT=62,eTe=60,LT=32,IT=91,$T=/[^ \t\f\v\r\n]/,tTe=/^(?:`{3,}|~{3,})(?= *$)/;function _0(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function Cr(r,e){return e<r.length?r.charCodeAt(e):-1}function BT(r){return!$T.test(r)}function Ka(r){return r===LT||r===NT}var rTe=/^\$\$$/,nTe={continue:function(r,e){var t=r.currentLine,n=t.match(rTe);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&Ka(Cr(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),a=t.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=Wo(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},HT={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},iTe={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},aTe={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(_0(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(_0(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},oTe={continue:function(r){var e=r.currentLine;if(!r.indented&&Cr(e,r.nextNonspace)===RT)r.advanceNextNonspace(),r.advanceOffset(1,!1),Ka(Cr(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},sTe={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:jxe,canContain:function(r){return r!=="item"},acceptsLines:!1},lTe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},uTe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},cTe={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(tTe);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.fenceOffset;a>0&&Ka(Cr(t,r.offset));)r.advanceOffset(1,!0),a--}else if(n>=pc)r.advanceOffset(pc,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),s=a.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=Wo(s[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},fTe={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},dTe={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;Cr(e.stringContent,0)===IT&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&BT(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},hTe=HT,pTe=HT,ba={document:iTe,list:aTe,blockQuote:oTe,item:sTe,heading:lTe,thematicBreak:uTe,codeBlock:cTe,htmlBlock:fTe,paragraph:dTe,table:Yxe,tableBody:Gxe,tableHead:Kxe,tableRow:Qxe,tableCell:Zxe,tableDelimRow:Xxe,tableDelimCell:Jxe,refDef:hTe,customBlock:nTe,frontMatter:pTe};function sp(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var a=r.substring(e,i);e===0&&h0(a)?t=i+1:n.push(a),e=i+1}if(e<r.length){var a=r.substring(e,r.length);h0(a)||n.push(a)}return[t,n]}function lp(r,e,t,n){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,f=void 0;if(u===s.length)u=0,c=0,f="";else{var d=s.match(/[ \t]+$/);c=d?d[0].length:0,f=s.slice(u,s.length-c)}var h=n+u,p=lt(r,[[t,n],[t,n+s.length-1]]);p.stringContent=f.replace(/\\\|/g,"|"),p.startIdx=i.length,p.endIdx=i.length,p.lineOffsets=[h-1],p.paddingLeft=u,p.paddingRight=c,i.push(p),n+=s.length+1}return i}function vTe(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var mTe=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,a=t.slice(i,n),o=r.currentLine.slice(r.nextNonspace),s=sp(a),l=s[0],u=s[1],c=sp(o),f=c[0],d=c[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!d.length||d.some(function(C){return!h.test(C)})||d.length===1&&o.indexOf("|")!==0)return 0;var p=e.lineOffsets,v=r.lineNumber-1,m=hc(p)+1,g=lt("table",[[v,m],[r.lineNumber,r.offset]]);if(g.columns=d.map(function(){return{align:null}}),e.insertAfter(g),p.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var b=t.lastIndexOf(`
`,i-2)+1,k=i-b-1;r.lastLineLength=p[p.length-2]+k,r.finalize(e,v-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var T=lt("tableHead",[[v,m],[r.lineNumber,r.offset]]);g.appendChild(T);var x=lt("tableRow",[[v,m],[v,m+a.length-1]]),w=lt("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);T.appendChild(x),T.appendChild(w),lp("tableCell",u,v,m+l).forEach(function(C){x.appendChild(C)});var _=lp("tableDelimCell",d,r.lineNumber,r.nextNonspace+1+f);return _.forEach(function(C){w.appendChild(C)}),g.columns=_.map(vTe),r.tip=g,2}return 0},gTe=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=lt("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var a=n.parent,o=r.currentLine.slice(r.nextNonspace),s=sp(o),l=s[0],u=s[1];return lp("tableCell",u,r.lineNumber,r.nextNonspace+1+l).forEach(function(c,f){f>=a.columns.length&&(c.ignored=!0),i.appendChild(c)}),2},yTe=/^(\$\$)(\s*[a-zA-Z])+/,bTe=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,wTe=function(r){var e;if(!r.indented&&!bTe.test(r.currentLine)&&(e=r.currentLine.match(yTe))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},kTe=/^`{3,}(?!.*`)|^~{3,}/,xTe=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+AT+"|"+PT+")\\s*$","i")],TTe=/^(?:=+|-+)[ \t]*$/,_Te=/^#{1,6}(?:[ \t]+|$)/,CTe=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,FT=/^[*+-]/,zT=/^(\d{1,9})([.)])/;function STe(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(FT))a.type="bullet",a.bulletChar=n[0][0];else if((n=t.match(zT))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=Cr(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===NT||i===LT)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match($T))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var o=r.column,s=r.offset;do r.advanceOffset(1,!0),i=Cr(r.currentLine,r.offset);while(r.column-o<5&&Ka(i));var l=Cr(r.currentLine,r.offset)===-1,u=r.column-o;return u>=5||u<1||l?(a.padding=n[0].length+1,r.column=o,r.offset=s,Ka(Cr(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):a.padding=n[0].length+u,a}function OTe(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function VT(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var MTe=function(r){return!r.indented&&Cr(r.currentLine,r.nextNonspace)===RT?(r.advanceNextNonspace(),r.advanceOffset(1,!1),Ka(Cr(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},ETe=function(r,e){var t;if(!r.indented&&!VT(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(_Te))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},DTe=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(kTe))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},ATe=function(r,e){if(!r.indented&&Cr(r.currentLine,r.nextNonspace)===eTe){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(xTe[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}r.closeUnmatchedBlocks();var s=r.addChild("htmlBlock",r.offset);return s.htmlBlockType=i,2}}}return 0},PTe=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!VT(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(TTe))){r.closeUnmatchedBlocks();for(var n=void 0;Cr(e.stringContent,0)===IT&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=lt("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},NTe=function(r){return!r.indented&&CTe.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},RTe=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=STe(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!OTe(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},LTe=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(pc,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},Xf=[MTe,ETe,DTe,ATe,PTe,NTe,RTe,LTe,mTe,gTe,wTe],qT=/^(-{3}|\+{3}|;{3})$/,ITe=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&qT.test(t)){r.closeUnmatchedBlocks();var a=r.addChild("frontMatter",r.nextNonspace);return a.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},$Te={continue:function(r,e){var t=r.currentLine,n=t.match(qT);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},BTe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],HTe=/^[#`~*+_=<>0-9-;$]/,FTe=/\r\n|\n|\r/;function Jf(){return lt("document",[[1,1],[0,0]])}var zTe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},VTe=function(){function r(e){this.options=At(At({},zTe),e),this.doc=Jf(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(ba.frontMatter=$Te,Xf.unshift(ITe)),this.inlineParser=new Uxe(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=pc},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=np(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!ba[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=lt(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],ba[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,o=t.entering,s=a.type;n&&n[s]&&n[s](a,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"\uFFFD")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),ba[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&ba[t.type].acceptsLines,o=Xf.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!HTe.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=Xf[s](this,t);if(l===1){t=this.tip;break}else if(l===2){t=this.tip,a=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var u=t.type,c=this.blank&&!(u==="blockQuote"||MT(t)&&t.isFenced||u==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),f=t;f;)f.lastLineBlank=c,f=f.parent;ba[u].acceptsLines?(this.addLine(),Kke(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&BTe[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=Jf(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(FTe),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===op&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=Jf(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){_xe(e)})},r}();function C0(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function qTe(r,e){var t=r[0],n=r[1];return C0(n,e)===1?1:C0(t,e)===-1?-1:0}function UTe(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];t[o]&&(ip(t[o].id),t[o]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function WTe(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function S0(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function jTe(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function YTe(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function UT(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function Hs(r,e){for(var t=r.firstChild;t;){var n=UT(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function GTe(r){for(;r.lastChild;)r=r.lastChild;return r}function KTe(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function XTe(r,e){for(var t=r.firstChild,n=null;t;){var i=UT(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?KTe(GTe(n)):null}function JTe(r,e){for(var t=r,n=null;t;){var i=qTe(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function WT(r){return Ike(r)||null}function Qf(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function QTe(r){var e=WT(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var O0=/\r\n|\n|\r/;function ZTe(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return FT.test(t)||zT.test(t)}function e_e(r){return!BT(r)&&r.indexOf("|")!==-1}function up(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var jT=function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new VTe(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(O0),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,a=e[0],o=e[1],s=t[0],l=t[1],u=n.split(O0),c=u.length,f=this.lineTexts[a-1],d=this.lineTexts[s-1];u[0]=f.slice(0,o-1)+u[0],u[c-1]=u[c-1]+d.slice(l-1);var h=s-a+1;return(i=this.lineTexts).splice.apply(i,tp([a-1,h],u)),c-h},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(S0(e,n),UTe(e,t),[e.id,t.id].forEach(function(i){return ip(i)}),e.unlink()):t?(S0(t,n),ip(t.id),t.unlink()):jTe(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=Hs(this.root,e[0]),i=Hs(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(p0(e.prev)&&ZTe(this.lineTexts[n-1])||Jke(e.prev)&&e_e(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),s=t?t.next:this.root.firstChild,l=o.lastChild,u=l&&MT(l)&&l.open,c=l&&ET(l)&&l.open,f=l&&p0(l);(u||c)&&s||f&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,d)),e||(e=t),t=s,i=d,s=s.next}this.parser.partialParseFinish();var h=WTe(o);return{newNodes:h,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&ga(e)||t&&ga(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!ya(this.refMap)){var i=function(a){if(ga(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&Qf(i,e.parent,t),t&&Qf(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!ya(this.refMap)){var n=function(i){if(ga(i)){var a=i.label,o=t.refMap[a];(!o||o.unlinked)&&(t.refMap[a]=up(i))}};e.forEach(function(i){Qf(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;ya(this.refDefCandidateMap)||Is(this.refDefCandidateMap,function(t,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=up(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,a){if(this.referenceDefinition&&!ya(this.refMap)){var o=Hs(this.root,e-1),s=Hs(this.root,t+1);o&&ga(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),s&&ga(s)&&s!==n&&s!==i&&(i=s,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),a=i[0],o=i[1],s=a?Math.min(a.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,a,o,n)),c=u.newNodes,f=u.extStartNode,d=u.extEndNode,h=this.getRemovedNodeRange(f,d),p=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(f,d),this.replaceRangeNodes(f,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(f,d,c),{nodes:c,removedNodeRange:h,nextNode:p}},r.prototype.parseRefLink=function(){var e=this,t=[];return ya(this.refMap)||Is(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],Is(e.refLinkCandidateMap,function(a,o){var s=o.node,l=o.refLabel;l===n&&t.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){ya(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Is(e,function(t){QTe(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),a=this.parse(e,t,i),o=Txe(a,"nextNode");YTe(a.nextNode,i),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=JTe(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return XTe(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return WT(e)},r.prototype.removeAllNode=function(){$ke()},r}(),t_e=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],M0=new RegExp("<(/?(?:"+t_e.join("|")+")[^>]*>)","ig");function E0(r){return M0.test(r)?r.replace(M0,function(e,t){return"&lt;"+t}):r}var D0={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",s={};return o==="ol"&&a!==null&&a!==1&&(s.start=a.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?E0(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?E0(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+xa(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:At({href:xa(a)},i&&{title:xa(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:At({src:xa(o),alt:t(r)},a&&{title:xa(a)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),s=t[o],l=e.entering;if(s)try{return s(r,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},A0={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,a=n.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:At(At({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,a=r.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[r.startIdx],s=o!=null&&o.align?{align:o.align}:null;return t?At({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},r_e={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function n_e(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Hv=function(){function r(e){this.buffer=[],this.options=At(At({},r_e),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=At({},D0);if(this.options.gfm&&(e=At(At({},e),A0)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=At(At({},D0),A0);n.forEach(function(a){var o=e[a],s=t[a],l=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[l]=function(u,c,f){return c.origin=function(){return o(u,c,f)},s(u,c)}:e[l]=s})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type];if(!u)return"continue";var c=!1,f={entering:l,leaf:!Bv(s),options:o.options,getChildrenText:n_e,skipChildren:function(){c=!0}},d=ET(s)||Qke(s)?u(s,f,o.convertors):u(s,f);if(d){var h=Array.isArray(d)?d:[d];h.forEach(function(p,v){p.type==="openTag"&&t.options.nodeId&&v===0&&(p.attributes||(p.attributes={}),p.attributes["data-nodeid"]=String(s.id)),t.renderHTMLNode(p)}),c&&(n.resumeAt(s,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var s=a[o];t.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&hc(hc(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(xa(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function i_e(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var a_e=Object.hasOwnProperty,P0=Object.setPrototypeOf,o_e=Object.isFrozen,s_e=Object.getPrototypeOf,l_e=Object.getOwnPropertyDescriptor,or=Object.freeze,Fn=Object.seal,u_e=Object.create,YT=typeof Reflect<"u"&&Reflect,vc=YT.apply,cp=YT.construct;vc||(vc=function(e,t,n){return e.apply(t,n)});or||(or=function(e){return e});Fn||(Fn=function(e){return e});cp||(cp=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(i_e(t))))});var c_e=Yr(Array.prototype.forEach),N0=Yr(Array.prototype.pop),go=Yr(Array.prototype.push),zl=Yr(String.prototype.toLowerCase),R0=Yr(String.prototype.match),jn=Yr(String.prototype.replace),f_e=Yr(String.prototype.indexOf),d_e=Yr(String.prototype.trim),Tn=Yr(RegExp.prototype.test),L0=h_e(TypeError);function Yr(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return vc(r,e,n)}}function h_e(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return cp(r,t)}}function xe(r,e){P0&&P0(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=zl(n);i!==n&&(o_e(e)||(e[t]=i),n=i)}r[n]=!0}return r}function Ei(r){var e=u_e(null),t=void 0;for(t in r)vc(a_e,r,[t])&&(e[t]=r[t]);return e}function Fs(r,e){for(;r!==null;){var t=l_e(r,e);if(t){if(t.get)return Yr(t.get);if(typeof t.value=="function")return Yr(t.value)}r=s_e(r)}function n(i){return console.warn("fallback value for",i),null}return n}var I0=or(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zf=or(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ed=or(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),p_e=or(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),td=or(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),v_e=or(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$0=or(["#text"]),B0=or(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),rd=or(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H0=or(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zs=or(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),m_e=Fn(/\{\{[\s\S]*|[\s\S]*\}\}/gm),g_e=Fn(/<%[\s\S]*|[\s\S]*%>/gm),y_e=Fn(/^data-[\-\w.\u00B7-\uFFFF]/),b_e=Fn(/^aria-[\-\w]+$/),w_e=Fn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),k_e=Fn(/^(?:\w+script|data):/i),x_e=Fn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function Zr(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var T_e=function(){return typeof window>"u"?null:window},__e=function(e,t){if((typeof e>"u"?"undefined":Ao(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function GT(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T_e(),e=function(E){return GT(E)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,a=r.HTMLTemplateElement,o=r.Node,s=r.Element,l=r.NodeFilter,u=r.NamedNodeMap,c=u===void 0?r.NamedNodeMap||r.MozNamedAttrMap:u,f=r.Text,d=r.Comment,h=r.DOMParser,p=r.trustedTypes,v=s.prototype,m=Fs(v,"cloneNode"),g=Fs(v,"nextSibling"),b=Fs(v,"childNodes"),k=Fs(v,"parentNode");if(typeof a=="function"){var T=n.createElement("template");T.content&&T.content.ownerDocument&&(n=T.content.ownerDocument)}var x=__e(p,t),w=x&&Kr?x.createHTML(""):"",_=n,C=_.implementation,H=_.createNodeIterator,V=_.createDocumentFragment,N=_.getElementsByTagName,U=t.importNode,R={};try{R=Ei(n).documentMode?n.documentMode:{}}catch{}var S={};e.isSupported=typeof k=="function"&&C&&typeof C.createHTMLDocument<"u"&&R!==9;var L=m_e,$=g_e,y=y_e,A=b_e,B=k_e,K=x_e,Q=w_e,D=null,P=xe({},[].concat(Zr(I0),Zr(Zf),Zr(ed),Zr(td),Zr($0))),q=null,pe=xe({},[].concat(Zr(B0),Zr(rd),Zr(H0),Zr(zs))),ke=null,qe=null,Ee=!0,we=!0,le=!1,ht=!1,me=!1,Ae=!1,We=!1,Ct=!1,sr=!1,Gr=!0,Kr=!1,la=!0,bi=!0,Xr=!1,Or={},Jr=null,ua=xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ca=null,wi=xe({},["audio","video","img","source","image","track"]),O=null,W=xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oe="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",Be="http://www.w3.org/1999/xhtml",Gt=Be,Rr=!1,F=void 0,ae=["application/xhtml+xml","text/html"],St="text/html",st=void 0,Lr=null,de=n.createElement("form"),Qr=function(E){Lr&&Lr===E||((!E||(typeof E>"u"?"undefined":Ao(E))!=="object")&&(E={}),E=Ei(E),D="ALLOWED_TAGS"in E?xe({},E.ALLOWED_TAGS):P,q="ALLOWED_ATTR"in E?xe({},E.ALLOWED_ATTR):pe,O="ADD_URI_SAFE_ATTR"in E?xe(Ei(W),E.ADD_URI_SAFE_ATTR):W,ca="ADD_DATA_URI_TAGS"in E?xe(Ei(wi),E.ADD_DATA_URI_TAGS):wi,Jr="FORBID_CONTENTS"in E?xe({},E.FORBID_CONTENTS):ua,ke="FORBID_TAGS"in E?xe({},E.FORBID_TAGS):{},qe="FORBID_ATTR"in E?xe({},E.FORBID_ATTR):{},Or="USE_PROFILES"in E?E.USE_PROFILES:!1,Ee=E.ALLOW_ARIA_ATTR!==!1,we=E.ALLOW_DATA_ATTR!==!1,le=E.ALLOW_UNKNOWN_PROTOCOLS||!1,ht=E.SAFE_FOR_TEMPLATES||!1,me=E.WHOLE_DOCUMENT||!1,Ct=E.RETURN_DOM||!1,sr=E.RETURN_DOM_FRAGMENT||!1,Gr=E.RETURN_DOM_IMPORT!==!1,Kr=E.RETURN_TRUSTED_TYPE||!1,We=E.FORCE_BODY||!1,la=E.SANITIZE_DOM!==!1,bi=E.KEEP_CONTENT!==!1,Xr=E.IN_PLACE||!1,Q=E.ALLOWED_URI_REGEXP||Q,Gt=E.NAMESPACE||Be,F=ae.indexOf(E.PARSER_MEDIA_TYPE)===-1?F=St:F=E.PARSER_MEDIA_TYPE,st=F==="application/xhtml+xml"?function(J){return J}:zl,ht&&(we=!1),sr&&(Ct=!0),Or&&(D=xe({},[].concat(Zr($0))),q=[],Or.html===!0&&(xe(D,I0),xe(q,B0)),Or.svg===!0&&(xe(D,Zf),xe(q,rd),xe(q,zs)),Or.svgFilters===!0&&(xe(D,ed),xe(q,rd),xe(q,zs)),Or.mathMl===!0&&(xe(D,td),xe(q,H0),xe(q,zs))),E.ADD_TAGS&&(D===P&&(D=Ei(D)),xe(D,E.ADD_TAGS)),E.ADD_ATTR&&(q===pe&&(q=Ei(q)),xe(q,E.ADD_ATTR)),E.ADD_URI_SAFE_ATTR&&xe(O,E.ADD_URI_SAFE_ATTR),E.FORBID_CONTENTS&&(Jr===ua&&(Jr=Ei(Jr)),xe(Jr,E.FORBID_CONTENTS)),bi&&(D["#text"]=!0),me&&xe(D,["html","head","body"]),D.table&&(xe(D,["tbody"]),delete ke.tbody),or&&or(E),Lr=E)},Se=xe({},["mi","mo","mn","ms","mtext"]),ds=xe({},["foreignobject","desc","title","annotation-xml"]),qn=xe({},Zf);xe(qn,ed),xe(qn,p_e);var Kc=xe({},td);xe(Kc,v_e);var R_=function(E){var J=k(E);(!J||!J.tagName)&&(J={namespaceURI:Be,tagName:"template"});var se=zl(E.tagName),Ue=zl(J.tagName);if(E.namespaceURI===he)return J.namespaceURI===Be?se==="svg":J.namespaceURI===oe?se==="svg"&&(Ue==="annotation-xml"||Se[Ue]):Boolean(qn[se]);if(E.namespaceURI===oe)return J.namespaceURI===Be?se==="math":J.namespaceURI===he?se==="math"&&ds[Ue]:Boolean(Kc[se]);if(E.namespaceURI===Be){if(J.namespaceURI===he&&!ds[Ue]||J.namespaceURI===oe&&!Se[Ue])return!1;var Ft=xe({},["title","style","font","a","script"]);return!Kc[se]&&(Ft[se]||!qn[se])}return!1},bn=function(E){go(e.removed,{element:E});try{E.parentNode.removeChild(E)}catch{try{E.outerHTML=w}catch{E.remove()}}},jv=function(E,J){try{go(e.removed,{attribute:J.getAttributeNode(E),from:J})}catch{go(e.removed,{attribute:null,from:J})}if(J.removeAttribute(E),E==="is"&&!q[E])if(Ct||sr)try{bn(J)}catch{}else try{J.setAttribute(E,"")}catch{}},Yv=function(E){var J=void 0,se=void 0;if(We)E="<remove></remove>"+E;else{var Ue=R0(E,/^[\r\n\t ]+/);se=Ue&&Ue[0]}F==="application/xhtml+xml"&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");var Ft=x?x.createHTML(E):E;if(Gt===Be)try{J=new h().parseFromString(Ft,F)}catch{}if(!J||!J.documentElement){J=C.createDocument(Gt,"template",null);try{J.documentElement.innerHTML=Rr?"":Ft}catch{}}var zt=J.body||J.documentElement;return E&&se&&zt.insertBefore(n.createTextNode(se),zt.childNodes[0]||null),Gt===Be?N.call(J,me?"html":"body")[0]:me?J.documentElement:zt},Gv=function(E){return H.call(E.ownerDocument||E,E,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},L_=function(E){return E instanceof f||E instanceof d?!1:typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof c)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"},io=function(E){return(typeof o>"u"?"undefined":Ao(o))==="object"?E instanceof o:E&&(typeof E>"u"?"undefined":Ao(E))==="object"&&typeof E.nodeType=="number"&&typeof E.nodeName=="string"},wn=function(E,J,se){!S[E]||c_e(S[E],function(Ue){Ue.call(e,J,se,Lr)})},Kv=function(E){var J=void 0;if(wn("beforeSanitizeElements",E,null),L_(E)||R0(E.nodeName,/[\u0080-\uFFFF]/))return bn(E),!0;var se=st(E.nodeName);if(wn("uponSanitizeElement",E,{tagName:se,allowedTags:D}),!io(E.firstElementChild)&&(!io(E.content)||!io(E.content.firstElementChild))&&Tn(/<[/\w]/g,E.innerHTML)&&Tn(/<[/\w]/g,E.textContent)||se==="select"&&Tn(/<template/i,E.innerHTML))return bn(E),!0;if(!D[se]||ke[se]){if(bi&&!Jr[se]){var Ue=k(E)||E.parentNode,Ft=b(E)||E.childNodes;if(Ft&&Ue)for(var zt=Ft.length,Vt=zt-1;Vt>=0;--Vt)Ue.insertBefore(m(Ft[Vt],!0),g(E))}return bn(E),!0}return E instanceof s&&!R_(E)||(se==="noscript"||se==="noembed")&&Tn(/<\/no(script|embed)/i,E.innerHTML)?(bn(E),!0):(ht&&E.nodeType===3&&(J=E.textContent,J=jn(J,L," "),J=jn(J,$," "),E.textContent!==J&&(go(e.removed,{element:E.cloneNode()}),E.textContent=J)),wn("afterSanitizeElements",E,null),!1)},Xv=function(E,J,se){if(la&&(J==="id"||J==="name")&&(se in n||se in de))return!1;if(!(we&&!qe[J]&&Tn(y,J))){if(!(Ee&&Tn(A,J))){if(!q[J]||qe[J])return!1;if(!O[J]){if(!Tn(Q,jn(se,K,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&E!=="script"&&f_e(se,"data:")===0&&ca[E])){if(!(le&&!Tn(B,jn(se,K,"")))){if(se)return!1}}}}}}return!0},Jv=function(E){var J=void 0,se=void 0,Ue=void 0,Ft=void 0;wn("beforeSanitizeAttributes",E,null);var zt=E.attributes;if(!!zt){var Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(Ft=zt.length;Ft--;){J=zt[Ft];var kn=J,ao=kn.name,Qv=kn.namespaceURI;if(se=d_e(J.value),Ue=st(ao),Vt.attrName=Ue,Vt.attrValue=se,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,wn("uponSanitizeAttribute",E,Vt),se=Vt.attrValue,!Vt.forceKeepAttr&&(jv(ao,E),!!Vt.keepAttr)){if(Tn(/\/>/i,se)){jv(ao,E);continue}ht&&(se=jn(se,L," "),se=jn(se,$," "));var $_=st(E.nodeName);if(!!Xv($_,Ue,se))try{Qv?E.setAttributeNS(Qv,ao,se):E.setAttribute(ao,se),N0(e.removed)}catch{}}}wn("afterSanitizeAttributes",E,null)}},I_=function fe(E){var J=void 0,se=Gv(E);for(wn("beforeSanitizeShadowDOM",E,null);J=se.nextNode();)wn("uponSanitizeShadowNode",J,null),!Kv(J)&&(J.content instanceof i&&fe(J.content),Jv(J));wn("afterSanitizeShadowDOM",E,null)};return e.sanitize=function(fe,E){var J=void 0,se=void 0,Ue=void 0,Ft=void 0,zt=void 0;if(Rr=!fe,Rr&&(fe="<!-->"),typeof fe!="string"&&!io(fe)){if(typeof fe.toString!="function")throw L0("toString is not a function");if(fe=fe.toString(),typeof fe!="string")throw L0("dirty is not a string, aborting")}if(!e.isSupported){if(Ao(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof fe=="string")return r.toStaticHTML(fe);if(io(fe))return r.toStaticHTML(fe.outerHTML)}return fe}if(Ae||Qr(E),e.removed=[],typeof fe=="string"&&(Xr=!1),!Xr)if(fe instanceof o)J=Yv("<!---->"),se=J.ownerDocument.importNode(fe,!0),se.nodeType===1&&se.nodeName==="BODY"||se.nodeName==="HTML"?J=se:J.appendChild(se);else{if(!Ct&&!ht&&!me&&fe.indexOf("<")===-1)return x&&Kr?x.createHTML(fe):fe;if(J=Yv(fe),!J)return Ct?null:w}J&&We&&bn(J.firstChild);for(var Vt=Gv(Xr?fe:J);Ue=Vt.nextNode();)Ue.nodeType===3&&Ue===Ft||Kv(Ue)||(Ue.content instanceof i&&I_(Ue.content),Jv(Ue),Ft=Ue);if(Ft=null,Xr)return fe;if(Ct){if(sr)for(zt=V.call(J.ownerDocument);J.firstChild;)zt.appendChild(J.firstChild);else zt=J;return Gr&&(zt=U.call(t,zt,!0)),zt}var kn=me?J.outerHTML:J.innerHTML;return ht&&(kn=jn(kn,L," "),kn=jn(kn,$," ")),x&&Kr?x.createHTML(kn):kn},e.setConfig=function(fe){Qr(fe),Ae=!0},e.clearConfig=function(){Lr=null,Ae=!1},e.isValidAttribute=function(fe,E,J){Lr||Qr({});var se=st(fe),Ue=st(E);return Xv(se,Ue,J)},e.addHook=function(fe,E){typeof E=="function"&&(S[fe]=S[fe]||[],go(S[fe],E))},e.removeHook=function(fe){S[fe]&&N0(S[fe])},e.removeHooks=function(fe){S[fe]&&(S[fe]=[])},e.removeAllHooks=function(){S={}},e}var C_e=GT(),S_e=["iframe","embed"],KT=[];function XT(r){Bt(S_e,r)&&KT.push(r.toLowerCase())}function aa(r,e){return C_e.sanitize(r,I({ADD_TAGS:KT,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function JT(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function fp(r){r=r.match(ja)[0];var e=r.match(new RegExp(jx,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(t[a]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function dp(r){return yn(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function F0(r,e,t,n){var i=n.getToDOMNode(e)(r),a=t(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var s=dp(i);return{dom:i,htmlAttrs:s}}var O_e={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:dp(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=F0(n,r,e,t),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",hr([r,o],yn(a.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:dp(n)}}}],toDOM:function(n){var i=F0(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function M_e(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";XT(a),n[o][a]=O_e[i](a,e,t)})}),n}var E_e=/^\s*<\s*\//,D_e={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(t>3&&(o["data-backticks"]=t),i.length>0&&i[0].length>0){var s=i[0];a.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,a=r.info;if(a.indexOf("widget")!==-1&&n){i();var o=Vx(r),s=zx(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return t()}};function Fv(r,e){var t=I({},D_e);return r&&(t.link=function(n,i){var a=i.entering,o=i.origin,s=o();return a&&(s.attributes=I(I({},s.attributes),r)),s}),e&&Object.keys(e).forEach(function(n){var i=t[n],a=e[n];i&&Pr(a)?t[n]=function(o,s){var l=I({},s);return l.origin=function(){return i(o,s)},a(o,l)}:Bt(["htmlBlock","htmlInline"],n)&&!Pr(a)?t[n]=function(o,s){var l=o.literal.match(ja);if(l){var u=l[0],c=l[1],f=l[3],d=(c||f).toLowerCase(),h=a[d],p=JT(o,d);if(h){var v=I({},o);return v.attrs=fp(u),v.childrenHTML=p,v.type=d,s.entering=!E_e.test(o.literal),h(v,s)}}return s.origin()}:t[n]=a}),t}var A_e=["list","item","blockQuote"],P_e=["UL","OL","BLOCKQUOTE"];function N_e(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function z0(r,e,t){var n=cs(e)-1,i=$c(e)-1,a=t[n].getBoundingClientRect(),o=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:o<=0?t[n].clientHeight:o+R_e(r,t,Math.min(i+1,r.childCount-1)),rect:a}}function R_e(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&N_e(r,t);)i+=e[t].clientHeight,t+=1;return i}function L_e(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function mc(r,e){for(var t=0;r&&r!==e&&(Bt(P_e,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function I_e(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var a=QT(i,r,mc(t,e));n=t,t=a}var o=t||n;return o===e?null:o}function QT(r,e,t){return r&&e>t+r.offsetTop?QT(r.nextElementSibling,e,t)||r:null}function $_e(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function nd(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||CF(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return B_e({mdNode:e,el:t})}function B_e(r){for(var e=r.mdNode,t=r.el;(Bt(A_e,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var Vr={};function H_e(r,e){Vr[r]=Vr[r]||{},Vr[r].height=e}function F_e(r,e){Vr[r]=Vr[r]||{},Vr[r].offsetTop=e}function z_e(r){return Vr[r]&&Vr[r].height}function V_e(r){return Vr[r]&&Vr[r].offsetTop}function hp(r){r&&(delete Vr[Number(r.getAttribute("data-nodeid"))],yn(r.children).forEach(function(e){hp(e)}))}function q_e(r,e,t){var n=z_e(t),i=V_e(t),a=n||r.clientHeight,o=i||mc(r,e)||r.offsetTop;return n||H_e(t,a),i||F_e(t,o),{nodeHeight:a,offsetTop:o}}var id=ie("md-preview-highlight");function U_e(r,e){for(var t=r.firstChild;t&&t.next&&!(Bc(t.next)>e+1);)t=t.next;return t}var ZT=function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=ie("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,o=t.sanitizer,s=t.highlight,l=s===void 0?!1:s;this.renderer=new Hv({gfm:!0,nodeId:!0,convertors:Fv(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=Jx('<div class="'+ie("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){Cv(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),pT(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",I_e(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Hr(e,id)}},r.prototype.updateCursorNode=function(e,t){e&&(e=Wa(e,function(o){return!MF(o)}),e.type==="tableRow"?e=U_e(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Hr(i,id),a&&hn(a,id),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(p){return t.renderer.render(p)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var s=i.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),f=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);for(var d=c;d&&d!==f;){var h=d.nextElementSibling;ra(d),hp(d),d=h}d!=null&&d.parentNode&&(ra(d),hp(d))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){hT(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return Mv(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){gn(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){gn(this.el,{minHeight:e+"px"})},r}();function Ln(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function Xa(r){return!!Ln(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function gc(r){return!!Ln(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Ja(r){return Ln(r,function(e){var t=e.type;return t.name==="listItem"})}function Yc(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return I({},t&&{rawHTML:t})}}}function e_(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function t_(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(t[n]=Bt(["rawHTML","extended"],n)?a:Number(a)),t},{})}}}function _t(){return{htmlAttrs:{default:null},classNames:{default:null}}}function pt(r){var e=r.htmlAttrs,t=r.classNames;return I(I({},e),{class:t?t.join(" "):null})}function W_e(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}return null}function j_e(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<i;u+=1)l=l.matchType(t.child(u).type);if(l&&l.validEnd)return o}return null}function Y_e(r,e,t,n){var i=W_e(r,t),a=j_e(e,t);if(i&&a){var o=i.map(function(l){return{type:l}}),s=a.map(function(l){return{type:l,attrs:n}});return o.concat({type:t}).concat(s)}return null}function G_e(r,e,t,n,i){for(var a=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=j.empty,f=t.length-1;f>=0;f-=1)c=j.from(t[f].type.create(t[f].attrs,c));r.step(new Tt(a-(n?2:0),o,a,o,new Z(c,0,0),t.length,!0));for(var d=0,f=0;f<t.length;f+=1)if(t[f].type===i){d=f+1;break}for(var h=t.length-d,p=a+t.length-(n?2:0),f=s,v=l;f<v;f+=1){var m=f===s;!m&&Aa(r.doc,p,h)&&(r.split(p,h),p+=h*2),p+=u.child(f).nodeSize}return r}function r_(r,e,t,n){var i=e.$from,a=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&i.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(o-1)){var u=r.doc.resolve(e.start-2);s=new Yu(u,u,o),e.endIndex<e.parent.childCount&&(e=new Yu(i,r.doc.resolve(a.end(o)),o)),l=!0}var c=Y_e(s,e,t,n);return c?G_e(r,e,c,l,t):r}function n_(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return Ja(t)}function K_e(r,e){var t=e.$from,n=e.$to,i=Ja(t),a=Ja(n);if(i&&a)for(;a;){var o=a.offset,s=a.node,l={task:!s.attrs.task,checked:!1};if(r.setNodeMarkup(o,null,l),o===i.offset)break;a=n_(r.doc,o)}return r}function X_e(r,e,t){var n=e.$from,i=e.$to,a=Ja(n),o=Ja(i);if(a&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&r.setNodeMarkup(s,null,{task:!1,checked:!1});var c=r.doc.resolve(s);if(c.parent.type!==t){var f=c.before(u-1);r.setNodeMarkup(f,t)}if(s===a.offset)break;o=n_(r.doc,s)}return r}function i_(r){return function(e,t){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,s=a.blockRange(o);if(s){var l=Xa(a)?X_e(i,s,r):r_(i,s,r);return t(l),!0}return!1}}function J_e(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,a=t.$from,o=t.$to,s=a.blockRange(o);if(s){var l=Xa(a)?K_e(n,s):r_(n,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function Q_e(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(v){var m=v.childCount,g=v.firstChild;return!!m&&g.type===r});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==r)return!1;var c=u.lastChild&&u.lastChild.type===l.type,f=c?j.from(r.create()):null,d=new Z(j.from(r.create(null,j.from(l.type.create(null,f)))),c?3:1,0),h=s.start,p=s.end;return n.step(new Tt(h-(c?3:1),p,h,p,d,1,!0)),t(n),!0}return!1}}function Z_e(r,e,t){var n=e.$from,i=e.$to,a=e.end,o=e.depth,s=e.parent,l=i.end(o);return a<l&&(r.step(new Tt(a-1,l,a,l,new Z(j.from(t.create(null,s.copy())),1,0),1,!0)),e=new Yu(r.doc.resolve(n.pos),r.doc.resolve(l),o)),r.lift(e,Ec(e)),r}function eCe(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var o=r.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===t.childCount,c=o.node(-1),f=o.index(-1),d=c.canReplace(f+(l?0:1),f+1,s==null?void 0:s.content.append(u?j.empty:j.from(t)));if(s&&d){var h=o.pos,p=h+s.nodeSize;r.step(new Tt(h-(l?1:0),p+(u?1:0),h+1,p-1,new Z((l?j.empty:j.from(t.copy(j.empty))).append(u?j.empty:j.from(t.copy(j.empty))),l?0:1,u?0:1),l?0:1))}return r}function tCe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(c){var f=c.childCount,d=c.firstChild;return!!f&&d.type===r});if(s){var l=a.node(s.depth-1).type===r,u=l?Z_e(n,s,r):eCe(n,s);return t(u),!0}return!1}}function rCe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var s=a.node(-1);if(s.type!==r)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==r||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var l=a.index(-1)>0,u=j.empty,c=a.depth-(l?1:2);c>=a.depth-3;c-=1)u=j.from(a.node(c).copy(u));return u=u.append(j.from(r.createAndFill())),n.replace(l?a.before():a.before(-1),a.after(-3),new Z(u,l?3:2,2)),n.setSelection(Ce.near(n.doc.resolve(a.pos+(l?3:2)))),t(n),!0}var f=o.pos===a.end()?s.contentMatchAt(0).defaultType:null,d=f&&[null,{type:f}];return n.delete(a.pos,o.pos),Aa(n.doc,a.pos,2,d)?(n.split(a.pos,2,d),t(n),!0):!1}}function nCe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Xa(i)?Q_e(n.nodes.listItem)(r,e):!1}}}function iCe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Xa(i)?tCe(n.nodes.listItem)(r,e):!1}}}function zv(){return{indent:nCe(),outdent:iCe()}}var V0=new Map,Et=function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=Ln(e,function(p){var v=p.type;return v.name==="table"});if(t){var n=t.node,i=t.depth,a=t.offset,o=V0.get(n);if((o==null?void 0:o.tableStartPos)===a+1)return o;var s=[],l=e.start(i),u=n.child(0),c=n.child(1),f=pp(u,l),d=pp(c,l+u.nodeSize);u.forEach(function(p){return s.push(p)}),c.forEach(function(p){return s.push(p)});var h=new r(n,s,l,f.concat(d));return V0.set(n,h),h}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,a;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(t),c=u[0],f=u[1];return i=Vb(s,c),s=i[0],c=i[1],a=Vb(l,f),l=a[0],f=a[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:f})},r.prototype.getSpannedOffsets=function(e){return e},r}(),pp=function(r,e){var t=[];return r.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;a[u];)u+=1;a[u]={offset:e+i+s+2,nodeSize:l},a.length+=1}),t.push(a)}),t};function aCe(r,e){return kv(Et.prototype,r),pp=e,Et}function oCe(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,o=t.endColIdx,s=[],l=n;l<=a;l+=1)for(var u=i;u<=o;u+=1){var c=e.getCellInfo(l,u),f=c.offset,d=c.nodeSize;s.push(new qk(r.resolve(f+1),r.resolve(f+d-1)))}return s}function sCe(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),j.from(t)}var Vv=function(r){ee(e,r);function e(t,n){n===void 0&&(n=t);var i=this,a=t.node(0),o=Et.create(t),s=o.getRectOffsets(t,n),l=oCe(a,o,s);return i=r.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=t,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,a=this.endCell.pos,o=t.resolve(n.map(i)),s=t.resolve(n.map(a)),l=Et.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],f=s.end(s.depth-c),d=Math.min(f-4,s.pos);return Ie.create(t,d)}return new e(o,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),o=t.child(1).type.create(),s=Et.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,f=l.endRowIdx,d=l.endColIdx,h=!1,p=u;p<=f;p+=1){for(var v=[],m=c;m<=d;m+=1){var g=s.getCellInfo(p,m).offset,b=t.nodeAt(g-n);b&&(h=b.type.name==="tableHeadCell",s.extendedRowspan(p,m)||s.extendedColspan(p,m)?v.push(b.type.create({extended:!0})):v.push(b.copy(b.content)))}var k=i.copy(j.from(v)),T=h?a:o;T.content=T.content.append(j.from(k))}return new Z(sCe(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Ce);function lCe(r,e,t){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<r;l+=1){var u=t&&t[l],c=o.create(null,u?e.text(u):[]);s.push(a.create(null,c))}return[i.create(null,s)]}function a_(r,e,t,n){for(var i=t.nodes,a=i.tableRow,o=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<r;u+=1){for(var c=[],f=0;f<e;f+=1){var d=n&&n[u*e+f],h=s.create(null,d?t.text(d):[]);c.push(o.create(null,h))}l.push(a.create(null,c))}return l}function Vl(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,a=i.tableHeadCell,o=i.tableBodyCell,s=i.paragraph,l=e===0?a:o,u=[],c=0;c<r;c+=1)u.push(l.create(n,s.create()));return u}function o_(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function s_(r){return Ln(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function tn(r){if(r instanceof Ie){var e=r.$anchor,t=s_(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function l_(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function Sa(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,a=n-e+1,o=i-t+1;return{rowCount:a,columnCount:o}}function uCe(r,e){return I(I({},r.attrs),e)}var Jn=new ss("cellSelection"),cCe=2,fCe=function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=o_(e.target,this.view.dom);if(e.button===cCe){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=Jn.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Jn.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Jn,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),s=s_(o);if(s){var l=o.before(s.depth);return a.resolve(l)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,a=n.tr,o=Jn.getState(this.view.state)===null,s=new Vv(e,t);if(o||!i.eq(s)){var l=a.setSelection(s);o&&l.setMeta(Jn,t.pos),this.view.dispatch(l)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r}(),dCe=ie("cell-selected");function hCe(r){var e=r.selection,t=r.doc;if(e instanceof Vv){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,s=a.$to;n.push(fr.node(o.pos-1,s.pos+1,{class:dCe}))}),ut.create(t,n)}return null}function pCe(){return new mr({key:Jn,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(Jn);if(t)return t===-1?null:t;if(nc(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:hCe,createSelectionBetween:function(r){var e=r.state;return nc(Jn.getState(e))?null:e.selection}},view:function(r){return new fCe(r)}})}var u_=function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return ea(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(t,i,n.keys[a],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r}(),ad="en-US",vCe=function(){function r(){this.code=ad,this.langs=new u_}return r.prototype.setCode=function(e){this.code=e||ad},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var a=n.langs.get(i);n.langs.set(i,vv(a,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(ad));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r}(),be=new vCe,mCe=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function gCe(r,e){return mCe.map(function(t){return t.map(function(n){var i=n.action,a=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:be.get(i),onClick:function(){r.emit("command",a,o)},disabled:e&&!!s,className:l}})}).concat()}function yCe(r){return new mr({props:{handleDOMEvents:{contextmenu:function(e,t){var n=o_(t.target,e.dom);if(n){t.preventDefault();var i=t,a=i.clientX,o=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:a-l+10+"px",top:o-u+30+"px"},menuGroups:gCe(r,c),tableCell:n}),!0}return!1}}}})}function bCe(){return new mr({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,a=r.posAtCoords({left:n,top:i});if(a){var o=r.state,s=o.doc,l=o.tr,u=s.resolve(a.pos),c=Ja(u),f=e.target,d=getComputedStyle(f,":before"),h=e,p=h.offsetX,v=h.offsetY;if(!c||!_v(d,p,v))return!1;e.preventDefault();var m=u.before(c.depth),g=c.node.attrs;return l.setNodeMarkup(m,null,I(I({},g),{checked:!g.checked})),r.dispatch(l),!0}return!1}}}})}var wCe=["image","link","customBlock","frontMatter"],kCe=["strong","strike","emph","code"],c_=["bulletList","orderedList","taskList"];function xCe(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function TCe(r,e){e[r]={active:!0},c_.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function _Ce(r,e,t,n){kCe.forEach(function(i){var a=t.marks[i],o=r.marksAcross(e)||[],s=!!a.isInSet(o);s&&(n[i]={active:!0})})}function CCe(r,e,t){var n=r.$from,i=r.$to,a=r.from,o=r.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(l,u,c){var f=xCe(l,c);Bt(wCe,f)||(Bt(c_,f)?(TCe(f,s),s.indent.disabled=!1,s.outdent.disabled=!1):f==="paragraph"||f==="text"?_Ce(n,i,t,s):s[f]={active:!0})}),s}function SCe(r){return new mr({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,a=t.schema;r.emit("changeToolbarState",{toolbarState:CCe(n,i,a)})}}}})}var OCe=function(){function r(e,t,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new uv(a.innerViewContainer,{state:$i.create({doc:a.node,plugins:[es({"Mod-z":function(){return Uo(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return pv(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:Sx,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),Lx()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=ie("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=ie("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=ie("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(tt(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=kH(this.innerEditorView.state);for(this.canceled=!0;e--;)Uo(this.innerEditorView.state,this.innerEditorView.dispatch),Uo(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Ie.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Pr(this.getPos)){for(var a=this.editorView.state.tr,o=kr.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)a.step(l[u].map(o));a.docChanged&&this.editorView.dispatch(a)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r}(),q0="image-link",MCe=function(){function r(e,t,n,i){var a=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(a.imageLink&&Pr(a.getPos)&&Ux(l,q0)){var f=getComputedStyle(l,":before");if(s.stopPropagation(),_v(f,u,c)){var d=a.view.state.tr,h=a.getPos();d.setSelection(tt(d,h,h+1)),a.view.dispatch(d),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=q0,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=pt(e.attrs);return t.src=i,a&&(t.alt=a),Ov(o,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r}(),ECe="toastui-editor-ww-code-block",DCe="toastui-editor-ww-code-block-language",ACe=function(){function r(e,t,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Pr(a.getPos)){var u=a.view.coordsAtPos(a.getPos()),c=u.top,f=u.right;a.createLanguageEditor({top:c,right:f})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=ECe;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=pt(this.node.attrs);return n&&t.setAttribute("data-language",n),Ov(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,a=document.createElement("span");a.className=DCe;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var s=a.clientWidth;gn(a,{top:n+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&Pr(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,ra(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r}(),PCe=/MsoListParagraph/,f_=/style=(.|\n)*mso-/,d_=/mso-list:(.*)/,NCe=/O:P/,RCe=/^(n|u|l)/,LCe="p.MsoListParagraph";function ICe(r){return f_.test(r)}function $Ce(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(Fc(n)){var i=n,a=i.outerHTML,o=i.textContent,s=f_.test(a),l=d_.test(a);s&&!l&&o?e.push([n,!0]):(NCe.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],f=u[1];f?rz(c):ra(c)}),r.innerHTML.trim()}function BCe(r,e){var t=r.getAttribute("style");if(t){var n=t.match(d_),i=n[1],a=i.trim().split(" "),o=a[1],s=parseInt(o.replace("level",""),10),l=RCe.test(r.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:$Ce(r)}}return null}function HCe(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function FCe(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],a=BCe(t,n);a&&(i&&HCe(a,i),e.push(a))}),e}function h_(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,t.appendChild(o),i.length&&t.appendChild(h_(i))}),t}function zCe(r){var e=FCe(r),t=e.filter(function(n){var i=n.parent;return!i});return h_(t)}function VCe(r){for(;r&&!Fc(r);)r=r.nextSibling;return r?!PCe.test(r.className):!0}function qCe(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=ZF(e,LCe);n.forEach(function(a){var o=VCe(a.nextSibling);if(t.push(a),o){var s=zCe(t),l=a.nextSibling;l?tz(s,l):ez(e,s),t=[]}ra(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var U0="<!--StartFragment-->",UCe="<!--EndFragment-->";function WCe(r){var e=r.indexOf(U0),t=r.lastIndexOf(UCe);return e>-1&&t>-1&&(r=r.slice(e+U0.length,t)),r.replace(/<br[^>]*>/g,Kx)}function jCe(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function YCe(r){return r=WCe(r),r=jCe(r),ICe(r)&&(r=qCe(r)),r}function GCe(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function p_(r,e,t){for(var n=[],i=r.childCount,a=0;a<i;a+=1)if(!r.child(a).attrs.extended){var o=a<i?t.create(r.child(a).attrs,r.child(a).content):t.createAndFill();n.push(o)}return n}function v_(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableHeadCell,o=p_(r,e,a);return i.create(null,o)}function m_(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableBodyCell,o=p_(r,e,a);return i.create(null,o)}function KCe(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,a=[],o=0;o<r;o+=1){var s=i.createAndFill();a.push(s)}return n.create({dummyRowForPasting:!0},a)}function g_(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(a){return e.push(a)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(a){return t.push(a)})}return hr(hr([],e),t)}function XCe(r,e,t){var n=v_(r,e,t);return t.nodes.tableHead.create(null,n)}function W0(r,e,t){var n=r.map(function(a){return m_(a,e,t)});if(!r.length){var i=KCe(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function JCe(r,e,t,n){var i=GCe(r);if(t&&n)return e.nodes.table.create(null,[W0(r,i,e)]);var a=r[0],o=r.slice(1),s=[XCe(a,i,e)];return o.length&&s.push(W0(o,i,e)),e.nodes.table.create(null,s)}function QCe(r,e,t){var n=[],i=r.content,a=r.openStart,o=r.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=l_(new Z(j.from(s),0,0));if(l){var u=g_(l),c=l.firstChild.type.name==="tableBody",f=JCe(u,e,c,t);n.push(f)}}else n.push(s)}),new Z(j.from(n),a,o)}var ZCe=4,eSe=2;function ql(r){return r*ZCe}function tSe(r,e,t){var n=[],i=g_(r),a=i[0].childCount,o=i.length,s=e.startRowIdx===0,l=i.slice(0,o);if(s){var u=l.shift();if(u){var c=v_(u,a,t).content;n.push(c)}}return l.forEach(function(f){if(!f.attrs.dummyRowForPasting){var d=m_(f,a,t).content;n.push(d)}}),n}function rSe(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,a=t.length,o=0,s=function(h){var p=t[h].childCount;t[h].forEach(function(v){var m=v.attrs,g=m.colspan;g>1&&(p+=g-1)}),o=Math.max(o,p)},l=0;l<a;l+=1)s(l);var u=n+a-1,c=i+o-1,f=Math.max(u+1-r.totalRowCount,0),d=Math.max(c+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:u,endColIdx:c,addedRowCount:f,addedColumnCount:d}}function nSe(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,a=r.endColIdx,o=r.addedRowCount,s=r.addedColumnCount,l=t;l<=i-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:a-s})}function iSe(r,e,t,n,i){for(var a=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,f=t.totalRowCount,d=0,h=0;h<f;h+=1){var p=t.getCellInfo(h,l-c),v=p.offset,m=p.nodeSize,g=r.mapping.map(v+m),b=Vl(c,h,e);if(r.insert(g,b),h>=a&&h<=s-u){var k=t.getCellInfo(h,l-c),T=r.mapping.map(k.offset),x=g+ql(c);i[d]={rowIdx:h,startColIdx:o,endColIdx:l,dummyOffsets:[T,x]},d+=1}}}function aSe(r,e,t,n,i){var a=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=r.mapping.maps.length,c=t.tableEndOffset-2,f=a_(a,t.totalColumnCount+o,e),d=c;r.insert(r.mapping.slice(u).map(d),f);for(var h=0;h<a;h+=1){var p=d+ql(s)+1,v=d+ql(l+1)+1,m=d+ql(t.totalColumnCount+o)+eSe;i.push({rowIdx:h+t.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[p,v]}),d=m}}function oSe(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(a,o){var s=a.rowIdx,l=a.startColIdx,u=a.endColIdx,c=a.dummyOffsets,f=r.mapping.slice(i),d=new Z(e[o],0,0),h=c?c[0]:n.getCellStartOffset(s,l),p=c?c[1]:n.getCellEndOffset(s,u);r.replace(f.map(h),f.map(p),d)})}function sSe(r,e){var t=r.state,n=t.selection,i=t.schema,a=t.tr,o=tn(n),s=o.anchor,l=o.head;if(s&&l){var u=l_(e);if(!u)return!1;var c=Et.create(s),f=c.getRectOffsets(s,l),d=tSe(u,f,i),h=rSe(c,f,d),p=[];return uSe(c,h)&&(nSe(h,p),h.addedColumnCount&&iSe(a,i,c,h,p),h.addedRowCount&&aSe(a,i,c,h,p),oSe(a,d,p,c),r.dispatch(a),lSe(r,p,c.getCellInfo(0,0).offset)),!0}return!1}function lSe(r,e,t){var n=r.state,i=n.tr,a=n.doc,o=Et.create(a.resolve(t)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=jt(e),f=c.rowIdx,d=c.endColIdx,h=o.getCellInfo(l,u).offset,p=o.getCellInfo(f,d).offset;r.dispatch(i.setSelection(new Vv(a.resolve(h),a.resolve(p))))}function uSe(r,e){var t=r.getSpannedOffsets(e),n=Sa(t),i=n.rowCount,a=n.columnCount,o=Sa(e),s=o.rowCount,l=o.columnCount;return i===s&&a===l}var cSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Ke),fSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:I({},_t()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),dSe=/\s{1,4}$/,hSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,s=i.$to,l=o.blockRange(s);return l&&!Xa(o)&&!gc(o)?(n(a.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,s=i.$to,l=i.from,u=o.blockRange(s);if(u&&!Xa(o)&&!gc(o)){var c=o.nodeBefore;if(c&&c.isText){var f=c.text,d=f.replace(dSe,""),h=f.length-d.length;return n(a.delete(l-h,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Ke),pSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({level:n},a&&{rawHTML:a})}}});return{attrs:I({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},_t()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,pt(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.schema.nodes[t.level?"heading":"paragraph"];return hv(a,t)(n,i)}}},e}(Ke),vSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:I({language:{default:null},rawHTML:{default:null}},_t()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return I({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",I({"data-language":n.language},pt(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return hv(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,a){var o=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,c=n.context.view;if(c.endOfTextblock(t)&&u.node().type.name==="codeBlock"){var f=u.parent.textContent.split(`
`),d=t==="up"?u.start():u.end(),h=t==="up"?[d,f[0].length+d]:[d-jt(f).length,d],p=s.resolve(t==="up"?u.before():u.after()),v=t==="up"?p.nodeBefore:p.nodeAfter;if(bF(u.pos,h[0],h[1])&&!v){var m=xv(o,p,l);if(m)return a(m),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Ke),mSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[Yc("ul")],toDOM:function(t){var n=t.attrs;return["ul",pt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return i_(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:J_e}},e.prototype.keymaps=function(){var t=this.changeList(),n=zv(),i=n.indent,a=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e}(Ke),gSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:I({order:{default:1},rawHTML:{default:null}},_t()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return I({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",I({start:n.order===1?null:n.order},pt(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return i_(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=zv(),i=n.indent,a=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e}(Ke),ySe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return I({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",I({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,s=i.$from,l=i.empty,u=o.nodes.listItem,c=s.parent,f=s.node(-1);if(l&&!c.childCount&&f.type===u){if(s.index(-2)>=1)return a.delete(s.start(-1)-1,s.end(-1)),n(a),!0;var d=s.node(-3);if(d.type===u)return a.delete(s.start(-2)-1,s.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return rCe(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(Ke),bSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},_t()),content:"block+",group:"block",parseDOM:[Yc("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",pt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return lH(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Ke),wSe={left:MSe,right:OSe,up:ESe,down:DSe};function kSe(r,e,t){var n=t[0],i=t[1],a=e.resolve(r.before(n-1));return i===n&&!a.nodeBefore}function xSe(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}t-=1}return!1}function TSe(r,e,t,n,i){var a=e[0],o=e[1],s=e[2];if(r==="left"||r==="up"){if(i&&!kSe(t,n,[a,o]))return!1;var l=t.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function _Se(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!xSe(t))return!1;var a=t.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function CSe(r,e,t,n){var i=e[0],a=e[1],o=i+3,s=a>=o,l=s?i+1:a,u=TSe(r,[a,o,l],t,n,s),c=_Se(r,l,t,n,s);return u&&c}function j0(r,e,t){var n=t[0],i=t[1],a=e.getRowspanStartInfo(n,i),o=r==="up"&&n===0,s=r==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return o||s}function SSe(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(Ce.near(n,-1)):xv(r,n,t)}function od(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?xv(r,i,t):r.setSelection(Ce.near(i,1))}function OSe(r,e){var t=r[0],n=r[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,s=t===i-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(t,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===a)&&(t+=1,l=0);var c=e.getCellInfo(t,l).offset;return c+2}return null}function MSe(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,a=n===0,o=t===0&&a;if(!o){n-=1,a&&(t-=1,n=i-1);var s=e.getCellInfo(t,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function ESe(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function DSe(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var a=t+1,o=e.getRowspanStartInfo(t,n);(o==null?void 0:o.count)>1&&(a+=o.count-1);var s=e.getCellInfo(a,n).offset;return s+2}return null}function Y0(r,e,t,n){var i=wSe[r],a=i(t,n);if(a){var o=r==="right"||r==="down"?1:-1;return e.setSelection(Ce.near(e.doc.resolve(a),o))}return null}function ASe(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,i),l=s.offset,u=s.nodeSize,c=r==="left"?a:o,f=r==="left"?l-2:l+u+3;return c===f}function PSe(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new ye(n))}function NSe(r,e,t){var n,i,a;return r==="up"?(n=t.startRowIdx,i=0,a=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function RSe(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var LSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[Yc("table")],toDOM:function(t){var n=t.attrs;return["table",pt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=t.rowCount,o=t.columnCount,s=t.data,l=n.schema,u=n.selection,c=n.tr,f=u.from,d=u.to,h=u.$from,p=f===d;if(p&&!gc(h)){var v=l.nodes,m=v.tableHead,g=v.tableBody,b=s==null?void 0:s.slice(0,o),k=s==null?void 0:s.slice(o,s.length),T=lCe(o,l,b),x=a_(a-1,o,l,k),w=l.nodes.table.create(null,[m.create(null,T),g.create(null,x)]);return i(c.replaceSelectionWith(w)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Et.create(i.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,c=tt(a.delete(u,l),u);return n(a.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=tn(a),u=l.anchor,c=l.head;if(u&&c){for(var f=Et.create(u),d=f.getRectOffsets(u,c),h=t==="left"?d.startColIdx:d.endColIdx+1,p=Sa(d).columnCount,v=f.totalRowCount,m=0;m<v;m+=1){var g=Vl(p,m,s);o.insert(o.mapping.map(f.posAt(m,h)),g)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=tn(i),s=o.anchor,l=o.head;if(s&&l){var u=Et.create(s),c=u.getRectOffsets(s,l),f=u.totalColumnCount,d=u.totalRowCount,h=Sa(c).columnCount,p=h===f;if(p)return!1;for(var v=c.startColIdx,m=c.endColIdx,g=a.mapping.maps.length,b=0;b<d;b+=1)for(var k=m;k>=v;k-=1){var T=u.getCellInfo(b,k),x=T.offset,w=T.nodeSize,_=a.mapping.slice(g).map(x),C=_+w;a.delete(_,C)}return n(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=tn(a),u=l.anchor,c=l.head;if(u&&c){var f=Et.create(u),d=f.totalColumnCount,h=f.getRectOffsets(u,c),p=Sa(h).rowCount,v=NSe(t,f,h),m=v.targetRowIdx,g=v.insertColIdx,b=v.nodeSize,k=m===0;if(!k){for(var T=[],x=s.mapping.map(f.posAt(m,g))+b,w=[],_=0;_<d;_+=1)w=w.concat(Vl(1,m,o));for(var C=0;C<p;C+=1)T.push(o.nodes.tableRow.create(null,w));return i(s.insert(x,T)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=tn(i),s=o.anchor,l=o.head;if(s&&l){var u=Et.create(s),c=u.totalRowCount,f=u.totalColumnCount,d=u.getRectOffsets(s,l),h=Sa(d).rowCount,p=d.startRowIdx,v=d.endRowIdx,m=p===0,g=h===c-1;if(g||m)return!1;for(var b=v;b>=p;b-=1){var k=RSe(u,b,f),T=k.from,x=k.to;a.delete(T-1,x+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var a=t.align,o=n.selection,s=n.tr,l=tn(o),u=l.anchor,c=l.head;if(u&&c){for(var f=Et.create(u),d=f.totalRowCount,h=f.getRectOffsets(u,c),p=h.startColIdx,v=h.endColIdx,m=0;m<d;m+=1)for(var g=p;g<=v;g+=1)if(!f.extendedRowspan(m,g)&&!f.extendedColspan(m,g)){var b=f.getNodeAndPos(m,g),k=b.node,T=b.pos,x=uCe(k,{align:a});s.setNodeMarkup(T,null,x)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=tn(a),u=l.anchor,c=l.head;if(u&&c){var f=Et.create(u),d=f.getCellIndex(u),h=void 0;if(j0(t,f,d)?h=od(o,f,s):h=Y0(t,o,d,f),h)return i(h),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=i.doc,u=i.schema,c=o.$from,f=n.context.view;if(!f.endOfTextblock(t))return!1;var d=Ln(c,function(k){var T=k.type;return T.name==="tableHeadCell"||T.name==="tableBodyCell"});if(d){var h=Ln(c,function(k){var T=k.type;return T.name==="paragraph"}),p=d.depth;if(h&&CSe(t,[p,h.depth],c,l)){var v=tn(o).anchor,m=Et.create(v),g=m.getCellIndex(v),b=void 0;if(ASe(t,m,g)?b=PSe(s,c,p):j0(t,m,g)?t==="up"?b=SSe(s,m,u):t==="down"&&(b=od(s,m,u)):b=Y0(t,s,g,m),b)return a(b),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,a=t.selection,o=t.tr,s=tn(a),l=s.anchor,u=s.head,c=a instanceof Ie;if(l&&u&&!c){for(var f=Et.create(l),d=f.getRectOffsets(l,u),h=d.startRowIdx,p=d.startColIdx,v=d.endRowIdx,m=d.endColIdx,g=h;g<=v;g+=1)for(var b=p;b<=m;b+=1)if(!f.extendedRowspan(g,b)&&!f.extendedColspan(g,b)){var k=f.getNodeAndPos(g,b),T=k.node,x=k.pos,w=Vl(1,g,i,T.attrs);o.replaceWith(o.mapping.map(x),o.mapping.map(x+T.nodeSize),w)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,s=i.$from,l=Ln(s,function(d){var h=d.type;return h.name==="tableHeadCell"||h.name==="tableBodyCell"});if(l){var u=Ln(s,function(d){var h=d.type;return h.name==="paragraph"});if(u){var c=tn(i).anchor,f=Et.create(c);return n(od(a,f,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Ke),ISe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[Yc("thead")],toDOM:function(t){var n=t.attrs;return["thead",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),$Se=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,a=t.getAttribute("data-raw-html");return i?I({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),BSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?I({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),HSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:I({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},_t()),isolating:!0,parseDOM:[t_("th")],toDOM:function(t){var n=t.attrs,i=e_(n);return["th",I(I({},i),pt(n)),0]}}},enumerable:!1,configurable:!0}),e}(Ke),FSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[t_("td")],toDOM:function(t){var n=t.attrs,i=e_(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(Ke),zSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:I({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},_t()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=aa(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return I({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",I(I({src:Ca(n.imageUrl)},n.altText&&{alt:n.altText}),pt(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var a=n.schema,o=n.tr,s=t,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=a.nodes.image.createAndFill(I({imageUrl:l},u&&{altText:u}));return i(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Ke),G0=1,VSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},_t()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",pt(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var a,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,c=n.schema.nodes,f=c.thematicBreak,d=c.paragraph,h=[f.create()],p=s.node(G0),v=u.child(u.childCount-1)===p,m=u.resolve(s.after(G0)),g=((a=s.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(v||g)&&h.push(d.create()),i(n.tr.insert(m.pos,h).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Ke),qSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",pt(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return us(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(rt),USe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",pt(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return us(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(rt),WSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",pt(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return us(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(rt),jSe=function(r){ee(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:I({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},_t()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=aa(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return I({linkUrl:a,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",I(I({href:Ca(i.linkUrl)},t.linkAttributes),pt(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var a=t,o=a.linkUrl,s=a.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,f=n.selection,d=f.empty,h=f.from,p=f.to;if(h&&p&&o){var v={linkUrl:o},m=u.mark("link",v);if(d&&l){var g=$t(u,l,m);c.replaceRangeWith(h,p,g)}else c.addMark(h,p,m);return i(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return us(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(rt),YSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return I({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",pt(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return us(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(rt),GSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t!=null&&t.info?hv(n.schema.nodes.customBlock,t)(n,i):!1}}},e}(Ke),KSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?dv(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Ke),XSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?dv(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Ke);function JSe(r){return new iT([new cSe,new fSe,new hSe,new pSe,new vSe,new mSe,new gSe,new ySe,new bSe,new LSe,new ISe,new $Se,new BSe,new HSe,new FSe,new zSe,new VSe,new qSe,new USe,new WSe,new jSe(r),new YSe,new GSe,new KSe,new rT,new XSe])}var QSe=ie("contents"),ZSe=function(r){ee(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,f=c===void 0?!0:c,d=n.wwPlugins,h=d===void 0?[]:d,p=n.wwNodeViews,v=p===void 0?{}:p;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=u,i.extraPlugins=h,i.pluginNodeViews=v,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(f),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(I(I({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return JSe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new Dk({nodes:I(I({},this.specs.nodes),t.nodes),marks:I(I({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return hr([pCe(),yCe(this.eventEmitter),bCe(),SCe(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(s,l,u){return i[o](s,l,u,n)}}),a},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new uv(this.el,{state:this.createState(),attributes:{class:QSe},nodeViews:I({customBlock:function(o,s,l){return new OCe(o,s,l,i)},image:function(o,s,l){return new MCe(o,s,l,a)},codeBlock:function(o,s,l){return new ACe(o,s,l,a)},widget:tT},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=t.view.state.applyTransaction(o).state;t.view.updateState(s),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:YCe,transformPasted:function(o){return QCe(o,t.schema,gc(t.view.state.selection.$from))},handlePaste:function(o,s,l){return sSe(o,l)},handleKeyDown:function(o,s){return t.eventEmitter.emit("keydown",t.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var c=yn(u).some(function(d){return d.kind==="string"&&d.type==="text/rtf"});if(!c){var f=eT(u);f&&(s.preventDefault(),Ev(t.eventEmitter,f,s.type))}}return!1},keyup:function(o,s){return t.eventEmitter.emit("keyup",t.editorType,s),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,zv())},e.prototype.getHTML=function(){return Mv(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var a=this.view.state,o=a.schema,s=a.tr,l=t.split(`
`),u=l.map(function(d){return sc(o,Wi(d,o))}),c=new Z(j.from(u),1,1),f=En(n)&&En(i)?s.replaceRange(n,i,c):s.replaceSelection(c);this.view.dispatch(f),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,a=En(t)&&En(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;return En(t)&&En(n)&&(s=t,l=n),a.textBetween(s,l,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=tt(i,t,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var a=this.view,o=a.dispatch,s=a.state;o(s.tr.setMeta("widget",{pos:i!=null?i:s.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=Wi(i,s);this.view.dispatch(o.replaceWith(t,n,l))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t?i.resolve(t):a.$from,s=o.marks(),l=o.node(),u=o.start(),c=o.end(),f=l.type.name;if(s.length||f==="paragraph"){var d=s[s.length-1],h=function(p){return p.length?Bt(p,d):!0};f=d?d.type.name:"text",l.forEach(function(p,v){var m=p.isText,g=p.nodeSize,b=p.marks,k=o.pos-u;m&&v<=k&&v+g>=k&&h(b)&&(u=u+v,c=u+g)})}return{range:[u,c],type:f}},e}(nT),eOe=jr,tOe=nc;function rOe(r){return!eOe(r)&&!tOe(r)}var nOe=rOe,iOe=nOe;function aOe(r){return iOe(r)&&r!==!1}var oOe=aOe,sOe=oOe;function lOe(r){return!sOe(r)}var uOe=lOe,K0=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],y_=function(){function r(){var e=this;this.events=new u_,this.eventTypes=K0.reduce(function(t,n){return I(I({},t),{type:n})},{}),this.hold=!1,K0.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(s){var l=s.apply(void 0,t);jr(l)||o.push(l)}),o},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var s=o.apply(void 0,hr([t],n));uOe(s)||(t=s)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!jr(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);!i||(i.map(function(a){return a.namespace!==t&&n.push(a),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r}(),cOe=function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r}();function Ul(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function vp(r,e){var t=r.schema,n=e.literal,i=n.match(ja);if(i){var a=i[1],o=i[3],s=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[s]||t.nodes[s])}return!1}function mp(r){var e=r.type;return Bt(["text","strong","emph","strike","image","link","code"],e)}function X0(r){return(r==null?void 0:r.type)==="softbreak"}function yo(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(ja);if(n){var i=n[1],a=n[3],o=i||a;if(o)return Bt(["ul","ol","li"],o.toLowerCase())}return!1}function fOe(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function J0(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=aa(r);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function dOe(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=r[t]})}),e}var hOe={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var a=J0(n,"href")[0];r.openMark(i.create({linkUrl:a,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=J0(n,"src","alt"),a=i[0],o=i[1],s=r.schema.nodes.image;r.addNode(s,I({rawHTML:t,imageUrl:a},o&&{altText:o}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(X0(i)&&r.openNode(t),X0(a)?r.closeNode():a&&(r.closeNode(),r.openNode(t))):(n==null?void 0:n.type)==="tableCell"&&(i&&(mp(i)||vp(r,i))&&r.closeNode(),a&&(mp(a)||vp(r,a))&&r.openNode(t))},pre:function(r,e,t){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(Ul(o)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,s=t==="ul"?i:a;t?(e.prev&&!yo(e.prev)&&r.closeNode(),r.openNode(s,{rawHTML:t})):(r.closeNode(),e.next&&!yo(e.next)&&r.openNode(o))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,a=i.listItem,o=i.paragraph;if(t){var s=fOe(e);e.prev&&!yo(e.prev)&&r.closeNode(),r.openNode(a,I({rawHTML:t},s)),e.next&&!yo(e.next)&&r.openNode(o)}else e.prev&&!yo(e.prev)&&r.closeNode(),r.closeNode()}}},pOe=dOe(hOe);function Q0(r){return r.type==="htmlInline"&&Xh.test(r.literal)}function b_(r){yn(r.childNodes).forEach(function(e){if(Fc(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&b_(e)}})}var Z0={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,a=t.entering;if(a){var o=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(o,n),r.closeNode()),r.openNode(o,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var a=e,o=a.level,s=a.headingType;r.openNode(r.schema.nodes.heading,I({level:o,headingType:s},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;r.openNode(n,I({language:a},t)),r.addText(Ul(o||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var a=r.schema.nodes,o=a.bulletList,s=a.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?r.openNode(o,n):r.openNode(s,I({order:c},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,a=r.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(i){var u=I(I(I({},s&&{task:s}),l&&{checked:l}),n);r.openNode(a,u)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,a=t.skipChildren,o=r.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&a&&a(),r.addNode(o,I(I({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strong;i?r.openMark(a.create(n)):r.closeMark(a)},emph:function(r,e,t,n){var i=t.entering,a=r.schema.marks.emph;i?r.openMark(a.create(n)):r.closeMark(a)},link:function(r,e,t,n){var i=t.entering,a=r.schema.marks.link,o=e,s=o.destination,l=o.title;if(i){var u=I({linkUrl:s,title:l},n);r.openMark(a.create(u))}else r.closeMark(a)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!Q0(t)&&r.closeNode(),n&&!Q0(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(p){return p&&(mp(p)||vp(r,p))};if(n){var a=r.schema.nodes,o=a.tableHeadCell,s=a.tableBodyCell,l=a.paragraph,u=e.parent.parent,c=u.type==="tableHead"?o:s,f=u.parent,d=(f.columns[e.startIdx]||{}).align,h=I({},e.attrs);d&&(h.align=d),r.openNode(c,h),i(e.firstChild)&&r.openNode(l)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strike;i?r.openMark(a.create(n)):r.closeMark(a)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText(Ul(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,a=e,o=a.info,s=a.literal;r.openNode(n,{info:o}),r.addText(Ul(s||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(ja),i=n[1],a=n[3],o=(i||a).toLowerCase(),s=r.schema.marks[o],l=aa(t);if(s!=null&&s.spec.attrs.htmlInline)if(i){var u=fp(l);r.openMark(s.create({htmlAttrs:u}))}else r.closeMark(s);else{var c=pOe[o];c&&c(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=JF.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var a=t.match(ja),o=a[1],s=a[3],l=(o||s).toLowerCase(),u=r.schema.nodes[l],c=aa(t);if(u!=null&&u.spec.attrs.htmlBlock){var f=fp(c),d=JT(e,l);r.addNode(u,{htmlAttrs:f,childrenHTML:d})}else n.innerHTML=c,b_(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,a=e,o=a.info,s=a.firstChild,l=r.schema;if(o.indexOf("widget")!==-1&&n){var u=Vx(e);i(),r.addNode(l.nodes.widget,{info:o},[l.text(Fx(o,u))])}else{var c="$$";n&&(c+=s?o+" ":o),r.addText(c)}}};function vOe(r){var e=Object.keys(r),t=I({},Z0),n=new Hv({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(a){var o=Z0[a];o&&!Bt(["htmlBlock","htmlInline"],a)&&(t[a]=function(s,l,u){u.origin=function(){return i[a](l,u,i)};var c=r[a](l,u),f;if(c){var d=Array.isArray(c)?c[0]:c,h=d.attributes,p=d.classNames;f={htmlAttrs:h,classNames:p}}o(s,l,u,f)})}),t}function mOe(r,e){return r.isText&&e.isText&&De.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var gOe=function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=De.none}return r.prototype.top=function(){return jt(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=jt(t),i=this.schema.text(e,this.marks),a=n&&mOe(n,i);a?t[t.length-1]=a:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=De.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=Xi.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type],c=!1;if(u){var f={entering:l,leaf:!AF(s),getChildrenText:PF,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,f),(t==null?void 0:t.node)===s){var d=o.stack.reduce(function(h,p){return h+p.content.reduce(function(v,m){return v+m.nodeSize},0)},0)+1;t.setMappedPos(d)}}c&&(n.resumeAt(s,!1),n.next()),i=n.next()},o=this;i;)a()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r}();function yOe(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function bOe(r,e,t){var n=e.node,i=e.parent,a=t[0],o=t[1];r.stopNewline=!0,r.write(a),r.convertNode(n),r.write(o),(i==null?void 0:i.type.name)==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function wOe(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+ic("-",Math.max(t,3))+i}var gp={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?r.text(ac(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var o=a===0,s=!o&&n.child(a-1),l=s&&s.childCount===0,u=a<n.childCount-1&&n.child(a+1),c=u&&u.type.name==="paragraph",f=t.childCount===0;if(f&&l)r.write(`<br>
`);else if(f&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var d=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(d)}r.write(`
`)}else r.convertInline(t),c?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,a=n.attrs.headingType;a==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,s=o[0],l=o[1];r.write(s),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,a=t.delim;(i==null?void 0:i.type.name)===n.type.name&&r.flushClose(1),r.wrapBlock(a,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,ic(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,ic(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,a=n.checked;i&&r.write("["+(a?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,a=n.firstChild;r.convertNode(n);var o=i!=null?i:"";!i&&a&&a.forEach(function(s){var l=s.textContent,u=s.attrs,c=wOe(l,u.align);o+="| "+c+" "}),r.write(o+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,s=o[0],l=o[1];r.write(s),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function kOe(r,e){var t=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?ea(r,["heading","codeBlock"])>-1?yOe(t,n.node,a):ea(r,["image","thematicBreak"])>-1?t.write(a):bOe(t,n,a):gp[r](t,n,i)}function ew(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var a=n.exec(t);a;)i=Math.max(i,a[0].length),a=n.exec(t);for(var o=i>0&&e>0?" `":"`",s=0;s<i;s+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function Ir(r){return r?["<"+r+">","</"+r+">"]:null}function bo(r){return r?"<"+r+">":null}function wo(r){return r?"</"+r+">":null}var ko={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=ic("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:Ir(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Ir(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:Ir(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:Ir(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:Ir(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,a=i.task,o=i.checked,s=t.attrs.rawHTML;n&&(s=s||"li");var l=a?' class="task-list-item'+(o?" checked":"")+'"':"",u=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+Ca(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+Ca(a)+'"'+o+">":null,attrs:{altText:ac(i||""),imageUrl:a}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:bo(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="**";return t||(o=i?"<strong>":"</strong>"),{delim:o,rawHTML:i?bo(a):wo(a)}},emph:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="*";return t||(o=i?"<em>":"</em>"),{delim:o,rawHTML:i?bo(a):wo(a)}},strike:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="~~";return t||(o=i?"<del>":"</del>"),{delim:o,rawHTML:i?bo(a):wo(a)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,a=i.title,o=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=a?' title="'+Ca(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+Ca(s)+'"'+l+">":null}:{delim:"]("+s+(a?" "+yF(ac(a)):"")+")",rawHTML:wo(o)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,a=i===void 0?0:i,o=e.entering,s=o?ew(n.child(a),-1):ew(n.child(a-1),1),l=o?bo(t.attrs.rawHTML):wo(t.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,o="<"+i,s="</"+i+">";return Object.keys(a).forEach(function(l){o+=" "+l+'="'+a[l].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+t.attrs.childrenHTML+s}}},tw={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function xOe(r){var e={},t=Object.keys(gp);return t.forEach(function(n){e[n]=function(i,a){var o=gp[n];if(o){var s=r[n],l=s?s(a,{inTable:i.inTable}):{};kOe(n,{state:i,nodeInfo:a,params:l})}}}),e}function TOe(r){var e={},t=Object.keys(tw);return t.forEach(function(n){e[n]=function(i,a,o){var s=tw[n],l=r[n],u=l&&i&&!jr(a),c=u?l(i,{entering:a},o):{};return I(I({},c),s)}}),e}function _Oe(r){var e=Object.keys(r);e.forEach(function(i){var a=ko[i],o=r[i];a?ko[i]=function(s,l){return l.origin=function(){return a(s,l)},o(s,l)}:ko[i]=o,delete r[i]});var t=xOe(ko),n=TOe(ko);return{nodeTypeConvertors:t,markTypeConvertors:n}}var COe=function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.isBetweenSpaces=function(e,t){var n,i,a=e.content,o=t===0||kF((n=a.child(t-1).text)!==null&&n!==void 0?n:Wb),s=t>=a.childCount-1||wF((i=a.child(t+1).text)!==null&&i!==void 0?i:Wb);return o&&s},r.prototype.markText=function(e,t,n,i){var a=this.getMarkConvertor(e);if(a){var o=this.isBetweenSpaces(n,t?i:i-1),s=a({node:e,parent:n,index:i},t,o),l=s.delim,u=s.rawHTML;return u||l}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?gF(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},r.prototype.convertInline=function(e){var t=this,n=[],i="",a=function(o,s,l){var u=o?o.marks:[],c=i;i="";var f=o&&o.isText&&u.some(function(V){var N=t.getMarkConvertor(V),U=N&&N();return U&&U.removedEnclosingWhitespace});if(f&&o&&o.text){var d=/^(\s*)(.*?)(\s*)$/m.exec(o.text),h=d[1],p=d[2],v=d[3];c+=h,i=v,(h||v)&&(o=p?o.withText(p):null,o||(u=n))}for(var m=u.length&&jt(u),g=m&&t.getMarkConvertor(m),b=g&&g(),k=b&&b.escape===!1,T=u.length-(k?1:0),x=0;x<T;x+=1){var p=u[x];if(b&&!b.mixable)break;for(var w=0;w<n.length;w+=1){var _=n[w];if(b&&!b.mixable)break;if(p.eq(_)){x>w?u=u.slice(0,w).concat(p).concat(u.slice(w,x)).concat(u.slice(x+1,T)):w>x&&(u=u.slice(0,x).concat(u.slice(x+1,w)).concat(p).concat(u.slice(w,T)));break}}}for(var C=0;C<Math.min(n.length,T)&&u[C].eq(n[C]);)C+=1;for(;C<n.length;){var H=n.pop();H&&t.text(t.markText(H,!1,e,l),!1)}if(c&&t.text(c),o){for(;n.length<T;){var p=u[n.length];n.push(p),t.text(t.markText(p,!0,e,l),!1)}k&&o.isText?t.text(t.markText(m,!0,e,l)+o.text+t.markText(m,!1,e,l+1),!1):t.convertBlock(o,e,l)}};e.forEach(a),a(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,c){c&&o&&i.flushClose(1),i.wrapBlock(t,n(c),e,function(){return i.convertBlock(l,e,c)})}),this.tightList=s},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(Bt(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,a),t.closed=!1;else if(t.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),(t==null?void 0:t.node)===i){var s=n.result.split(`
`);t.setMappedPos([s.length,jt(s).length+1])}}),this.result},r}(),SOe=function(){function r(e,t,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=vOe(n),this.toMdConvertors=_Oe(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new gOe(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new COe(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r}();function OOe(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,a={Plugin:mr,PluginKey:ss,Selection:Ce,TextSelection:Ie},o={Decoration:fr,DecorationSet:ut},s={Fragment:j},l={InputRule:yi,inputRules:Ax,undoInputRule:hH},u={keymap:es},c={eventEmitter:t,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:be};if(no(e)){var f=e[0],d=e[1],h=d===void 0?{}:d;return f(c,h)}return e(c)}function w_(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",aCe),(e!=null?e:[]).reduce(function(a,o){var s=OOe({plugin:o,eventEmitter:t,usageStatistics:n,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,f=s.markdownPlugins,d=s.wysiwygPlugins,h=s.wysiwygNodeViews,p=s.markdownCommands,v=s.wysiwygCommands,m=s.toolbarItems;return u&&(a.toHTMLRenderers=oc(a.toHTMLRenderers,u)),c&&(a.toMarkdownRenderers=oc(a.toMarkdownRenderers,c)),f&&(a.mdPlugins=a.mdPlugins.concat(f)),d&&(a.wwPlugins=a.wwPlugins.concat(d)),h&&(a.wwNodeViews=I(I({},a.wwNodeViews),h)),p&&(a.mdCommands=I(I({},a.mdCommands),p)),v&&(a.wwCommands=I(I({},a.wwCommands),v)),m&&(a.toolbarItems=a.toolbarItems.concat(m)),l&&(a.markdownParsers=I(I({},a.markdownParsers),l)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var MOe="data-task",EOe="data-task-disabled",DOe="checked";function AOe(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return XT(t)})})}var k_=function(){function r(e){var t=this;this.options=vv({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new y_;var n=$x(this.options.linkAttributes),i=w_({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,f=s.frontMatter,d=s.customHTMLSanitizer,h={linkAttributes:n,customHTMLRenderer:I(I({},a),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:f,sanitizer:d||aa};AOe(h.customHTMLRenderer),this.options.events&&qa(this.options.events,function(k,T){t.on(T,k)});var p=this.options,v=p.el,m=p.initialValue,g=p.theme,b=v.innerHTML;g!=="light"&&v.classList.add(ie(g)),v.innerHTML="",this.toastMark=new jT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:f,customParser:o}),this.preview=new ZT(this.eventEmitter,I(I({},h),{isViewer:!0})),pT(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):b&&this.preview.setHTML(b),v.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(EOe)&&t.hasAttribute(MOe)&&_v(n,e.offsetX,e.offsetY)&&(Cv(t,DOe),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=jt(t),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){hT(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r}();function Wl(r){return r instanceof Fr}function x_(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Bt(e,r)}function POe(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!x_(n)&&Wl(r)?r.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],s=I(I({},i),o),l=r.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?I(I({},s),{attrs:u,childrenHTML:c}):s}var NOe={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,a=t.attributes,o=document.createElement(n),s={};i&&(o.className=i.join(" ")),a&&(s=I(I({},s),a)),Ov(s,o),e.push(o)},closeTag:function(r,e){if(e.length>1){var t=e.pop();jt(e).appendChild(t)}},html:function(r,e){jt(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);jt(e).appendChild(t)}},ROe=function(){function r(e,t){var n=Fv(e,t),i=I(I({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new Hv({gfm:!0,convertors:I(I({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=POe(e),n={entering:!0,leaf:Wl(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Wl(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,n,this.convertors),o=no(a)?a:[a];return(x_(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Wl(e)?e.textContent:""}),o=o.concat(i(t,n,this.convertors))),o},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return NOe[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return Bt(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r}(),LOe=100,IOe=15,Vs=null,sd=null;function rw(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;sd&&clearTimeout(sd),t(r),sd=setTimeout(function(){n()},IOe)}function $Oe(r,e,t){var n=e-r,i=Date.now(),a=function(){var o=Date.now(),s=(o-i)/LOe,l;Vs&&clearTimeout(Vs),s<1?(l=r+n*Math.cos((1-s)*Math.PI/2),rw(Math.ceil(l),t),Vs=setTimeout(a,1)):(rw(e,t),Vs=null)};a()}var BOe=18,HOe=function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=nd(this.previewRoot,t).el,a=mc(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,s=a+o-n*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,a=t.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,f=this.getMdNodeAtPos(c,u);if(!(!f||_F(f))){var d=i.scrollTop,h=n.dom,p=h.scrollTop,v=h.scrollHeight,m=h.clientHeight,g=h.children,b=v-p<=m+BOe,k=b?i.scrollHeight:0;if(p&&!b){if(e){var T=this.getScrollTopByCaretPos();if(!T)return;k=T}else{var x=nd(this.previewRoot,f),w=x.el,_=x.mdNode,C=z0(c,_,g),H=C.height,V=C.rect,N=mc(w,a)||w.offsetTop,U=w.clientHeight,R=l>V.top?Math.min((l-V.top)/H,1):0;k=N+U*R}k=this.getResolvedScrollTop("editor",p,k,d),this.latestEditorScrollTop=p}k!==d&&this.run("editor",k,d)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,a=t.previewRoot,o=t.previewEl,s=i.dom,l=i.state,u=o.scrollTop,c=o.clientHeight,f=o.scrollHeight,d=f-u<=c,h=s.scrollTop,p=d?s.scrollHeight:0;if(u&&e&&!d){if(e=L_e(e,a),!e.getAttribute("data-nodeid"))return;var v=s.children,m=Number(e.getAttribute("data-nodeid")),g=nd(this.previewRoot,n.findNodeById(m)),b=g.mdNode,k=g.el,T=cs(b);p=v[T-1].offsetTop;var x=z0(l.doc,b,v).height,w=q_e(k,a,m),_=w.nodeHeight,C=w.offsetTop;p+=$_e(u,C,_,x),p=this.getResolvedScrollTop("preview",u,p,h),this.latestPreviewScrollTop=u}p!==h&&this.run("preview",p,h)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return a.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};$Oe(n,t,o)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r}(),FOe={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function zOe(r){r.eventEmitter.listen("query",function(e,t){return FOe[e](r,t)})}var T_=function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=vv({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,f=n.widgetRules,d=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=be,this.i18n.setCode(this.options.language),this.eventEmitter=new y_,RF(f);var h=$x(this.options.linkAttributes);this.pluginInfo=w_({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var p=this.pluginInfo,v=p.toHTMLRenderers,m=p.toMarkdownRenderers,g=p.mdPlugins,b=p.wwPlugins,k=p.wwNodeViews,T=p.mdCommands,x=p.wwCommands,w=p.markdownParsers,_={linkAttributes:h,customHTMLRenderer:oc(v,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:s,sanitizer:d||aa},C=new ROe(h,_.customHTMLRenderer),H=M_e(_.customHTMLRenderer,_.sanitizer,C);this.toastMark=new jT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:w}),this.mdEditor=new I3(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:g}),this.preview=new ZT(this.eventEmitter,I(I({},_),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new ZSe(this.eventEmitter,{toDOMAdaptor:C,useCommandShortcut:u,htmlSchemaMap:H,linkAttributes:h,wwPlugins:b,wwNodeViews:k}),this.convertor=new SOe(this.wwEditor.getSchema(),I(I({},m),l),Fv(h,_.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new cOe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&hF(),this.scrollSync=new HOe(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(T,x),zOe(this),this.options.hooks&&qa(this.options.hooks,function(V,N){return t.addHook(N,V)}),this.options.events&&qa(this.options.events,function(V,N){return t.on(N,V)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),oz(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(a,o){Object.keys(o).forEach(function(s){n.addCommand(a,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new k_(e):new r(e)},r.setLanguage=function(e,t){be.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,a=function(o){o===void 0&&(o={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,t,a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=nz(e);var i=Xi.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=Mv(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;zn(e)&&(e==="auto"?hn(t,"auto-height"):Hr(t,"auto-height"),this.setMinHeight(this.getMinHeight())),gn(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+ie("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&En(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,a;t===void 0&&(t=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(t),u=e,c=t;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(i=Hl(o,e,t),u=i[0],c=i[1]):n==="wysiwyg"&&s&&l&&(a=Pi(o,e,t),u=a[0],c=a[1]),[u,c]},r}();function VOe(r){for(var e,t,n=arguments,i=1,a="",o="",s=[0],l=function(c){i===1&&(c||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:a):i===3&&(c||a)?(s[1]=c?n[c]:a,i=2):i===2&&a==="..."&&c?s[2]=kv(s[2]||{},n[c]):i===2&&a&&!c?(s[2]=s[2]||{})[a]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[t]=c?a?a+n[c]:n[c]:a,i=6):(c||a)&&(s[2][t]+=c?a+n[c]:a)),a=""},u=0;u<r.length;u++){u&&(i===1&&l(),l(u));for(let c=0;c<r[u].length;c++)e=r[u][c],i===1?e==="<"?(l(),s=[s,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||r[u][c+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):a+=e),i===3&&a==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function qOe(r){return typeof r=="boolean"||r instanceof Boolean}var UOe=qOe,WOe=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r}(),qr=function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new WOe(this)},r.removalNodes=[],r}();function jOe(r){return new qr("TEXT_NODE",{nodeValue:r},[])}function nw(r,e){var t=r;UOe(r)||r==null?t=null:(zn(r)||En(r))&&(t=jOe(String(r))),t&&e.push(t)}function YOe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(o){nw(o,i)}):nw(a,i)}),new qr(r,e||{},i)}var Ne=VOe.bind(YOe);function GOe(r){return r===Object(r)}var KOe=GOe;function XOe(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),C_(e,{},r.props)),e}function __(r,e){r.node?e.removeChild(r.node):__(r.firstChild,e)}function JOe(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!QF(r)&&r.removeAttribute(n)}),C_(r,e,t,function(n){return!gv(e[n],t[n])})}var QOe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function C_(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();r.addEventListener(a,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&KOe(t[i])?ZOe(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function ZOe(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=En(i)&&!QOe.test(n)?i+"px":i})}function qv(r){if(qr.removalNodes.forEach(function(a){return aw(a)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)aw(r);else if(Pr(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function iw(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function aw(r){if(!(!r||!r.parent)){if(r.node){var e=iw(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&JOe(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(Pr(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=iw(r);__(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function eMe(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function S_(r){for(var e=r;r&&!r.skip;){if(Pr(r.type)){var t=eMe(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],ow(r)}else r.node||(r.node=XOe(r)),ow(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function tMe(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function ow(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(a,o){var s=tMe(t,a);s&&(a.old=t,a.parent=r,a.node=t.node,a.component=t.component,a.effect="U"),a&&!s&&(a.old=null,a.parent=r,a.node=null,a.effect="A"),t&&!s&&(qr.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?r.firstChild=a:a&&(n.next=a),n=a});var i=jt(e);if(!e.length)for(;t;)qr.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(qr.removalNodes.push(t),t.effect="D",t=t.next)}function rMe(r){r.effect="D",qr.removalNodes=[r],qv(),qr.removalNodes=[]}function nMe(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),qr.removalNodes=[],S_(e),qv(e),e.next&&(e.next.skip=!1)}function iMe(r,e){var t=new qr(r.tagName.toLowerCase(),{},[e]);return t.node=r,qr.removalNodes=[],S_(t),qv(t),function(){return rMe(t.firstChild)}}var Yt=function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=I(I({},this.state),e);gv(this.state,t)||(this.state=t,nMe(this))},r}(),aMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return Ne(sw||(sw=Pe([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),ie("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},be.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},be.get("WYSIWYG"))},e}(Yt),sw;function oMe(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var sMe=oMe,lMe=sMe;function uMe(r,e){var t,n=!0,i=function(c){r.apply(null,c),t=null},a,o,s;e=e||0,a=lMe(i,e);function l(){if(s=Array.prototype.slice.call(arguments),n){i(s),n=!1;return}o=Number(new Date),t=t||o,a(s),o-t>=e&&i(s)}function u(){n=!0,t=null}return l.reset=u,l}var cMe=uMe,O_=function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,a){return i[0]===t?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(n,o[1],o[0])}},e}()}(),yp=typeof window<"u"&&typeof document<"u"&&window.document===document,yc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),fMe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(yc):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),dMe=2;function hMe(r,e){var t=!1,n=!1,i=0;function a(){t&&(t=!1,r()),n&&s()}function o(){fMe(a)}function s(){var l=Date.now();if(t){if(l-i<dMe)return;n=!0}else t=!0,n=!1,setTimeout(o,e);i=l}return s}var pMe=20,vMe=["top","right","bottom","left","width","height","size","weight"],mMe=typeof MutationObserver<"u",gMe=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=hMe(this.refresh.bind(this),pMe)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!yp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mMe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!yp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=vMe.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),M_=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r},Qa=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||yc},E_=Gc(0,0,0,0);function bc(r){return parseFloat(r)||0}function lw(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+bc(a)},0)}function yMe(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var a=i[n],o=r["padding-"+a];t[a]=bc(o)}return t}function bMe(r){var e=r.getBBox();return Gc(0,0,e.width,e.height)}function wMe(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return E_;var n=Qa(r).getComputedStyle(r),i=yMe(n),a=i.left+i.right,o=i.top+i.bottom,s=bc(n.width),l=bc(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=lw(n,"left","right")+a),Math.round(l+o)!==t&&(l-=lw(n,"top","bottom")+o)),!xMe(r)){var u=Math.round(s+a)-e,c=Math.round(l+o)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Gc(i.left,i.top,s,l)}var kMe=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Qa(r).SVGGraphicsElement}:function(r){return r instanceof Qa(r).SVGElement&&typeof r.getBBox=="function"}}();function xMe(r){return r===Qa(r).document.documentElement}function TMe(r){return yp?kMe(r)?bMe(r):wMe(r):E_}function _Me(r){var e=r.x,t=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return M_(o,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),o}function Gc(r,e,t,n){return{x:r,y:e,width:t,height:n}}var CMe=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gc(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=TMe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),SMe=function(){function r(e,t){var n=_Me(t);M_(this,{target:e,contentRect:n})}return r}(),OMe=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new O_,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new CMe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new SMe(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),D_=typeof WeakMap<"u"?new WeakMap:new O_,A_=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=gMe.getInstance(),n=new OMe(e,t,this);D_.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){A_.prototype[r]=function(){var e;return(e=D_.get(this))[r].apply(e,arguments)}});var MMe=function(){return typeof yc.ResizeObserver<"u"?yc.ResizeObserver:A_}(),EMe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=pn(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return Ne(cw||(cw=Pe([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},be.get("Headings"),[1,2,3,4,5,6].map(function(n){return Ne(uw||(uw=Pe([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,be.get("Heading"),n)}),be.get("Paragraph"))},e}(Yt),uw,cw,P_=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return Ne(dw||(dw=Pe([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),ie("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=t.props.activeTab===i;return Ne(fw||(fw=Pe([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return t.toggleTab(s,i)},be.get(a),o?"true":"false",o?"0":"-1",be.get(a))}))},e}(Yt),fw,dw,DMe="ui",AMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Hr(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var o=n.item(0),s=function(l,u){return t.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,DMe)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,a=n.value||"image";if(Hr(t,"wrong"),!i.length){hn(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return Ne(hw||(hw=Pe([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),be.get("Insert image"),P_,this.tabs,i,this.toggleTab,i==="url"?"block":"none",be.get("Image URL"),function(s){return t.refs.url=s},i==="file"?"block":"none",be.get("Select image file"),ie("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:be.get("No file"),ie("file-select-button"),this.showFileSelectBox,be.get("Choose a file"),this.changeFile,function(s){return t.refs.file=s},be.get("Description"),function(s){return t.refs.altText=s},ie("button-container"),ie("close-button"),this.props.hidePopup,be.get("Cancel"),ie("ok-button"),this.execCommand,be.get("OK"))},e}(Yt),hw,PMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(Hr(n,"wrong"),Hr(i,"wrong"),n.value.length<1){hn(n,"wrong");return}var a=jr(t.props.initialValues.linkUrl);if(a&&i.value.length<1){hn(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,a=this.refs.url,o=this.refs.text;Hr(a,"wrong"),Hr(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(hn(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return Ne(pw||(pw=Pe([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),be.get("Insert link"),be.get("URL"),function(n){return t.refs.url=n},be.get("Link text"),function(n){return t.refs.text=n},ie("button-container"),ie("close-button"),this.props.hidePopup,be.get("Cancel"),ie("ok-button"),this.execCommand,be.get("OK"))},e}(Yt),pw,vw=20,mw=20,gw=5,yw=14,bw=5,ww=9,NMe=1,RMe=1,kw=1,LMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,s=a-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(I({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*vw,height:(n+1)*mw}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/vw),rowIdx:Math.floor(n/mw)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,a=Math.max(n,bw),o=Math.max(i,gw);return n>=bw&&a<ww&&(a+=1),i>=gw&&o<yw&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-kw,height:i-kw,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,NMe),yw),i.colIdx=Math.min(Math.max(i.colIdx,RMe),ww),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,a=[],o=0;o<i;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+ie("table-cell")+(o>0?"":" header");s.push(Ne(xw||(xw=Pe(['<div class="','"></div>'],['<div class="','"></div>'])),u))}a.push(Ne(Tw||(Tw=Pe(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),ie("table-row"),s))}return Ne(_w||(_w=Pe(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),ie("table"),a)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return Ne(Cw||(Cw=Pe([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),be.get("Insert table"),ie("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),ie("table-selection-layer"),i,ie("table-description"),this.getDescription())},e}(Yt),xw,Tw,_w,Cw,IMe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return Ne(Sw||(Sw=Pe(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e}(Yt),Sw;function bp(r){return zn(r)?BMe(r):r}function $Me(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?hn(r,"active"):Hr(r,"active"),i("toggleScrollSync",{active:o})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function BMe(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:be.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:be.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:be.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:be.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:be.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:be.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:be.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:be.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:be.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:be.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:be.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:be.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:be.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:be.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:be.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:be.get("Outdent"),state:"outdent"};break;case"scrollSync":e=$Me();break;case"more":e={name:"more",className:"more",tooltip:be.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+ie("toolbar-icons")),e}function Uv(r,e){var t=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(r){case"heading":return{render:function(o){return Ne(Ow||(Ow=Pe(["<"," ..."," />"],["<"," ..."," />"])),EMe,o)},className:ie("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(o){return Ne(Mw||(Mw=Pe(["<"," ..."," />"],["<"," ..."," />"])),PMe,o)},className:ie("popup-add-link"),fromEl:t,pos:n,initialValues:a};case"image":return{render:function(o){return Ne(Ew||(Ew=Pe(["<"," ..."," />"],["<"," ..."," />"])),AMe,o)},className:ie("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(o){return Ne(Dw||(Dw=Pe(["<"," ..."," />"],["<"," ..."," />"])),LMe,o)},className:ie("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?I({render:function(o){return Ne(Aw||(Aw=Pe(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),IMe,o,i.body)},fromEl:t,pos:n},i):null;default:return null}}function wc(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function HMe(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(o){return t(bp(o))}));var a=n[(n.length||1)-1];return a&&wc(a),n},[])}function FMe(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),wc(t)})}var Ow,Mw,Ew,Dw,Aw,zMe=20,VMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!pn(n.target,"."+ie("popup"))&&!pn(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&t.show!==i){var o=I({},a.pos),s=this.refs.el.offsetWidth,l=pn(this.refs.el,"."+ie("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-zMe),gv(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=i||{},c=u.className,f=c===void 0?"":c,d=u.style,h=u.render,p=u.initialValues,v=p===void 0?{}:p,m=I(I({display:a?"block":"none"},d),this.state.popupPos);return Ne(Pw||(Pw=Pe([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),ie("popup"),f,m,function(g){return t.refs.el=g},ie("popup-body"),h&&h({eventEmitter:s,show:a,hidePopup:o,execCommand:l,initialValues:v}))},e}(Yt),Pw,Nw=6;function Wv(r){return function(e){ee(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var s=i.getBound(a),l=s.left+Nw+"px",u=s.top+Nw+"px";gn(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){gn(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[a.state])!==null&&l!==void 0?l:{},f=c.active,d=c.disabled;n.setState({active:!!f,disabled:d!=null?d:n.props.disabled})})},t.prototype.getBound=function(n){var i=Qx(n,pn(n,"."+ie("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},t.prototype.render=function(){return Ne(Rw||(Rw=Pe([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(Yt)}var Rw,qMe=80,UMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=i.command,c=i.name,f=i.popup;if(u)a(u);else{var d=f?"customPopupBody":c,h=l.emit("query","getPopupInitialValues",{popupName:d})[0],p=Uv(d,{el:t.refs.el,pos:s(t.refs.el),popup:f,initialValues:h});p&&o(p)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,Sv(this.refs.el)+(i.hidden?qMe:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,s=n.active,l=I({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return Ne(Lw||(Lw=Pe([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return t.refs.el=c},l,u,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e}(Yt),WMe=Wv(UMe),Lw,jMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=Uv("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,Sv(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,a=i.item,o=i.active,s=i.disabled;(t.active!==o||t.disabled!==s)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:s}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},s=function(l){return i?null:l};return Ne(Iw||(Iw=Pe([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return t.refs.el=l},o,ie("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(Yt),YMe=Wv(jMe),Iw,N_=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,s=a?{display:"none"}:null;return Ne(Bw||(Bw=Pe([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),ie("toolbar-group"),o,i.map(function(l){var u=l.el?YMe:WMe;return Ne($w||($w=Pe(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,t.props,l)}),ie("toolbar-divider"),s)},e}(Yt),$w,Bw,GMe=4,KMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var a=i.target;!pn(a,"."+ie("dropdown-toolbar"))&&!pn(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=GMe,I(I({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,c=o.hideTooltip,f=u.filter(function(p){return!p.hidden}),d=f.length?null:{display:"none"},h=i?null:{display:"none"};return Ne(Fw||(Fw=Pe([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),ie("toolbar-group"),d,function(p){return t.refs.el=p},l.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,c,s,ie("dropdown-toolbar"),I(I({},h),a),function(p){return t.refs.dropdownEl=p},f.length?f.map(function(p,v){var m;return Ne(Hw||(Hw=Pe([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),N_,p,v===f.length-1||((m=f[v+1])===null||m===void 0?void 0:m.hidden),t.props)}):null)},e}(Yt),XMe=Wv(KMe),Hw,Fw,JMe=50,QMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var s=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+ie("toolbar-group")+" ."+i);if(o){var s=Qx(o,pn(o,"."+ie("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=Uv(i,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:a});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=HMe(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new MMe(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,a=t.itemIndex,o=this.initialItems[i];n=bp(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;Ua(this.initialItems,function(i){var a=!1;return Ua(i,function(o,s){return o.name===t?(a=!0,i.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=cMe(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+ie("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=Jx(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,a){var o=function(l){var u=l.pop();u&&a.push(u)};if(t>1)o(i);else{var s=jt(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+ie("toolbar-divider")),o=a?Sv(a):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,f){var d=[],h=[];c.forEach(function(p,v){p.hidden||(n+=t.itemWidthMap[p.name],n>i-JMe?(u||(t.movePrevItemToDropdownToolbar(v,s,d,h),u=!0),h.push(p)):d.push(p))}),d.length&&(wc(d),s.push(d)),h.length&&(wc(h),l.push(h)),f<t.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,s=a!==t.previewStyle,l=i!==t.editorType;if(s||l){FMe(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),ra(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,f=s.items,d=s.dropdownItems,h={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},p=i==="tab"?{borderTopLeftRadius:0}:null;return Ne(Vw||(Vw=Pe([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),ie("toolbar"),ie("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",P_,this.tabs,c,this.toggleTab,ie("defaultUI-toolbar"),function(v){return t.refs.el=v},p,f.map(function(v,m){var g;return Ne(zw||(zw=Pe([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),N_,v,m===f.length-1||((g=f[m+1])===null||g===void 0?void 0:g.hidden),t.setItemWidth,h)}),XMe,bp("more"),d,h,VMe,l,u,a,this.hidePopup,this.execCommand)},e}(Yt),zw,Vw,ZMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){pn(i.target,"."+ie("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,s){var l=[];return s.forEach(function(u){var c=u.label,f=u.className,d=f===void 0?!1:f,h=u.disabled,p=u.onClick,v=function(){h||(p(),t.setState({pos:null}))};l.push(Ne(qw||(qw=Pe([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),v,h?" disabled":"",d,c))}),o.push(Ne(Uw||(Uw=Pe([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var t=I({display:this.state.pos?"block":"none"},this.state.pos);return Ne(Ww||(Ww=Pe(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),ie("context-menu"),t,this.getMenuGroupElements())},e}(Yt),qw,Uw,Ww,eEe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,f=l.editorType,d=u?" hidden":"",h=ie(f==="markdown"?"md-mode":"ww-mode"),p=ie("md")+"-"+c+"-style",v=ie([s!=="light",s+" "]);return Ne(Yw||(Yw=Pe([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),v,ie("defaultUI"),d,function(m){return t.refs.el=m},QMe,function(m){return t.toolbar=m},i,c,o,f,ie("main"),h,function(m){return t.refs.editorSection=m},ie("main-container"),ie("md-container"),p,function(m){return t.refs.mdContainer=m},ie("md-splitter"),ie("ww-container"),function(m){return t.refs.wwContainer=m},!a&&Ne(jw||(jw=Pe(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),aMe,i,f),ZMe,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(Yt),jw,Yw,tEe=function(r){ee(e,r);function e(t){var n,i=r.call(this,t)||this,a,o=iMe(i.options.el,Ne(Gw||(Gw=Pe([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),eEe,function(s){return a=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new k_(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e}(T_),Gw;T_.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});const rEe=Ht({mounted(){new tEe({el:document.querySelector("#editor"),height:"500px",initialEditType:"markdown",previewStyle:"vertical"}).getMarkdown()}}),nEe={class:"EditorPage"},iEe=ue("h1",null,"Toast Editor",-1),aEe=ue("div",{id:"editor"},null,-1),oEe=[iEe,aEe];function sEe(r,e,t,n,i,a){return z(),X("div",nEe,oEe)}const lEe=kc(rEe,[["render",sEe]]),uEe=Ht({components:{"date-dynamic":Zv({loader:()=>hs(()=>Promise.resolve().then(()=>x$),void 0),loadingComponent:()=>hs(()=>import("./LoadingText.5bd2da6f.js"),["assets/LoadingText.5bd2da6f.js","assets/index.ac5fa4b9.js","assets/index.c99feecb.css"]),errorComponent:()=>hs(()=>import("./ErrorText.06b20fcb.js"),["assets/ErrorText.06b20fcb.js","assets/index.ac5fa4b9.js","assets/index.c99feecb.css"]),delay:200,timeout:3e3}),"chart-dynamic":Zv(()=>hs(()=>import("./ChartPie.449b5e58.js"),["assets/ChartPie.449b5e58.js","assets/index.ac5fa4b9.js","assets/index.c99feecb.css"]))},data(){return{current:"date-dynamic"}},methods:{changeComponent(){this.current==="chart-dynamic"?this.current="date-dynamic":this.current="chart-dynamic"}}});function cEe(r,e,t,n,i,a){return z(),X("div",null,[ue("button",{onClick:e[0]||(e[0]=(...o)=>r.changeComponent&&r.changeComponent(...o))},"change Component"),(z(),Re(Po(r.current)))])}const fEe=kc(uEe,[["render",cEe]]),dEe=r=>(Qw("data-v-30cf7c90"),r=r(),Zw(),r),hEe=dEe(()=>ue("h1",null,"Test Page",-1)),pEe=Ht({__name:"TestPage",setup(r){const{delayPromise:e,timeoutPromise:t}=G_();pr(()=>{n()});const n=()=>{let i=e;console.log("---promise start : true---"),i(!0).then(a=>{console.log(a)}).catch(a=>{console.error(a)}),console.log("---promise start : false---"),i(!1).then(a=>{console.log(a)}).catch(a=>{console.error(a)}),Promise.race([t,i(!1)]).then(a=>{console.log("success",a)}).catch(a=>{console.error("error:timeout",a)})};return(i,a)=>(z(),X(Me,null,[hEe,ue("section",null,[_r(LM)]),ue("section",null,[_r(mk)]),ue("section",null,[_r(lEe)]),ue("section",null,[_r(fEe)])],64))}});const vEe=kc(pEe,[["__scopeId","data-v-30cf7c90"]]),bEe=Object.freeze(Object.defineProperty({__proto__:null,default:vEe},Symbol.toStringTag,{value:"Module"}));export{bEe as T,LM as _};
