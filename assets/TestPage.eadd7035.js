var L_=Object.defineProperty;var I_=(r,e,t)=>e in r?L_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Oe=(r,e,t)=>(I_(r,typeof e!="symbol"?e+"":e,t),t);import{h as Za,t as $_,f as jt,j as te,s as Yw,i as pr,k as B_,w as eo,l as Gw,m as od,v as H_,n as Kw,o as z,c as X,a as ce,u as M,q as Ie,x as G,F as Me,y as yp,z as sd,A as bp,B as ne,g as Ar,C as ur,D as mt,E as Te,G as re,H as br,I as Pn,J as Dt,K as Ni,T as F_,L as Qe,M as _e,N as Nn,O as Ta,b as dn,P as Nt,Q as zs,R as to,S as rs,U as Vs,V as qs,W as z_,X as V_,Y as q_,_ as wp,r as U_,p as Xw,d as Jw}from"./index.43591001.js";const W_=()=>{const r=t=>new Promise((n,i)=>{setTimeout(()=>{try{if(t)throw new Error("timeout");n("pass")}catch(a){console.error(a),i("timeout")}},1e3)}),e=new Promise((t,n)=>{setTimeout(()=>{n("timeout")},1100)});return{delayPromise:r,timeoutPromise:e}},j_=()=>{const r=["NUMBER#1-ORANGE","NUMBER#2-CORAL","NUMBER#3-SALMON","NUMBER#4-WHEAT"],e=["#FFA500","#FF7F50","#E18B6B","#F5DEB3"],t=Za({chartData:{labels:r,datasets:[{backgroundColor:e,data:[40,20,80,10]}]},charOption:{responsive:!0,maintainAspectRatio:!1}}),n=()=>{let i=[];for(let a=0;a<4;a++){let o=Math.floor(Math.random()*100);i.push(o)}t.chartData={labels:r,datasets:[{backgroundColor:e,data:i}]}};return{...$_(t),changeChartDataSize:n}};/*!
 * Chart.js v4.0.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function xn(){}const Y_=(()=>{let r=0;return()=>r++})();function Ze(r){return r===null||typeof r>"u"}function nt(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Re(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function xt(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function yr(r,e){return xt(r)?r:e}function He(r,e){return typeof r>"u"?e:r}const G_=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,Qw=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function je(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Ve(r,e,t,n){let i,a,o;if(nt(r))if(a=r.length,n)for(i=a-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<a;i++)e.call(t,r[i],i);else if(Re(r))for(o=Object.keys(r),a=o.length,i=0;i<a;i++)e.call(t,r[o[i]],o[i])}function Wl(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function jl(r){if(nt(r))return r.map(jl);if(Re(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=jl(r[t[i]]);return e}return r}function Zw(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function K_(r,e,t,n){if(!Zw(r))return;const i=e[r],a=t[r];Re(i)&&Re(a)?Wo(i,a,n):e[r]=jl(a)}function Wo(r,e,t){const n=nt(e)?e:[e],i=n.length;if(!Re(r))return r;t=t||{};const a=t.merger||K_;let o;for(let s=0;s<i;++s){if(o=n[s],!Re(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)a(l[u],r,o,t)}return r}function Po(r,e){return Wo(r,e,{merger:X_})}function X_(r,e,t){if(!Zw(r))return;const n=e[r],i=t[r];Re(n)&&Re(i)?Po(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=jl(i))}const Qv={"":r=>r,x:r=>r.x,y:r=>r.y};function J_(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Q_(r){const e=J_(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function jo(r,e){return(Qv[e]||(Qv[e]=Q_(e)))(r)}function kp(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Ur=r=>typeof r<"u",ci=r=>typeof r=="function",Zv=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function Z_(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const bt=Math.PI,it=2*bt,Yl=Number.POSITIVE_INFINITY,eC=bt/180,at=bt/2,ki=bt/4,em=bt*2/3,Qn=Math.log10,Gl=Math.sign;function Us(r,e,t){return Math.abs(r-e)<t}function tm(r){const e=Math.round(r);r=Us(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(Qn(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function tC(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function Kl(r){return!isNaN(parseFloat(r))&&isFinite(r)}function rC(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function e1(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function un(r){return r*(bt/180)}function xp(r){return r*(180/bt)}function rm(r){if(!xt(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function t1(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let a=Math.atan2(n,t);return a<-.5*bt&&(a+=it),{angle:a,distance:i}}function nC(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function an(r){return(r%it+it)%it}function Xl(r,e,t,n){const i=an(r),a=an(e),o=an(t),s=an(a-i),l=an(o-i),u=an(i-a),c=an(i-o);return i===a||i===o||n&&a===o||s>l&&u<c}function Dr(r,e,t){return Math.max(e,Math.min(t,r))}function iC(r){return Dr(r,-32768,32767)}function xo(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function Tp(r,e,t){t=t||(o=>r[o]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}const ld=(r,e,t,n)=>Tp(r,t,n?i=>{const a=r[i][e];return a<t||a===t&&r[i+1][e]===t}:i=>r[i][e]<t),aC=(r,e,t)=>Tp(r,t,n=>r[n][e]>=t);function oC(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const r1=["push","pop","shift","splice","unshift"];function sC(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),r1.forEach(t=>{const n="_onData"+kp(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return r._chartjs.listeners.forEach(s=>{typeof s[n]=="function"&&s[n](...a)}),o}})})}function nm(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(r1.forEach(a=>{delete r[a]}),delete r._chartjs)}function lC(r){const e=new Set;let t,n;for(t=0,n=r.length;t<n;++t)e.add(r[t]);return e.size===n?r:Array.from(e)}const n1=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function i1(r,e){let t=!1;return function(...n){t||(t=!0,n1.call(window,()=>{t=!1,r.apply(e,n)}))}}function uC(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const a1=r=>r==="start"?"left":r==="end"?"right":"center",gr=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,cC=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e,ds=r=>r===0||r===1,im=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*it/t)),am=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*it/t)+1,Ws={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*at)+1,easeOutSine:r=>Math.sin(r*at),easeInOutSine:r=>-.5*(Math.cos(bt*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>ds(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>ds(r)?r:im(r,.075,.3),easeOutElastic:r=>ds(r)?r:am(r,.075,.3),easeInOutElastic(r){return ds(r)?r:r<.5?.5*im(r*2,.1125,.45):.5+.5*am(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-Ws.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Ws.easeInBounce(r*2)*.5:Ws.easeOutBounce(r*2-1)*.5+.5};var om=Ws;/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function ns(r){return r+.5|0}const Zn=(r,e,t)=>Math.max(Math.min(r,t),e);function To(r){return Zn(ns(r*2.55),0,255)}function ii(r){return Zn(ns(r*255),0,255)}function On(r){return Zn(ns(r/2.55)/100,0,1)}function sm(r){return Zn(ns(r*100),0,100)}const Or={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ud=[..."0123456789ABCDEF"],fC=r=>ud[r&15],dC=r=>ud[(r&240)>>4]+ud[r&15],hs=r=>(r&240)>>4===(r&15),hC=r=>hs(r.r)&&hs(r.g)&&hs(r.b)&&hs(r.a);function pC(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Or[r[1]]*17,g:255&Or[r[2]]*17,b:255&Or[r[3]]*17,a:e===5?Or[r[4]]*17:255}:(e===7||e===9)&&(t={r:Or[r[1]]<<4|Or[r[2]],g:Or[r[3]]<<4|Or[r[4]],b:Or[r[5]]<<4|Or[r[6]],a:e===9?Or[r[7]]<<4|Or[r[8]]:255})),t}const vC=(r,e)=>r<255?e(r):"";function mC(r){var e=hC(r)?fC:dC;return r?"#"+e(r.r)+e(r.g)+e(r.b)+vC(r.a,e):void 0}const gC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function o1(r,e,t){const n=e*Math.min(t,1-t),i=(a,o=(a+r/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function yC(r,e,t){const n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function bC(r,e,t){const n=o1(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function wC(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function _p(r){const t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),o=Math.min(t,n,i),s=(a+o)/2;let l,u,c;return a!==o&&(c=a-o,u=s>.5?c/(2-a-o):c/(a+o),l=wC(t,n,i,c,a),l=l*60+.5),[l|0,u||0,s]}function Cp(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(ii)}function Sp(r,e,t){return Cp(o1,r,e,t)}function kC(r,e,t){return Cp(bC,r,e,t)}function xC(r,e,t){return Cp(yC,r,e,t)}function s1(r){return(r%360+360)%360}function TC(r){const e=gC.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?To(+e[5]):ii(+e[5]));const i=s1(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=kC(i,a,o):e[1]==="hsv"?n=xC(i,a,o):n=Sp(i,a,o),{r:n[0],g:n[1],b:n[2],a:t}}function _C(r,e){var t=_p(r);t[0]=s1(t[0]+e),t=Sp(t),r.r=t[0],r.g=t[1],r.b=t[2]}function CC(r){if(!r)return;const e=_p(r),t=e[0],n=sm(e[1]),i=sm(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${On(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const lm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},um={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SC(){const r={},e=Object.keys(um),t=Object.keys(lm);let n,i,a,o,s;for(n=0;n<e.length;n++){for(o=s=e[n],i=0;i<t.length;i++)a=t[i],s=s.replace(a,lm[a]);a=parseInt(um[o],16),r[s]=[a>>16&255,a>>8&255,a&255]}return r}let ps;function OC(r){ps||(ps=SC(),ps.transparent=[0,0,0,0]);const e=ps[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function EC(r){const e=MC.exec(r);let t=255,n,i,a;if(!!e){if(e[7]!==n){const o=+e[7];t=e[8]?To(o):Zn(o*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?To(n):Zn(n,0,255)),i=255&(e[4]?To(i):Zn(i,0,255)),a=255&(e[6]?To(a):Zn(a,0,255)),{r:n,g:i,b:a,a:t}}}function DC(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${On(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Gc=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,fa=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function AC(r,e,t){const n=fa(On(r.r)),i=fa(On(r.g)),a=fa(On(r.b));return{r:ii(Gc(n+t*(fa(On(e.r))-n))),g:ii(Gc(i+t*(fa(On(e.g))-i))),b:ii(Gc(a+t*(fa(On(e.b))-a))),a:r.a+t*(e.a-r.a)}}function vs(r,e,t){if(r){let n=_p(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Sp(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function l1(r,e){return r&&Object.assign(e||{},r)}function cm(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=ii(r[3]))):(e=l1(r,{r:0,g:0,b:0,a:1}),e.a=ii(e.a)),e}function PC(r){return r.charAt(0)==="r"?EC(r):TC(r)}class Jl{constructor(e){if(e instanceof Jl)return e;const t=typeof e;let n;t==="object"?n=cm(e):t==="string"&&(n=pC(e)||OC(e)||PC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=l1(this._rgb);return e&&(e.a=On(e.a)),e}set rgb(e){this._rgb=cm(e)}rgbString(){return this._valid?DC(this._rgb):void 0}hexString(){return this._valid?mC(this._rgb):void 0}hslString(){return this._valid?CC(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let a;const o=t===a?.5:t,s=2*o-1,l=n.a-i.a,u=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=AC(this._rgb,e._rgb,t)),this}clone(){return new Jl(this.rgb)}alpha(e){return this._rgb.a=ii(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=ns(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vs(this._rgb,2,e),this}darken(e){return vs(this._rgb,2,-e),this}saturate(e){return vs(this._rgb,1,e),this}desaturate(e){return vs(this._rgb,1,-e),this}rotate(e){return _C(this._rgb,e),this}}function u1(r){return new Jl(r)}function c1(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fm(r){return c1(r)?r:u1(r)}function Kc(r){return c1(r)?r:u1(r).saturate(.5).darken(.1).hexString()}const NC=["x","y","borderWidth","radius","tension"],RC=["color","borderColor","backgroundColor"];function LC(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:RC},numbers:{type:"number",properties:NC}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function IC(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dm=new Map;function $C(r,e){e=e||{};const t=r+JSON.stringify(e);let n=dm.get(t);return n||(n=new Intl.NumberFormat(r,e),dm.set(t,n)),n}function wc(r,e,t){return $C(e,t).format(r)}const f1={values(r){return nt(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,a=r;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=BC(r,t)}const o=Qn(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),wc(r,n,l)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(Qn(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?f1.numeric.call(this,r,e,t):""}};function BC(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var kc={formatters:f1};function HC(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ji=Object.create(null),cd=Object.create(null);function No(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function Xc(r,e,t){return typeof e=="string"?Wo(No(r,e),t):Wo(No(r,""),e)}class FC{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Kc(i.backgroundColor),this.hoverBorderColor=(n,i)=>Kc(i.borderColor),this.hoverColor=(n,i)=>Kc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Xc(this,e,t)}get(e){return No(this,e)}describe(e,t){return Xc(cd,e,t)}override(e,t){return Xc(ji,e,t)}route(e,t,n,i){const a=No(this,e),o=No(this,n),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[s],u=o[i];return Re(l)?Object.assign({},u,l):He(l,u)},set(l){this[s]=l}}})}apply(e){e.forEach(t=>t(this))}}var ct=new FC({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LC,IC,HC]);function zC(r){return!r||Ze(r.size)||Ze(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function Ql(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function VC(r,e,t,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let o=0;const s=t.length;let l,u,c,f,d;for(l=0;l<s;l++)if(f=t[l],f!=null&&nt(f)!==!0)o=Ql(r,i,a,o,f);else if(nt(f))for(u=0,c=f.length;u<c;u++)d=f[u],d!=null&&!nt(d)&&(o=Ql(r,i,a,o,d));r.restore();const h=a.length/2;if(h>t.length){for(l=0;l<h;l++)delete i[a[l]];a.splice(0,h)}return o}function xi(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function hm(r,e){e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore()}function pm(r,e,t,n){d1(r,e,t,n,null)}function d1(r,e,t,n,i){let a,o,s,l,u,c,f,d;const h=e.pointStyle,p=e.rotation,v=e.radius;let m=(p||0)*eC;if(h&&typeof h=="object"&&(a=h.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(m),r.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),r.restore();return}if(!(isNaN(v)||v<=0)){switch(r.beginPath(),h){default:i?r.ellipse(t,n,i/2,v,0,0,it):r.arc(t,n,v,0,it),r.closePath();break;case"triangle":c=i?i/2:v,r.moveTo(t+Math.sin(m)*c,n-Math.cos(m)*v),m+=em,r.lineTo(t+Math.sin(m)*c,n-Math.cos(m)*v),m+=em,r.lineTo(t+Math.sin(m)*c,n-Math.cos(m)*v),r.closePath();break;case"rectRounded":u=v*.516,l=v-u,o=Math.cos(m+ki)*l,f=Math.cos(m+ki)*(i?i/2-u:l),s=Math.sin(m+ki)*l,d=Math.sin(m+ki)*(i?i/2-u:l),r.arc(t-f,n-s,u,m-bt,m-at),r.arc(t+d,n-o,u,m-at,m),r.arc(t+f,n+s,u,m,m+at),r.arc(t-d,n+o,u,m+at,m+bt),r.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,c=i?i/2:l,r.rect(t-c,n-l,2*c,2*l);break}m+=ki;case"rectRot":f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+d,n-o),r.lineTo(t+f,n+s),r.lineTo(t-d,n+o),r.closePath();break;case"crossRot":m+=ki;case"cross":f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+f,n+s),r.moveTo(t+d,n-o),r.lineTo(t-d,n+o);break;case"star":f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+f,n+s),r.moveTo(t+d,n-o),r.lineTo(t-d,n+o),m+=ki,f=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),r.moveTo(t-f,n-s),r.lineTo(t+f,n+s),r.moveTo(t+d,n-o),r.lineTo(t-d,n+o);break;case"line":o=i?i/2:Math.cos(m)*v,s=Math.sin(m)*v,r.moveTo(t-o,n-s),r.lineTo(t+o,n+s);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(m)*(i?i/2:v),n+Math.sin(m)*v);break}r.fill(),e.borderWidth>0&&r.stroke()}}function h1(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function Op(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function Mp(r){r.restore()}function Ra(r,e,t,n,i,a={}){const o=nt(e)?e:[e],s=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(r.save(),r.font=i.string,qC(r,a),l=0;l<o.length;++l)u=o[l],a.backdrop&&WC(r,a.backdrop),s&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),Ze(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(u,t,n,a.maxWidth)),r.fillText(u,t,n,a.maxWidth),UC(r,t,n,u,a),n+=i.lineHeight;r.restore()}function qC(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Ze(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function UC(r,e,t,n,i){if(i.strikethrough||i.underline){const a=r.measureText(n),o=e-a.actualBoundingBoxLeft,s=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,u=t+a.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(o,c),r.lineTo(s,c),r.stroke()}}function WC(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Zl(r,e){const{x:t,y:n,w:i,h:a,radius:o}=e;r.arc(t+o.topLeft,n+o.topLeft,o.topLeft,-at,bt,!0),r.lineTo(t,n+a-o.bottomLeft),r.arc(t+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,bt,at,!0),r.lineTo(t+i-o.bottomRight,n+a),r.arc(t+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,at,0,!0),r.lineTo(t+i,n+o.topRight),r.arc(t+i-o.topRight,n+o.topRight,o.topRight,0,-at,!0),r.lineTo(t+o.topLeft,n)}const jC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GC(r,e){const t=(""+r).match(jC);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const KC=r=>+r||0;function Ep(r,e){const t={},n=Re(e),i=n?Object.keys(e):e,a=Re(r)?n?o=>He(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of i)t[o]=KC(a(o));return t}function XC(r){return Ep(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Oa(r){return Ep(r,["topLeft","topRight","bottomLeft","bottomRight"])}function rr(r){const e=XC(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(r,e){r=r||{},e=e||ct.font;let t=He(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=He(r.style,e.style);n&&!(""+n).match(YC)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:He(r.family,e.family),lineHeight:GC(He(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:He(r.weight,e.weight),string:""};return i.string=zC(i),i}function ms(r,e,t,n){let i=!0,a,o,s;for(a=0,o=r.length;a<o;++a)if(s=r[a],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),i=!1),t!==void 0&&nt(s)&&(s=s[t%s.length],i=!1),s!==void 0))return n&&!i&&(n.cacheable=!1),s}function JC(r,e,t){const{min:n,max:i}=r,a=Qw(e,(i-n)/2),o=(s,l)=>t&&s===0?0:s+l;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function oa(r,e){return Object.assign(Object.create(r),e)}function Dp(r,e=[""],t=r,n,i=()=>r[0]){Ur(n)||(n=g1("_fallback",r));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:t,_fallback:n,_getTarget:i,override:o=>Dp([o,...r],e,t,n)};return new Proxy(a,{deleteProperty(o,s){return delete o[s],delete o._keys,delete r[0][s],!0},get(o,s){return v1(o,s,()=>aS(s,e,r,o))},getOwnPropertyDescriptor(o,s){return Reflect.getOwnPropertyDescriptor(o._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(o,s){return mm(o).includes(s)},ownKeys(o){return mm(o)},set(o,s,l){const u=o._storage||(o._storage=i());return o[s]=u[s]=l,delete o._keys,!0}})}function La(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:p1(r,n),setContext:a=>La(r,a,t,n),override:a=>La(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete r[o],!0},get(a,o,s){return v1(a,o,()=>ZC(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(a,o,s){return r[o]=s,delete a[o],!0}})}function p1(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:ci(t)?t:()=>t,isIndexable:ci(n)?n:()=>n}}const QC=(r,e)=>r?r+kp(e):e,Ap=(r,e)=>Re(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function v1(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e))return r[e];const n=t();return r[e]=n,n}function ZC(r,e,t){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=r;let s=n[e];return ci(s)&&o.isScriptable(e)&&(s=eS(e,s,r,t)),nt(s)&&s.length&&(s=tS(e,s,r,o.isIndexable)),Ap(e,s)&&(s=La(s,i,a&&a[e],o)),s}function eS(r,e,t,n){const{_proxy:i,_context:a,_subProxy:o,_stack:s}=t;if(s.has(r))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+r);return s.add(r),e=e(a,o||n),s.delete(r),Ap(r,e)&&(e=Pp(i._scopes,i,r,e)),e}function tS(r,e,t,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:s}=t;if(Ur(a.index)&&n(r))e=e[a.index%e.length];else if(Re(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const f=Pp(u,i,r,c);e.push(La(f,a,o&&o[r],s))}}return e}function m1(r,e,t){return ci(r)?r(e,t):r}const rS=(r,e)=>r===!0?e:typeof r=="string"?jo(e,r):void 0;function nS(r,e,t,n,i){for(const a of e){const o=rS(t,a);if(o){r.add(o);const s=m1(o._fallback,t,i);if(Ur(s)&&s!==t&&s!==n)return s}else if(o===!1&&Ur(n)&&t!==n)return null}return!1}function Pp(r,e,t,n){const i=e._rootScopes,a=m1(e._fallback,t,n),o=[...r,...i],s=new Set;s.add(n);let l=vm(s,o,t,a||t,n);return l===null||Ur(a)&&a!==t&&(l=vm(s,o,a,l,n),l===null)?!1:Dp(Array.from(s),[""],i,a,()=>iS(e,t,n))}function vm(r,e,t,n,i){for(;t;)t=nS(r,e,t,n,i);return t}function iS(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return nt(i)&&Re(t)?t:i||{}}function aS(r,e,t,n){let i;for(const a of e)if(i=g1(QC(a,r),t),Ur(i))return Ap(r,i)?Pp(t,n,r,i):i}function g1(r,e){for(const t of e){if(!t)continue;const n=t[r];if(Ur(n))return n}}function mm(r){let e=r._keys;return e||(e=r._keys=oS(r._scopes)),e}function oS(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function y1(){return typeof window<"u"&&typeof document<"u"}function Np(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function eu(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const xc=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function sS(r,e){return xc(r).getPropertyValue(e)}const lS=["top","right","bottom","left"];function Hi(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=lS[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const uS=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function cS(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:a}=n;let o=!1,s,l;if(uS(i,a,r.target))s=i,l=a;else{const u=e.getBoundingClientRect();s=n.clientX-u.left,l=n.clientY-u.top,o=!0}return{x:s,y:l,box:o}}function Di(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=xc(t),a=i.boxSizing==="border-box",o=Hi(i,"padding"),s=Hi(i,"border","width"),{x:l,y:u,box:c}=cS(r,t),f=o.left+(c&&s.left),d=o.top+(c&&s.top);let{width:h,height:p}=e;return a&&(h-=o.width+s.width,p-=o.height+s.height),{x:Math.round((l-f)/h*t.width/n),y:Math.round((u-d)/p*t.height/n)}}function fS(r,e,t){let n,i;if(e===void 0||t===void 0){const a=Np(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{const o=a.getBoundingClientRect(),s=xc(a),l=Hi(s,"border","width"),u=Hi(s,"padding");e=o.width-u.width-l.width,t=o.height-u.height-l.height,n=eu(s.maxWidth,a,"clientWidth"),i=eu(s.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||Yl,maxHeight:i||Yl}}const gs=r=>Math.round(r*10)/10;function dS(r,e,t,n){const i=xc(r),a=Hi(i,"margin"),o=eu(i.maxWidth,r,"clientWidth")||Yl,s=eu(i.maxHeight,r,"clientHeight")||Yl,l=fS(r,e,t);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=Hi(i,"border","width"),h=Hi(i,"padding");u-=h.width+d.width,c-=h.height+d.height}return u=Math.max(0,u-a.width),c=Math.max(0,n?Math.floor(u/n):c-a.height),u=gs(Math.min(u,o,l.maxWidth)),c=gs(Math.min(c,s,l.maxHeight)),u&&!c&&(c=gs(u/2)),(e!==void 0||t!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=gs(Math.floor(c*n))),{width:u,height:c}}function gm(r,e,t){const n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=i/n,r.width=a/n;const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(r.currentDevicePixelRatio=n,o.height=i,o.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const hS=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return r}();function ym(r,e){const t=sS(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const pS=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},vS=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Ma(r,e,t){return r?pS(e,t):vS()}function b1(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function w1(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.0.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class mS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const a=t.listeners[i],o=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=n1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,s=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),s=!0):(a[o]=a[a.length-1],a.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _n=new mS;const bm="transparent",gS={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=fm(r||bm),i=n.valid&&fm(e||bm);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class yS{constructor(e,t,n,i){const a=t[n];i=ms([e.to,i,a,e.from]);const o=ms([e.from,a,i]);this._active=!0,this._fn=e.fn||gS[e.type||typeof o],this._easing=om[e.easing]||om.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=ms([e.to,t,i,e.from]),this._from=ms([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to;let l;if(this._active=a!==s&&(o||t<n),!this._active){this._target[i]=s,this._notify(!0);return}if(t<0){this._target[i]=a;return}l=t/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,s,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class k1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Re(e))return;const t=Object.keys(ct.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!Re(a))return;const o={};for(const s of t)o[s]=a[s];(nt(a.properties)&&a.properties||[i]).forEach(s=>{(s===i||!n.has(s))&&n.set(s,o)})})}_animateOptions(e,t){const n=t.options,i=wS(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&bS(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}const c=t[u];let f=a[u];const d=n.get(u);if(f)if(d&&f.active()){f.update(d,c,s);continue}else f.cancel();if(!d||!d.duration){e[u]=c;continue}a[u]=f=new yS(d,e,u,c),i.push(f)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return _n.add(this._chart,n),!0}}function bS(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function wS(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function wm(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function kS(r,e,t){if(t===!1)return!1;const n=wm(r,t),i=wm(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function xS(r){let e,t,n,i;return Re(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function x1(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function km(r,e,t,n={}){const i=r.keys,a=n.mode==="single";let o,s,l,u;if(e!==null){for(o=0,s=i.length;o<s;++o){if(l=+i[o],l===t){if(n.all)continue;break}u=r.values[l],xt(u)&&(a||e===0||Gl(e)===Gl(u))&&(e+=u)}return e}}function TS(r){const e=Object.keys(r),t=new Array(e.length);let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],t[n]={x:a,y:r[a]};return t}function xm(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function _S(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function CS(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function SS(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function Tm(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function _m(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:s}=n,l=a.axis,u=o.axis,c=_S(a,o,n),f=e.length;let d;for(let h=0;h<f;++h){const p=e[h],{[l]:v,[u]:m}=p,g=p._stacks||(p._stacks={});d=g[u]=SS(i,c,v),d[s]=m,d._top=Tm(d,o,!0,n.type),d._bottom=Tm(d,o,!1,n.type)}}function Jc(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function OS(r,e){return oa(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MS(r,e,t){return oa(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function oo(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(!!n){e=e||r._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t]}}}const Qc=r=>r==="reset"||r==="none",Cm=(r,e)=>e?r:Object.assign({},r),ES=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:x1(t,!0),values:null};class Ro{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&oo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(f,d,h,p)=>f==="x"?d:f==="r"?p:h,a=t.xAxisID=He(n.xAxisID,Jc(e,"x")),o=t.yAxisID=He(n.yAxisID,Jc(e,"y")),s=t.rAxisID=He(n.rAxisID,Jc(e,"r")),l=t.indexAxis,u=t.iAxisID=i(l,a,o,s),c=t.vAxisID=i(l,o,a,s);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nm(this._data,this),e._stacked&&oo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Re(t))this._data=TS(t);else if(n!==t){if(n){nm(n,this);const i=this._cachedMeta;oo(i),i._parsed=[]}t&&Object.isExtensible(t)&&sC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=xm(t.vScale,t),t.stack!==n.stack&&(i=!0,oo(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&_m(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,s=a.axis;let l=e===0&&t===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,d;if(this._parsing===!1)n._parsed=i,n._sorted=!0,d=i;else{nt(i[e])?d=this.parseArrayData(n,i,e,t):Re(i[e])?d=this.parseObjectData(n,i,e,t):d=this.parsePrimitiveData(n,i,e,t);const h=()=>f[s]===null||u&&f[s]<u[s];for(c=0;c<t;++c)n._parsed[c+e]=f=d[c],l&&(h()&&(l=!1),u=f);n._sorted=l}o&&_m(this,d)}parsePrimitiveData(e,t,n,i){const{iScale:a,vScale:o}=e,s=a.axis,l=o.axis,u=a.getLabels(),c=a===o,f=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+n,f[d]={[s]:c||a.parse(u[p],p),[l]:o.parse(t[p],p)};return f}parseArrayData(e,t,n,i){const{xScale:a,yScale:o}=e,s=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+n,f=t[c],s[l]={x:a.parse(f[0],c),y:o.parse(f[1],c)};return s}parseObjectData(e,t,n,i){const{xScale:a,yScale:o}=e,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,d,h;for(c=0,f=i;c<f;++c)d=c+n,h=t[d],u[c]={x:a.parse(jo(h,s),d),y:o.parse(jo(h,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,a=this._cachedMeta,o=t[e.axis],s={keys:x1(i,!0),values:t._stacks[e.axis]};return km(s,o,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const a=n[t.axis];let o=a===null?NaN:a;const s=i&&n._stacks[t.axis];i&&s&&(i.values=s,o=km(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,o=i.length,s=this._getOtherScale(e),l=ES(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=CS(s);let d,h;function p(){h=i[d];const v=h[s.axis];return!xt(h[e.axis])||c>v||f<v}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(u,e,h,l),a));++d);if(a){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,h,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=t.length;i<a;++i)o=t[i][e.axis],xt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=xS(He(this.options.clip,kS(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||i.length-s,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,a,s,l),c=s;c<s+l;++c){const f=i[c];f.hidden||(f.active&&u?o.push(f):f.draw(e,a))}for(c=0;c<o.length;++c)o[c].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=MS(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=OS(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",a=this._cachedDataOpts,o=e+"-"+t,s=a[o],l=this.enableOptionSharing&&Ur(n);if(s)return Cm(s,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),h=Object.keys(ct.elements[e]),p=()=>this.getContext(n,i),v=u.resolveNamedOptions(d,h,p,f);return v.$shared&&(v.$shared=l,a[o]=Object.freeze(Cm(v,l))),v}_resolveAnimations(e,t,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${t}`,s=a[o];if(s)return s;let l;if(i.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,t),d=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(d,this.getContext(e,n,t))}const u=new k1(i,l&&l.animations);return l&&l._cacheable&&(a[o]=Object.freeze(u)),u}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Qc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:o}}updateElement(e,t,n,i){Qc(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Qc(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,l,u]of this._syncList)this[s](l,u);this._syncList=[];const i=n.length,a=t.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){const i=this._cachedMeta,a=i.data,o=e+t;let s;const l=u=>{for(u.length+=t,s=u.length-1;s>=o;s--)u[s]=u[s-t]};for(l(a),s=e;s<o;++s)a[s]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&oo(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Oe(Ro,"defaults",{}),Oe(Ro,"datasetElementType",null),Oe(Ro,"dataElementType",null);function DS(r,e,t){let n=1,i=1,a=0,o=0;if(e<it){const s=r,l=s+e,u=Math.cos(s),c=Math.sin(s),f=Math.cos(l),d=Math.sin(l),h=(k,T,x)=>Xl(k,s,l,!0)?1:Math.max(T,T*t,x,x*t),p=(k,T,x)=>Xl(k,s,l,!0)?-1:Math.min(T,T*t,x,x*t),v=h(0,u,f),m=h(at,c,d),g=p(bt,u,f),b=p(bt+at,c,d);n=(v-g)/2,i=(m-b)/2,a=-(v+g)/2,o=-(m+b)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class _o extends Ro{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=l=>+n[l];if(Re(n[e])){const{key:l="value"}=this._parsing;a=u=>+jo(n[u],l)}let o,s;for(o=e,s=e+t;o<s;++o)i._parsed[o]=a(o)}}_getRotation(){return un(this.options.rotation-90)}_getCircumference(){return un(this.options.circumference)}_getRotationExtents(){let e=it,t=-it;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(G_(this.options.cutout,s),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:p,offsetY:v}=DS(f,c,l),m=(n.width-o)/d,g=(n.height-o)/h,b=Math.max(Math.min(m,g)/2,0),k=Qw(this.options.radius,b),T=Math.max(k*l,0),x=(k-T)/this._getVisibleDatasetWeightTotal();this.offsetX=p*k,this.offsetY=v*k,i.total=this.calculateTotal(),this.outerRadius=k-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/it)}updateElements(e,t,n,i){const a=i==="reset",o=this.chart,s=o.chartArea,u=o.options.animation,c=(s.left+s.right)/2,f=(s.top+s.bottom)/2,d=a&&u.animateScale,h=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:v,includeOptions:m}=this._getSharedOptions(t,i);let g=this._getRotation(),b;for(b=0;b<t;++b)g+=this._circumference(b,a);for(b=t;b<t+n;++b){const k=this._circumference(b,a),T=e[b],x={x:c+this.offsetX,y:f+this.offsetY,startAngle:g,endAngle:g+k,circumference:k,outerRadius:p,innerRadius:h};m&&(x.options=v||this.resolveDataElementOptions(b,T.active?"active":i)),g+=k,this.updateElement(T,b,x,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?it*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=wc(t._parsed[e],n.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,a,o,s,l;if(!e){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,s=o.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)l=s.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(He(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Oe(_o,"id","doughnut"),Oe(_o,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Oe(_o,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),Oe(_o,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((a,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class fd extends _o{}Oe(fd,"id","pie"),Oe(fd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ti(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rp{static override(e){Object.assign(Rp.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return Ti()}parse(){return Ti()}format(){return Ti()}add(){return Ti()}diff(){return Ti()}startOf(){return Ti()}endOf(){return Ti()}}var AS={_date:Rp};function PS(r,e,t,n){const{controller:i,data:a,_sorted:o}=r,s=i._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&o&&a.length){const l=s._reversePixels?aC:ld;if(n){if(i._sharedOptions){const u=a[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const f=l(a,e,t-c),d=l(a,e,t+c);return{lo:f.lo,hi:d.hi}}}}else return l(a,e,t)}return{lo:0,hi:a.length-1}}function is(r,e,t,n,i){const a=r.getSortedVisibleDatasetMetas(),o=t[e];for(let s=0,l=a.length;s<l;++s){const{index:u,data:c}=a[s],{lo:f,hi:d}=PS(a[s],e,o,i);for(let h=f;h<=d;++h){const p=c[h];p.skip||n(p,u,h)}}}function NS(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,o=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Zc(r,e,t,n,i){const a=[];return!i&&!r.isPointInArea(e)||is(r,t,e,function(s,l,u){!i&&!h1(s,r.chartArea,0)||s.inRange(e.x,e.y,n)&&a.push({element:s,datasetIndex:l,index:u})},!0),a}function RS(r,e,t,n){let i=[];function a(o,s,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],n),{angle:f}=t1(o,{x:e.x,y:e.y});Xl(f,u,c)&&i.push({element:o,datasetIndex:s,index:l})}return is(r,t,e,a),i}function LS(r,e,t,n,i,a){let o=[];const s=NS(t);let l=Number.POSITIVE_INFINITY;function u(c,f,d){const h=c.inRange(e.x,e.y,i);if(n&&!h)return;const p=c.getCenterPoint(i);if(!(!!a||r.isPointInArea(p))&&!h)return;const m=s(e,p);m<l?(o=[{element:c,datasetIndex:f,index:d}],l=m):m===l&&o.push({element:c,datasetIndex:f,index:d})}return is(r,t,e,u),o}function ef(r,e,t,n,i,a){return!a&&!r.isPointInArea(e)?[]:t==="r"&&!n?RS(r,e,t,i):LS(r,e,t,n,i,a)}function Sm(r,e,t,n,i){const a=[],o=t==="x"?"inXRange":"inYRange";let s=!1;return is(r,t,e,(l,u,c)=>{l[o](e[t],i)&&(a.push({element:l,datasetIndex:u,index:c}),s=s||l.inRange(e.x,e.y,i))}),n&&!s?[]:a}var IS={evaluateInteractionItems:is,modes:{index(r,e,t,n){const i=Di(e,r),a=t.axis||"x",o=t.includeInvisible||!1,s=t.intersect?Zc(r,i,a,n,o):ef(r,i,a,!1,n,o),l=[];return s.length?(r.getSortedVisibleDatasetMetas().forEach(u=>{const c=s[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(r,e,t,n){const i=Di(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;let s=t.intersect?Zc(r,i,a,n,o):ef(r,i,a,!1,n,o);if(s.length>0){const l=s[0].datasetIndex,u=r.getDatasetMeta(l).data;s=[];for(let c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:l,index:c})}return s},point(r,e,t,n){const i=Di(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return Zc(r,i,a,n,o)},nearest(r,e,t,n){const i=Di(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return ef(r,i,a,t.intersect,n,o)},x(r,e,t,n){const i=Di(e,r);return Sm(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=Di(e,r);return Sm(r,i,"y",t.intersect,n)}}};const T1=["left","top","right","bottom"];function so(r,e){return r.filter(t=>t.pos===e)}function Om(r,e){return r.filter(t=>T1.indexOf(t.pos)===-1&&t.box.axis===e)}function lo(r,e){return r.sort((t,n)=>{const i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function $S(r){const e=[];let t,n,i,a,o,s;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:o,stackWeight:s=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:s});return e}function BS(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:a}=t;if(!n||!T1.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function HS(r,e){const t=BS(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,o,s;for(a=0,o=r.length;a<o;++a){s=r[a];const{fullSize:l}=s.box,u=t[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*n:l&&e.availableWidth,s.height=i):(s.width=n,s.height=c?c*i:l&&e.availableHeight)}return t}function FS(r){const e=$S(r),t=lo(e.filter(u=>u.box.fullSize),!0),n=lo(so(e,"left"),!0),i=lo(so(e,"right")),a=lo(so(e,"top"),!0),o=lo(so(e,"bottom")),s=Om(e,"x"),l=Om(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(o).concat(s),chartArea:so(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(o).concat(s)}}function Mm(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function _1(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function zS(r,e,t,n){const{pos:i,box:a}=t,o=r.maxPadding;if(!Re(i)){t.size&&(r[i]-=t.size);const f=n[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?a.height:a.width),t.size=f.size/f.count,r[i]+=t.size}a.getPadding&&_1(o,a.getPadding());const s=Math.max(0,e.outerWidth-Mm(o,r,"left","right")),l=Math.max(0,e.outerHeight-Mm(o,r,"top","bottom")),u=s!==r.w,c=l!==r.h;return r.w=s,r.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function VS(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function qS(r,e){const t=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return n(r?["left","right"]:["top","bottom"])}function Co(r,e,t,n){const i=[];let a,o,s,l,u,c;for(a=0,o=r.length,u=0;a<o;++a){s=r[a],l=s.box,l.update(s.width||e.w,s.height||e.h,qS(s.horizontal,e));const{same:f,other:d}=zS(e,t,s,n);u|=f&&i.length,c=c||d,l.fullSize||i.push(s)}return u&&Co(i,e,t,n)||c}function ys(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function Em(r,e,t,n){const i=t.padding;let{x:a,y:o}=e;for(const s of r){const l=s.box,u=n[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){const f=e.w*c,d=u.size||l.height;Ur(u.start)&&(o=u.start),l.fullSize?ys(l,i.left,o,t.outerWidth-i.right-i.left,d):ys(l,e.left+u.placed,o,f,d),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*c,d=u.size||l.width;Ur(u.start)&&(a=u.start),l.fullSize?ys(l,a,i.top,d,t.outerHeight-i.bottom-i.top):ys(l,a,e.top+u.placed,d,f),u.start=a,u.placed+=f,a=l.right}}e.x=a,e.y=o}var ei={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=rr(r.options.layout.padding),a=Math.max(e-i.width,0),o=Math.max(t-i.height,0),s=FS(r.boxes),l=s.vertical,u=s.horizontal;Ve(r.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const c=l.reduce((v,m)=>m.box.options&&m.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);_1(d,rr(n));const h=Object.assign({maxPadding:d,w:a,h:o,x:i.left,y:i.top},i),p=HS(l.concat(u),f);Co(s.fullSize,h,f,p),Co(l,h,f,p),Co(u,h,f,p)&&Co(l,h,f,p),VS(h),Em(s.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,Em(s.rightAndBottom,h,f,p),r.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ve(s.chartArea,v=>{const m=v.box;Object.assign(m,r.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class C1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class US extends C1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const js="$chartjs",WS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dm=r=>r===null||r==="";function jS(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[js]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Dm(i)){const a=ym(r,"width");a!==void 0&&(r.width=a)}if(Dm(n))if(r.style.height==="")r.height=r.width/(e||2);else{const a=ym(r,"height");a!==void 0&&(r.height=a)}return r}const S1=hS?{passive:!0}:!1;function YS(r,e,t){r.addEventListener(e,t,S1)}function GS(r,e,t){r.canvas.removeEventListener(e,t,S1)}function KS(r,e){const t=WS[r.type]||r.type,{x:n,y:i}=Di(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function tu(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function XS(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||tu(s.addedNodes,n),o=o&&!tu(s.removedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function JS(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||tu(s.removedNodes,n),o=o&&!tu(s.addedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Yo=new Map;let Am=0;function O1(){const r=window.devicePixelRatio;r!==Am&&(Am=r,Yo.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function QS(r,e){Yo.size||window.addEventListener("resize",O1),Yo.set(r,e)}function ZS(r){Yo.delete(r),Yo.size||window.removeEventListener("resize",O1)}function eO(r,e,t){const n=r.canvas,i=n&&Np(n);if(!i)return;const a=i1((s,l)=>{const u=i.clientWidth;t(s,l),u<i.clientWidth&&t()},window),o=new ResizeObserver(s=>{const l=s[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||a(u,c)});return o.observe(i),QS(r,a),o}function tf(r,e,t){t&&t.disconnect(),e==="resize"&&ZS(r)}function tO(r,e,t){const n=r.canvas,i=i1(a=>{r.ctx!==null&&t(KS(a,r))},r);return YS(n,e,i),i}class rO extends C1{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(jS(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[js])return!1;const n=t[js].initial;["height","width"].forEach(a=>{const o=n[a];Ze(o)?t.removeAttribute(a):t.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[js],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:XS,detach:JS,resize:eO}[t]||tO;i[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:tf,detach:tf,resize:tf}[t]||GS)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return dS(e,t,n,i)}isAttached(e){const t=Np(e);return!!(t&&t.isConnected)}}function nO(r){return!y1()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?US:rO}class Yi{constructor(){Oe(this,"active",!1)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Kl(this.x)&&Kl(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}Oe(Yi,"defaults",{}),Oe(Yi,"defaultRoutes");function iO(r,e){const t=r.options.ticks,n=aO(r),i=Math.min(t.maxTicksLimit||n,n),a=t.major.enabled?sO(e):[],o=a.length,s=a[0],l=a[o-1],u=[];if(o>i)return lO(e,u,a,o/i),u;const c=oO(a,e,i);if(o>0){let f,d;const h=o>1?Math.round((l-s)/(o-1)):null;for(bs(e,u,c,Ze(h)?0:s-h,s),f=0,d=o-1;f<d;f++)bs(e,u,c,a[f],a[f+1]);return bs(e,u,c,l,Ze(h)?e.length:l+h),u}return bs(e,u,c),u}function aO(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function oO(r,e,t){const n=uO(r),i=e.length/t;if(!n)return Math.max(i,1);const a=tC(n);for(let o=0,s=a.length-1;o<s;o++){const l=a[o];if(l>i)return l}return Math.max(i,1)}function sO(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function lO(r,e,t,n){let i=0,a=t[0],o;for(n=Math.ceil(n),o=0;o<r.length;o++)o===a&&(e.push(r[o]),i++,a=t[i*n])}function bs(r,e,t,n,i){const a=He(n,0),o=Math.min(He(i,r.length),r.length);let s=0,l,u,c;for(t=Math.ceil(t),i&&(l=i-n,t=l/Math.floor(l/t)),c=a;c<0;)s++,c=Math.round(a+s*t);for(u=Math.max(a,0);u<o;u++)u===c&&(e.push(r[u]),s++,c=Math.round(a+s*t))}function uO(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const cO=r=>r==="left"?"right":r==="right"?"left":r,Pm=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t;function Nm(r,e){const t=[],n=r.length/e,i=r.length;let a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function fO(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,o=r._endPixel,s=1e-6;let l=r.getPixelForTick(i),u;if(!(t&&(n===1?u=Math.max(l-a,o-l):e===0?u=(r.getPixelForTick(1)-l)/2:u=(l-r.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<a-s||l>o+s)))return l}function dO(r,e){Ve(r,t=>{const n=t.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function uo(r){return r.drawTicks?r.tickLength:0}function Rm(r,e){if(!r.display)return 0;const t=Rt(r.font,e),n=rr(r.padding);return(nt(r.text)?r.text.length:1)*t.lineHeight+n.height}function hO(r,e){return oa(r,{scale:e,type:"scale"})}function pO(r,e,t){return oa(r,{tick:t,index:e,type:"tick"})}function vO(r,e,t){let n=a1(r);return(t&&e!=="right"||!t&&e==="right")&&(n=cO(n)),n}function mO(r,e,t,n){const{top:i,left:a,bottom:o,right:s,chart:l}=r,{chartArea:u,scales:c}=l;let f=0,d,h,p;const v=o-i,m=s-a;if(r.isHorizontal()){if(h=gr(n,a,s),Re(t)){const g=Object.keys(t)[0],b=t[g];p=c[g].getPixelForValue(b)+v-e}else t==="center"?p=(u.bottom+u.top)/2+v-e:p=Pm(r,t,e);d=s-a}else{if(Re(t)){const g=Object.keys(t)[0],b=t[g];h=c[g].getPixelForValue(b)-m+e}else t==="center"?h=(u.left+u.right)/2-m+e:h=Pm(r,t,e);p=gr(n,o,i),f=t==="left"?-at:at}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}class ro extends Yi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=yr(e,Number.POSITIVE_INFINITY),t=yr(t,Number.NEGATIVE_INFINITY),n=yr(n,Number.POSITIVE_INFINITY),i=yr(i,Number.NEGATIVE_INFINITY),{min:yr(e,n),max:yr(t,i),minDefined:xt(e),maxDefined:xt(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:t,max:n};const s=this.getMatchingVisibleMetas();for(let l=0,u=s.length;l<u;++l)o=s[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),a||(n=Math.max(n,o.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:yr(t,yr(n,t)),max:yr(n,yr(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JC(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=s<this.ticks.length;this._convertTicksToLabels(l?Nm(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=iO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=je(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,a=t.maxRotation;let o=i,s,l,u;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,h=Dr(this.chart.width-f,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),f+6>s&&(s=h/(n-(e.offset?.5:1)),l=this.maxHeight-uo(e.grid)-t.padding-Rm(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),o=xp(Math.min(Math.asin(Dr((c.highest.height+6)/s,-1,1)),Math.asin(Dr(l/u,-1,1))-Math.asin(Dr(d/u,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const l=Rm(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=uo(a)+l):(e.height=this.maxHeight,e.width=uo(a)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),h=n.padding*2,p=un(this.labelRotation),v=Math.cos(p),m=Math.sin(p);if(s){const g=n.mirror?0:m*f.width+v*d.height;e.height=Math.min(this.maxHeight,e.height+g+h)}else{const g=n.mirror?0:v*f.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+g+h)}this._calculatePadding(u,c,m,v)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:a,padding:o},position:s}=this.options,l=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;l?u?(d=i*e.width,h=n*t.height):(d=n*e.height,h=i*t.width):a==="start"?h=t.width:a==="end"?d=e.width:a!=="inner"&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-f+o)*this.width/(this.width-f),0)}else{let c=t.height/2,f=e.height/2;a==="start"?(c=0,f=e.height):a==="end"&&(c=t.height,f=0),this.paddingTop=c+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Ze(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Nm(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:i}=this,a=[],o=[];let s=0,l=0,u,c,f,d,h,p,v,m,g,b,k;for(u=0;u<t;++u){if(d=e[u].label,h=this._resolveTickFontOptions(u),n.font=p=h.string,v=i[p]=i[p]||{data:{},gc:[]},m=h.lineHeight,g=b=0,!Ze(d)&&!nt(d))g=Ql(n,v.data,v.gc,g,d),b=m;else if(nt(d))for(c=0,f=d.length;c<f;++c)k=d[c],!Ze(k)&&!nt(k)&&(g=Ql(n,v.data,v.gc,g,k),b+=m);a.push(g),o.push(b),s=Math.max(g,s),l=Math.max(b,l)}dO(i,t);const T=a.indexOf(s),x=o.indexOf(l),w=_=>({width:a[_]||0,height:o[_]||0});return{first:w(0),last:w(t-1),widest:w(T),highest:w(x),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return iC(this._alignToPixels?xi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=pO(this.getContext(),e,n))}return this.$context||(this.$context=hO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=un(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,s=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*n>s*i?s/n:l/i:l*i<s*n?l/n:s/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:s}=i,l=a.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=uo(a),h=[],p=s.setContext(this.getContext()),v=p.display?p.width:0,m=v/2,g=function($){return xi(n,$,v)};let b,k,T,x,w,_,C,H,V,N,U,R;if(o==="top")b=g(this.bottom),_=this.bottom-d,H=b-m,N=g(e.top)+m,R=e.bottom;else if(o==="bottom")b=g(this.top),N=e.top,R=g(e.bottom)-m,_=b+m,H=this.top+d;else if(o==="left")b=g(this.right),w=this.right-d,C=b-m,V=g(e.left)+m,U=e.right;else if(o==="right")b=g(this.left),V=e.left,U=g(e.right)-m,w=b+m,C=this.left+d;else if(t==="x"){if(o==="center")b=g((e.top+e.bottom)/2+.5);else if(Re(o)){const $=Object.keys(o)[0],y=o[$];b=g(this.chart.scales[$].getPixelForValue(y))}N=e.top,R=e.bottom,_=b+m,H=_+d}else if(t==="y"){if(o==="center")b=g((e.left+e.right)/2);else if(Re(o)){const $=Object.keys(o)[0],y=o[$];b=g(this.chart.scales[$].getPixelForValue(y))}w=b-m,C=w-d,V=e.left,U=e.right}const S=He(i.ticks.maxTicksLimit,f),L=Math.max(1,Math.ceil(f/S));for(k=0;k<f;k+=L){const $=this.getContext(k),y=a.setContext($),A=s.setContext($),B=y.lineWidth,K=y.color,Q=A.dash||[],D=A.dashOffset,P=y.tickWidth,q=y.tickColor,pe=y.tickBorderDash||[],ke=y.tickBorderDashOffset;T=fO(this,k,l),T!==void 0&&(x=xi(n,T,B),u?w=C=V=U=x:_=H=N=R=x,h.push({tx1:w,ty1:_,tx2:C,ty2:H,x1:V,y1:N,x2:U,y2:R,width:B,color:K,borderDash:Q,borderDashOffset:D,tickWidth:P,tickColor:q,tickBorderDash:pe,tickBorderDashOffset:ke}))}return this._ticksLength=f,this._borderValue=b,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=a,d=uo(n.grid),h=d+c,p=f?-c:h,v=-un(this.labelRotation),m=[];let g,b,k,T,x,w,_,C,H,V,N,U,R="middle";if(i==="top")w=this.bottom-p,_=this._getXAxisLabelAlignment();else if(i==="bottom")w=this.top+p,_=this._getXAxisLabelAlignment();else if(i==="left"){const L=this._getYAxisLabelAlignment(d);_=L.textAlign,x=L.x}else if(i==="right"){const L=this._getYAxisLabelAlignment(d);_=L.textAlign,x=L.x}else if(t==="x"){if(i==="center")w=(e.top+e.bottom)/2+h;else if(Re(i)){const L=Object.keys(i)[0],$=i[L];w=this.chart.scales[L].getPixelForValue($)+h}_=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")x=(e.left+e.right)/2-h;else if(Re(i)){const L=Object.keys(i)[0],$=i[L];x=this.chart.scales[L].getPixelForValue($)}_=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const S=this._getLabelSizes();for(g=0,b=s.length;g<b;++g){k=s[g],T=k.label;const L=a.setContext(this.getContext(g));C=this.getPixelForTick(g)+a.labelOffset,H=this._resolveTickFontOptions(g),V=H.lineHeight,N=nt(T)?T.length:1;const $=N/2,y=L.color,A=L.textStrokeColor,B=L.textStrokeWidth;let K=_;o?(x=C,_==="inner"&&(g===b-1?K=this.options.reverse?"left":"right":g===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?u==="near"||v!==0?U=-N*V+V/2:u==="center"?U=-S.highest.height/2-$*V+V:U=-S.highest.height+V/2:u==="near"||v!==0?U=V/2:u==="center"?U=S.highest.height/2-$*V:U=S.highest.height-N*V,f&&(U*=-1),v!==0&&!L.showLabelBackdrop&&(x+=V/2*Math.sin(v))):(w=C,U=(1-N)*V/2);let Q;if(L.showLabelBackdrop){const D=rr(L.backdropPadding),P=S.heights[g],q=S.widths[g];let pe=U-D.top,ke=0-D.left;switch(R){case"middle":pe-=P/2;break;case"bottom":pe-=P;break}switch(_){case"center":ke-=q/2;break;case"right":ke-=q;break}Q={left:ke,top:pe,width:q+D.width,height:P+D.height,color:L.backdropColor}}m.push({rotation:v,label:T,font:H,color:y,strokeColor:A,strokeWidth:B,textOffset:U,textAlign:K,textBaseline:R,translation:[x,w],backdrop:Q})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-un(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),s=e+a,l=o.widest.width;let u,c;return t==="left"?i?(c=this.right+a,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-s,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?i?(c=this.left+a,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+s,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const s=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(a=0,o=i.length;a<o;++a){const l=i[a];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const s=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,d;this.isHorizontal()?(u=xi(e,this.left,o)-o/2,c=xi(e,this.right,s)+s/2,f=d=l):(f=xi(e,this.top,o)-o/2,d=xi(e,this.bottom,s)+s/2,u=c=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(u,f),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Op(n,i);const a=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,s;for(o=0,s=a.length;o<s;++o){const l=a[o],u=l.font,c=l.label;let f=l.textOffset;Ra(n,c,0,f,u,l)}i&&Mp(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const a=Rt(n.font),o=rr(n.padding),s=n.align;let l=a.lineHeight/2;t==="bottom"||t==="center"||Re(t)?(l+=o.bottom,nt(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=mO(this,l,t,s);Ra(e,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:d,textAlign:vO(s,t,i),textBaseline:"middle",translation:[u,c]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=He(e.grid&&e.grid.z,-1),i=He(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ro.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=t.length;a<o;++a){const s=t[a];s[n]===this.id&&(!e||s.type===e)&&i.push(s)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Rt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ws{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;bO(t)&&(n=this.register(t));const i=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,gO(e,o,n),this.override&&ct.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in ct[i]&&(delete ct[i][n],this.override&&delete ji[n])}}function gO(r,e,t){const n=Wo(Object.create(null),[t?ct.get(t):{},ct.get(e),r.defaults]);ct.set(e,n),r.defaultRoutes&&yO(e,r.defaultRoutes),r.descriptors&&ct.describe(e,r.descriptors)}function yO(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),o=e[t].split("."),s=o.pop(),l=o.join(".");ct.route(a,i,l,s)})}function bO(r){return"id"in r&&"defaults"in r}class wO{constructor(){this.controllers=new ws(Ro,"datasets",!0),this.elements=new ws(Yi,"elements"),this.plugins=new ws(Object,"plugins"),this.scales=new ws(ro,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Ve(i,o=>{const s=n||this._getRegistryForType(o);this._exec(e,s,o)})})}_exec(e,t,n){const i=kp(e);je(n["before"+i],[],n),t[e](n),je(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var rn=new wO;class kO{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const a of e){const o=a.plugin,s=o[n],l=[t,i,a.options];if(je(s,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=He(n.options&&n.options.plugins,{}),a=xO(n);return i===!1&&!t?[]:_O(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function xO(r){const e={},t=[],n=Object.keys(rn.plugins.items);for(let a=0;a<n.length;a++)t.push(rn.getPlugin(n[a]));const i=r.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function TO(r,e){return!e&&r===!1?null:r===!0?{}:r}function _O(r,{plugins:e,localIds:t},n,i){const a=[],o=r.getContext();for(const s of e){const l=s.id,u=TO(n[l],i);u!==null&&a.push({plugin:s,options:CO(r.config,{plugin:s,local:t[l]},u,o)})}return a}function CO(r,{plugin:e,local:t},n,i){const a=r.pluginScopeKeys(e),o=r.getOptionScopes(n,a);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dd(r,e){const t=ct.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function SO(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function OO(r,e){return r===e?"_index_":"_value_"}function MO(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function ru(r,e){if(r==="x"||r==="y"||r==="r"||(r=e.axis||MO(e.position)||r.length>1&&ru(r[0].toLowerCase(),e),r))return r;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function EO(r,e){const t=ji[r.type]||{scales:{}},n=e.scales||{},i=dd(r.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{const s=n[o];if(!Re(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ru(o,s),u=OO(l,i),c=t.scales||{};a[o]=Po(Object.create(null),[{axis:l},s,c[l],c[u]])}),r.data.datasets.forEach(o=>{const s=o.type||r.type,l=o.indexAxis||dd(s,e),c=(ji[s]||{}).scales||{};Object.keys(c).forEach(f=>{const d=SO(f,l),h=o[d+"AxisID"]||d;a[h]=a[h]||Object.create(null),Po(a[h],[{axis:d},n[h],c[f]])})}),Object.keys(a).forEach(o=>{const s=a[o];Po(s,[ct.scales[s.type],ct.scale])}),a}function M1(r){const e=r.options||(r.options={});e.plugins=He(e.plugins,{}),e.scales=EO(r,e)}function E1(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function DO(r){return r=r||{},r.data=E1(r.data),M1(r),r}const Lm=new Map,D1=new Set;function ks(r,e){let t=Lm.get(r);return t||(t=e(),Lm.set(r,t),D1.add(t)),t}const co=(r,e,t)=>{const n=jo(e,t);n!==void 0&&r.add(n)};class AO{constructor(e){this._config=DO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=E1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),M1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ks(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ks(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ks(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return ks(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:a}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;const l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(f=>co(l,e,f))),c.forEach(f=>co(l,i,f)),c.forEach(f=>co(l,ji[a]||{},f)),c.forEach(f=>co(l,ct,f)),c.forEach(f=>co(l,cd,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),D1.has(t)&&o.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,ji[t]||{},ct.datasets[t]||{},{type:t},ct,cd]}resolveNamedOptions(e,t,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:s}=Im(this._resolverCache,e,i);let l=o;if(NO(o,t)){a.$shared=!1,n=ci(n)?n():n;const u=this.createResolver(e,n,s);l=La(o,n,u)}for(const u of t)a[u]=l[u];return a}createResolver(e,t,n=[""],i){const{resolver:a}=Im(this._resolverCache,e,n);return Re(t)?La(a,t,void 0,i):a}}function Im(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let a=n.get(i);return a||(a={resolver:Dp(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},n.set(i,a)),a}const PO=r=>Re(r)&&Object.getOwnPropertyNames(r).reduce((e,t)=>e||ci(r[t]),!1);function NO(r,e){const{isScriptable:t,isIndexable:n}=p1(r);for(const i of e){const a=t(i),o=n(i),s=(o||a)&&r[i];if(a&&(ci(s)||PO(s))||o&&nt(s))return!0}return!1}var RO="4.0.1";const LO=["top","bottom","left","right","chartArea"];function $m(r,e){return r==="top"||r==="bottom"||LO.indexOf(r)===-1&&e==="x"}function Bm(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function Hm(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),je(t&&t.onComplete,[r],e)}function IO(r){const e=r.chart,t=e.options.animation;je(t&&t.onProgress,[r],e)}function A1(r){return y1()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Ys={},Fm=r=>{const e=A1(r);return Object.values(Ys).filter(t=>t.canvas===e).pop()};function $O(r,e,t){const n=Object.keys(r);for(const i of n){const a=+i;if(a>=e){const o=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=o)}}}function BO(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}function HO(r){const{xScale:e,yScale:t}=r;if(e&&t)return{left:e.left,right:e.right,top:t.top,bottom:t.bottom}}class Gn{static register(...e){rn.add(...e),zm()}static unregister(...e){rn.remove(...e),zm()}constructor(e,t){const n=this.config=new AO(t),i=A1(e),a=Fm(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||nO(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,o.aspectRatio),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;if(this.id=Y_(),this.ctx=s,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uC(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Ys[this.id]=this,!s||!l){console.error("Failed to create chart: can't acquire context from the given item");return}_n.listen(this,"complete",Hm),_n.listen(this,"progress",IO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return Ze(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hm(this.canvas,this.ctx),this}stop(){return _n.stop(this),this}resize(e,t){_n.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,a),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gm(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),je(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ve(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((o,s)=>(o[s]=!1,o),{});let a=[];t&&(a=a.concat(Object.keys(t).map(o=>{const s=t[o],l=ru(o,s),u=l==="r",c=l==="x";return{options:s,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Ve(a,o=>{const s=o.options,l=s.id,u=ru(l,s),c=He(s.type,o.dtype);(s.position===void 0||$m(s.position,u)!==$m(o.dposition))&&(s.position=o.dposition),i[l]=!0;let f=null;if(l in n&&n[l].type===c)f=n[l];else{const d=rn.getScale(c);f=new d({id:l,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(s,e)}),Ve(i,(o,s)=>{o||delete n[s]}),Ve(n,o=>{ei.configure(this,o,o.options),ei.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Bm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const a=t[n];let o=this.getDatasetMeta(n);const s=a.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=s,o.indexAxis=a.indexAxis||dd(s,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=rn.getController(s),{datasetElementType:u,dataElementType:c}=ct.datasets[s];Object.assign(l,{dataElementType:rn.getElement(c),datasetElementType:u&&rn.getElement(u)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ve(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(d),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Ve(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Bm("z","_idx"));const{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Ve(this.scales,e=>{ei.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Zv(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of t){const o=n==="_removeElements"?-a:a;$O(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=a=>new Set(e.filter(o=>o[0]===a).map((o,s)=>s+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!Zv(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ei.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ve(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ci(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_n.has(this)?this.attached&&!_n.running(this)&&_n.start(this):(this.draw(),Hm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,a;for(i=0,a=t.length;i<a;++i){const o=t[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,a=HO(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Op(t,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&Mp(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return h1(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const a=IS.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=oa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,i);Ur(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update(s=>s.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_n.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hm(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ys[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(a,o)=>{t.addEventListener(this,a,o),e[a]=o},i=(a,o,s)=>{a.offsetX=o,a.offsetY=s,this._eventHandler(a)};Ve(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){Ve(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ve(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let a,o,s,l;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),s=0,l=e.length;s<l;++s){o=e[s];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:a,index:o})=>{const s=this.getDatasetMeta(a);if(!s)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:s.data[o],index:o}});!Wl(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,a=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),o=a(t,e),s=n?e:a(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:a}=this,o=t,s=this._getActiveElements(e,i,n,o),l=Z_(e),u=BO(e,this._lastEvent,n,l);n&&(this._lastEvent=null,je(a.onHover,[e,s,this],this),l&&je(a.onClick,[e,s,this],this));const c=!Wl(s,i);return(c||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=u,c}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}}Oe(Gn,"defaults",ct),Oe(Gn,"instances",Ys),Oe(Gn,"overrides",ji),Oe(Gn,"registry",rn),Oe(Gn,"version",RO),Oe(Gn,"getChart",Fm);function zm(){return Ve(Gn.instances,r=>r._plugins.invalidate())}var Lp=Gn;function FO(r,e,t){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:s,innerRadius:l}=e;let u=i/s;r.beginPath(),r.arc(a,o,s,n-u,t+u),l>i?(u=i/l,r.arc(a,o,l,t+u,n-u,!0)):r.arc(a,o,i,t+at,n-at),r.closePath(),r.clip()}function zO(r){return Ep(r,["outerStart","outerEnd","innerStart","innerEnd"])}function VO(r,e,t,n){const i=zO(r.options.borderRadius),a=(t-e)/2,o=Math.min(a,n*e/2),s=l=>{const u=(t-Math.min(a,l))*n/2;return Dr(l,0,Math.min(a,u))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Dr(i.innerStart,0,o),innerEnd:Dr(i.innerEnd,0,o)}}function da(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function nu(r,e,t,n,i,a){const{x:o,y:s,startAngle:l,pixelMargin:u,innerRadius:c}=e,f=Math.max(e.outerRadius+n+t-u,0),d=c>0?c+n+t+u:0;let h=0;const p=i-l;if(n){const L=c>0?c-n:0,$=f>0?f-n:0,y=(L+$)/2,A=y!==0?p*y/(y+n):p;h=(p-A)/2}const v=Math.max(.001,p*f-t/bt)/f,m=(p-v)/2,g=l+m+h,b=i-m-h,{outerStart:k,outerEnd:T,innerStart:x,innerEnd:w}=VO(e,d,f,b-g),_=f-k,C=f-T,H=g+k/_,V=b-T/C,N=d+x,U=d+w,R=g+x/N,S=b-w/U;if(r.beginPath(),a){const L=(H+V)/2;if(r.arc(o,s,f,H,L),r.arc(o,s,f,L,V),T>0){const B=da(C,V,o,s);r.arc(B.x,B.y,T,V,b+at)}const $=da(U,b,o,s);if(r.lineTo($.x,$.y),w>0){const B=da(U,S,o,s);r.arc(B.x,B.y,w,b+at,S+Math.PI)}const y=(b-w/d+(g+x/d))/2;if(r.arc(o,s,d,b-w/d,y,!0),r.arc(o,s,d,y,g+x/d,!0),x>0){const B=da(N,R,o,s);r.arc(B.x,B.y,x,R+Math.PI,g-at)}const A=da(_,g,o,s);if(r.lineTo(A.x,A.y),k>0){const B=da(_,H,o,s);r.arc(B.x,B.y,k,g-at,H)}}else{r.moveTo(o,s);const L=Math.cos(H)*f+o,$=Math.sin(H)*f+s;r.lineTo(L,$);const y=Math.cos(V)*f+o,A=Math.sin(V)*f+s;r.lineTo(y,A)}r.closePath()}function qO(r,e,t,n,i){const{fullCircles:a,startAngle:o,circumference:s}=e;let l=e.endAngle;if(a){nu(r,e,t,n,l,i);for(let u=0;u<a;++u)r.fill();isNaN(s)||(l=o+(s%it||it))}return nu(r,e,t,n,l,i),r.fill(),l}function UO(r,e,t,n,i){const{fullCircles:a,startAngle:o,circumference:s,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,f=l.borderAlign==="inner";if(!u)return;f?(r.lineWidth=u*2,r.lineJoin=c||"round"):(r.lineWidth=u,r.lineJoin=c||"bevel");let d=e.endAngle;if(a){nu(r,e,t,n,d,i);for(let h=0;h<a;++h)r.stroke();isNaN(s)||(d=o+(s%it||it))}f&&FO(r,e,d),a||(nu(r,e,t,n,d,i),r.stroke())}class Gs extends Yi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:a,distance:o}=t1(i,{x:e,y:t}),{startAngle:s,endAngle:l,innerRadius:u,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,p=He(f,l-s)>=it||Xl(a,s,l),v=xo(o,u+d,c+d);return p&&v}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:a,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:u}=this.options,c=(i+a)/2,f=(o+s+u+l)/2;return{x:t+Math.cos(c)*f,y:n+Math.sin(c)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,a=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>it?Math.floor(n/it):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*i,Math.sin(s)*i);const l=1-Math.sin(Math.min(bt,n||0)),u=i*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,qO(e,this,u,a,o),UO(e,this,u,a,o),e.restore()}}Oe(Gs,"id","arc"),Oe(Gs,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Oe(Gs,"defaultRoutes",{backgroundColor:"backgroundColor"});const Vm=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},WO=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class qm extends Yi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=je(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Rt(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=Vm(n,a);let u,c;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,a,s,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,s,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+s;let f=e;a.textAlign="left",a.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((p,v)=>{const m=n+t/2+a.measureText(p.text).width;(v===0||u[u.length-1]+m+2*s>o)&&(f+=c,u[u.length-(v>0?0:1)]=0,h+=c,d++),l[v]={left:0,top:h,row:d,width:m,height:i},u[u.length-1]+=m+s}),f}_fitCols(e,t,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let f=s,d=0,h=0,p=0,v=0;return this.legendItems.forEach((m,g)=>{const{itemWidth:b,itemHeight:k}=jO(n,t,a,m,i);g>0&&h+k+2*s>c&&(f+=d+s,u.push({width:d,height:h}),p+=d+s,v++,d=h=0),l[g]={left:p,top:h,col:v,width:b,height:k},d=Math.max(d,b),h+=k+s}),f+=d,u.push({width:d,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,o=Ma(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=gr(n,this.left+i,this.right-this.lineWidths[s]);for(const u of t)s!==u.row&&(s=u.row,l=gr(n,this.left+i,this.right-this.lineWidths[s])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let s=0,l=gr(n,this.top+e+i,this.bottom-this.columnSizes[s].height);for(const u of t)u.col!==s&&(s=u.col,l=gr(n,this.top+e+i,this.bottom-this.columnSizes[s].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Op(e,this),this._draw(),Mp(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:o}=e,s=ct.color,l=Ma(e.rtl,this.left,this.width),u=Rt(o.font),{padding:c}=o,f=u.size,d=f/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:v,itemHeight:m}=Vm(o,f),g=function(w,_,C){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const H=He(C.lineWidth,1);if(i.fillStyle=He(C.fillStyle,s),i.lineCap=He(C.lineCap,"butt"),i.lineDashOffset=He(C.lineDashOffset,0),i.lineJoin=He(C.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=He(C.strokeStyle,s),i.setLineDash(He(C.lineDash,[])),o.usePointStyle){const V={radius:v*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:H},N=l.xPlus(w,p/2),U=_+d;d1(i,V,N,U,o.pointStyleWidth&&p)}else{const V=_+Math.max((f-v)/2,0),N=l.leftForLtr(w,p),U=Oa(C.borderRadius);i.beginPath(),Object.values(U).some(R=>R!==0)?Zl(i,{x:N,y:V,w:p,h:v,radius:U}):i.rect(N,V,p,v),i.fill(),H!==0&&i.stroke()}i.restore()},b=function(w,_,C){Ra(i,C.text,w,_+m/2,u,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},k=this.isHorizontal(),T=this._computeTitleHeight();k?h={x:gr(a,this.left+c,this.right-n[0]),y:this.top+c+T,line:0}:h={x:this.left+c,y:gr(a,this.top+T+c,this.bottom-t[0].height),line:0},b1(this.ctx,e.textDirection);const x=m+c;this.legendItems.forEach((w,_)=>{i.strokeStyle=w.fontColor,i.fillStyle=w.fontColor;const C=i.measureText(w.text).width,H=l.textAlign(w.textAlign||(w.textAlign=o.textAlign)),V=p+d+C;let N=h.x,U=h.y;l.setWidth(this.width),k?_>0&&N+V+c>this.right&&(U=h.y+=x,h.line++,N=h.x=gr(a,this.left+c,this.right-n[h.line])):_>0&&U+x>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,U=h.y=gr(a,this.top+T+c,this.bottom-t[h.line].height));const R=l.x(N);if(g(R,U,w),N=cC(H,N+p+d,k?N+V:this.right,e.rtl),b(l.x(N),U,w),k)h.x+=V+c;else if(typeof w.text!="string"){const S=u.lineHeight;h.y+=P1(w,S)}else h.y+=x}),w1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Rt(t.font),i=rr(t.padding);if(!t.display)return;const a=Ma(e.rtl,this.left,this.width),o=this.ctx,s=t.position,l=n.size/2,u=i.top+l;let c,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,f=gr(e.align,f,this.right-d);else{const p=this.columnSizes.reduce((v,m)=>Math.max(v,m.height),0);c=u+gr(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=gr(s,f,f+d);o.textAlign=a.textAlign(a1(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Ra(o,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Rt(e.font),n=rr(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(xo(e,this.left,this.right)&&xo(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],xo(e,i.left,i.left+i.width)&&xo(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!KO(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=WO(i,n);i&&!a&&je(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&je(t.onHover,[e,n,this],this)}else n&&je(t.onClick,[e,n,this],this)}}function jO(r,e,t,n,i){const a=YO(n,r,e,t),o=GO(i,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function YO(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+n.measureText(i).width}function GO(r,e,t){let n=r;return typeof e.text!="string"&&(n=P1(e,t)),n}function P1(r,e){const t=r.text?r.text.length+.5:0;return e*t}function KO(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var XO={id:"legend",_element:qm,start(r,e,t){const n=r.legend=new qm({ctx:r.ctx,options:t,chart:r});ei.configure(r,n,t),ei.addBox(r,n)},stop(r){ei.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;ei.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:s}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),c=rr(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(s||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};const So={average(r){if(!r.length)return!1;let e,t,n=0,i=0,a=0;for(e=0,t=r.length;e<t;++e){const o=r[e].element;if(o&&o.hasValue()){const s=o.tooltipPosition();n+=s.x,i+=s.y,++a}}return{x:n/a,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=r.length;a<o;++a){const l=r[a].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=nC(e,u);c<i&&(i=c,s=l)}}if(s){const l=s.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function en(r,e){return e&&(nt(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Cn(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function JO(r,e){const{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:o,value:s}=a.getLabelAndValue(i);return{chart:r,label:o,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:s,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function Um(r,e){const t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:o,boxHeight:s}=e,l=Rt(e.bodyFont),u=Rt(e.titleFont),c=Rt(e.footerFont),f=a.length,d=i.length,h=n.length,p=rr(e.padding);let v=p.height,m=0,g=n.reduce((T,x)=>T+x.before.length+x.lines.length+x.after.length,0);if(g+=r.beforeBody.length+r.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),g){const T=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;v+=h*T+(g-h)*l.lineHeight+(g-1)*e.bodySpacing}d&&(v+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let b=0;const k=function(T){m=Math.max(m,t.measureText(T).width+b)};return t.save(),t.font=u.string,Ve(r.title,k),t.font=l.string,Ve(r.beforeBody.concat(r.afterBody),k),b=e.displayColors?o+2+e.boxPadding:0,Ve(n,T=>{Ve(T.before,k),Ve(T.lines,k),Ve(T.after,k)}),b=0,t.font=c.string,Ve(r.footer,k),t.restore(),m+=p.width,{width:m,height:v}}function QO(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function ZO(r,e,t,n){const{x:i,width:a}=n,o=t.caretSize+t.caretPadding;if(r==="left"&&i+a+o>e.width||r==="right"&&i-a-o<0)return!0}function eM(r,e,t,n){const{x:i,width:a}=t,{width:o,chartArea:{left:s,right:l}}=r;let u="center";return n==="center"?u=i<=(s+l)/2?"left":"right":i<=a/2?u="left":i>=o-a/2&&(u="right"),ZO(u,r,e,t)&&(u="center"),u}function Wm(r,e,t){const n=t.yAlign||e.yAlign||QO(r,t);return{xAlign:t.xAlign||e.xAlign||eM(r,e,t,n),yAlign:n}}function tM(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function rM(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function jm(r,e,t,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=r,{xAlign:s,yAlign:l}=t,u=i+a,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:h}=Oa(o);let p=tM(e,s);const v=rM(e,l,u);return l==="center"?s==="left"?p+=u:s==="right"&&(p-=u):s==="left"?p-=Math.max(c,d)+i:s==="right"&&(p+=Math.max(f,h)+i),{x:Dr(p,0,n.width-e.width),y:Dr(v,0,n.height-e.height)}}function xs(r,e,t){const n=rr(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Ym(r){return en([],Cn(r))}function nM(r,e,t){return oa(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Gm(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const N1={beforeTitle:xn,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:xn,beforeBody:xn,beforeLabel:xn,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Ze(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xn,afterBody:xn,beforeFooter:xn,footer:xn,afterFooter:xn};function lr(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?N1[e].call(t,n):i}class hd extends Yi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new k1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=nM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=lr(n,"beforeTitle",this,e),a=lr(n,"title",this,e),o=lr(n,"afterTitle",this,e);let s=[];return s=en(s,Cn(i)),s=en(s,Cn(a)),s=en(s,Cn(o)),s}getBeforeBody(e,t){return Ym(lr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Ve(e,a=>{const o={before:[],lines:[],after:[]},s=Gm(n,a);en(o.before,Cn(lr(s,"beforeLabel",this,a))),en(o.lines,lr(s,"label",this,a)),en(o.after,Cn(lr(s,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(e,t){return Ym(lr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=lr(n,"beforeFooter",this,e),a=lr(n,"footer",this,e),o=lr(n,"afterFooter",this,e);let s=[];return s=en(s,Cn(i)),s=en(s,Cn(a)),s=en(s,Cn(o)),s}_createItems(e){const t=this._active,n=this.chart.data,i=[],a=[],o=[];let s=[],l,u;for(l=0,u=t.length;l<u;++l)s.push(JO(this.chart,t[l]));return e.filter&&(s=s.filter((c,f,d)=>e.filter(c,f,d,n))),e.itemSort&&(s=s.sort((c,f)=>e.itemSort(c,f,n))),Ve(s,c=>{const f=Gm(e.callbacks,c);i.push(lr(f,"labelColor",this,c)),a.push(lr(f,"labelPointStyle",this,c)),o.push(lr(f,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=s,s}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const s=So[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Um(this,n),u=Object.assign({},s,l),c=Wm(this.chart,n,u),f=jm(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,a={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:f}=Oa(s),{x:d,y:h}=e,{width:p,height:v}=t;let m,g,b,k,T,x;return a==="center"?(T=h+v/2,i==="left"?(m=d,g=m-o,k=T+o,x=T-o):(m=d+p,g=m+o,k=T-o,x=T+o),b=m):(i==="left"?g=d+Math.max(l,c)+o:i==="right"?g=d+p-Math.max(u,f)-o:g=this.caretX,a==="top"?(k=h,T=k-o,m=g-o,b=g+o):(k=h+v,T=k+o,m=g+o,b=g-o),x=k),{x1:m,x2:g,x3:b,y1:k,y2:T,y3:x}}drawTitle(e,t,n){const i=this.title,a=i.length;let o,s,l;if(a){const u=Ma(n.rtl,this.x,this.width);for(e.x=xs(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",o=Rt(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,l=0;l<a;++l)t.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s,l+1===a&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,i,a){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:l,boxWidth:u,boxPadding:c}=a,f=Rt(a.bodyFont),d=xs(this,"left",a),h=i.x(d),p=l<f.lineHeight?(f.lineHeight-l)/2:0,v=t.y+p;if(a.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},g=i.leftForLtr(h,u)+u/2,b=v+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,pm(e,m,g,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,pm(e,m,g,b)}else{e.lineWidth=Re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,u-c),g=i.leftForLtr(i.xPlus(h,1),u-c-2),b=Oa(o.borderRadius);Object.values(b).some(k=>k!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Zl(e,{x:m,y:v,w:u,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Zl(e,{x:g,y:v+1,w:u-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(m,v,u,l),e.strokeRect(m,v,u,l),e.fillStyle=o.backgroundColor,e.fillRect(g,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:s,boxHeight:l,boxWidth:u,boxPadding:c}=n,f=Rt(n.bodyFont);let d=f.lineHeight,h=0;const p=Ma(n.rtl,this.x,this.width),v=function(C){t.fillText(C,p.x(e.x+h),e.y+d/2),e.y+=d+a},m=p.textAlign(o);let g,b,k,T,x,w,_;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=xs(this,m,n),t.fillStyle=n.bodyColor,Ve(this.beforeBody,v),h=s&&m!=="right"?o==="center"?u/2+c:u+2+c:0,T=0,w=i.length;T<w;++T){for(g=i[T],b=this.labelTextColors[T],t.fillStyle=b,Ve(g.before,v),k=g.lines,s&&k.length&&(this._drawColorBox(t,e,T,p,n),d=Math.max(f.lineHeight,l)),x=0,_=k.length;x<_;++x)v(k[x]),d=f.lineHeight;Ve(g.after,v)}h=0,d=f.lineHeight,Ve(this.afterBody,v),e.y-=a}drawFooter(e,t,n){const i=this.footer,a=i.length;let o,s;if(a){const l=Ma(n.rtl,this.x,this.width);for(e.x=xs(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",o=Rt(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,s=0;s<a;++s)t.fillText(i[s],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:a,yAlign:o}=this,{x:s,y:l}=e,{width:u,height:c}=n,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=Oa(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+f,l),o==="top"&&this.drawCaret(e,t,n,i),t.lineTo(s+u-d,l),t.quadraticCurveTo(s+u,l,s+u,l+d),o==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(s+u,l+c-p),t.quadraticCurveTo(s+u,l+c,s+u-p,l+c),o==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(s+h,l+c),t.quadraticCurveTo(s,l+c,s,l+c-h),o==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(s,l+f),t.quadraticCurveTo(s,l,s+f,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=So[e.position].call(this,this._active,this._eventPosition);if(!o)return;const s=this._size=Um(this,e),l=Object.assign({},o,this._size),u=Wm(t,e,l),c=jm(e,l,u,t);(i._to!==c.x||a._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=s.width,this.height=s.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=rr(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),b1(e,t.textDirection),a.y+=o.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),w1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:s,index:l})=>{const u=this.chart.getDatasetMeta(s);if(!u)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:u.data[l],index:l}}),a=!Wl(n,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(e,a,t,n),s=this._positionChanged(o,e),l=t||!Wl(o,a)||s;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t;const o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:a}=this,o=So[a.position].call(this,e,t);return o!==!1&&(n!==o.x||i!==o.y)}}Oe(hd,"positioners",So);var iM={id:"tooltip",_element:hd,positioners:So,afterInit(r,e,t){t&&(r.tooltip=new hd({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function aM(r,e){const t=[],{bounds:i,step:a,min:o,max:s,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=r,h=a||1,p=c-1,{min:v,max:m}=e,g=!Ze(o),b=!Ze(s),k=!Ze(u),T=(m-v)/(f+1);let x=tm((m-v)/p/h)*h,w,_,C,H;if(x<1e-14&&!g&&!b)return[{value:v},{value:m}];H=Math.ceil(m/x)-Math.floor(v/x),H>p&&(x=tm(H*x/p/h)*h),Ze(l)||(w=Math.pow(10,l),x=Math.ceil(x*w)/w),i==="ticks"?(_=Math.floor(v/x)*x,C=Math.ceil(m/x)*x):(_=v,C=m),g&&b&&a&&rC((s-o)/a,x/1e3)?(H=Math.round(Math.min((s-o)/x,c)),x=(s-o)/H,_=o,C=s):k?(_=g?o:_,C=b?s:C,H=u-1,x=(C-_)/H):(H=(C-_)/x,Us(H,Math.round(H),x/1e3)?H=Math.round(H):H=Math.ceil(H));const V=Math.max(rm(x),rm(_));w=Math.pow(10,Ze(l)?V:l),_=Math.round(_*w)/w,C=Math.round(C*w)/w;let N=0;for(g&&(d&&_!==o?(t.push({value:o}),_<o&&N++,Us(Math.round((_+N*x)*w)/w,o,Km(o,T,r))&&N++):_<o&&N++);N<H;++N)t.push({value:Math.round((_+N*x)*w)/w});return b&&d&&C!==s?t.length&&Us(t[t.length-1].value,s,Km(s,T,r))?t[t.length-1].value=s:t.push({value:s}):(!b||C===s)&&t.push({value:C}),t}function Km(r,e,{horizontal:t,minRotation:n}){const i=un(n),a=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+r).length;return Math.min(e/a,o)}class iu extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=l=>i=t?i:l,s=l=>a=n?a:l;if(e){const l=Gl(i),u=Gl(a);l<0&&u<0?s(0):l>0&&u>0&&o(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);s(a+l),e||o(i-l)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=aM(i,a);return e.bounds==="ticks"&&e1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return wc(e,this.chart.options.locale,this.options.ticks.format)}}class Xm extends iu{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=xt(e)?e:0,this.max=xt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=un(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Oe(Xm,"id","linear"),Oe(Xm,"defaults",{ticks:{callback:kc.formatters.numeric}});const Go=r=>Math.floor(Qn(r)),_i=(r,e)=>Math.pow(10,Go(r)+e);function Jm(r){return r/Math.pow(10,Go(r))===1}function Qm(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function oM(r,e){const t=e-r;let n=Go(t);for(;Qm(r,e,n)>10;)n++;for(;Qm(r,e,n)<10;)n--;return Math.min(n,Go(r))}function sM(r,{min:e,max:t}){e=yr(r.min,e);const n=[],i=Go(e);let a=oM(e,t),o=a<0?Math.pow(10,Math.abs(a)):1;const s=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,c=Math.floor((e-l)/s/10)*s*10;let f=Math.floor((u-c)/Math.pow(10,a)),d=yr(r.min,Math.round((l+c+f*Math.pow(10,a))*o)/o);for(;d<t;)n.push({value:d,major:Jm(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,o=a>=0?1:o),d=Math.round((l+c+f*Math.pow(10,a))*o)/o;const h=yr(r.max,d);return n.push({value:h,major:Jm(h),significand:f}),n}class Zm extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=iu.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return xt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=xt(e)?Math.max(0,e):null,this.max=xt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xt(this._userMin)&&(this.min=e===_i(this.min,0)?_i(this.min,-1):_i(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const a=s=>n=e?n:s,o=s=>i=t?i:s;n===i&&(n<=0?(a(1),o(10)):(a(_i(n,-1)),o(_i(i,1)))),n<=0&&a(_i(i,-1)),i<=0&&o(_i(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=sM(t,this);return e.bounds==="ticks"&&e1(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":wc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qn(e),this._valueRange=Qn(this.max)-Qn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Oe(Zm,"id","logarithmic"),Oe(Zm,"defaults",{ticks:{callback:kc.formatters.logarithmic,major:{enabled:!0}}});function pd(r){const e=r.ticks;if(e.display&&r.display){const t=rr(e.backdropPadding);return He(e.font&&e.font.size,ct.font.size)+t.height}return 0}function lM(r,e,t){return t=nt(t)?t:[t],{w:VC(r,e.string,t),h:t.length*e.lineHeight}}function eg(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function uM(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],a=r._pointLabels.length,o=r.options.pointLabels,s=o.centerPointLabels?bt/a:0;for(let l=0;l<a;l++){const u=o.setContext(r.getPointLabelContext(l));i[l]=u.padding;const c=r.getPointPosition(l,r.drawingArea+i[l],s),f=Rt(u.font),d=lM(r.ctx,f,r._pointLabels[l]);n[l]=d;const h=an(r.getIndexAngle(l)+s),p=Math.round(xp(h)),v=eg(p,c.x,d.w,0,180),m=eg(p,c.y,d.h,90,270);cM(t,e,h,v,m)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=fM(r,n,i)}function cM(r,e,t,n,i){const a=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let s=0,l=0;n.start<e.l?(s=(e.l-n.start)/a,r.l=Math.min(r.l,e.l-s)):n.end>e.r&&(s=(n.end-e.r)/a,r.r=Math.max(r.r,e.r+s)),i.start<e.t?(l=(e.t-i.start)/o,r.t=Math.min(r.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,r.b=Math.max(r.b,e.b+l))}function fM(r,e,t){const n=[],i=r._pointLabels.length,a=r.options,o=pd(a)/2,s=r.drawingArea,l=a.pointLabels.centerPointLabels?bt/i:0;for(let u=0;u<i;u++){const c=r.getPointPosition(u,s+o+t[u],l),f=Math.round(xp(an(c.angle+at))),d=e[u],h=pM(c.y,d.h,f),p=dM(f),v=hM(c.x,d.w,p);n.push({x:c.x,y:h,textAlign:p,left:v,top:h,right:v+d.w,bottom:h+d.h})}return n}function dM(r){return r===0||r===180?"center":r<180?"left":"right"}function hM(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function pM(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function vM(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const a=n.setContext(r.getPointLabelContext(i)),o=Rt(a.font),{x:s,y:l,textAlign:u,left:c,top:f,right:d,bottom:h}=r._pointLabelItems[i],{backdropColor:p}=a;if(!Ze(p)){const v=Oa(a.borderRadius),m=rr(a.backdropPadding);t.fillStyle=p;const g=c-m.left,b=f-m.top,k=d-c+m.width,T=h-f+m.height;Object.values(v).some(x=>x!==0)?(t.beginPath(),Zl(t,{x:g,y:b,w:k,h:T,radius:v}),t.fill()):t.fillRect(g,b,k,T)}Ra(t,r._pointLabels[i],s,l+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function R1(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,it);else{let a=r.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let o=1;o<n;o++)a=r.getPointPosition(o,e),i.lineTo(a.x,a.y)}}function mM(r,e,t,n,i){const a=r.ctx,o=e.circular,{color:s,lineWidth:l}=e;!o&&!n||!s||!l||t<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),R1(r,t,o,n),a.closePath(),a.stroke(),a.restore())}function gM(r,e,t){return oa(r,{label:t,index:e,type:"pointLabel"})}class Ts extends iu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=rr(pd(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=xt(e)&&!isNaN(e)?e:0,this.max=xt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pd(this.options))}generateTickLabels(e){iu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=je(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?uM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=it/(this._pointLabels.length||1),n=this.options.startAngle||0;return an(e*t+un(n))}getDistanceFromCenterForValue(e){if(Ze(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ze(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return gM(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-at+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),R1(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:a}=t,o=this._pointLabels.length;let s,l,u;if(t.pointLabels.display&&vM(this,o),i.display&&this.ticks.forEach((c,f)=>{if(f!==0){l=this.getDistanceFromCenterForValue(c.value);const d=this.getContext(f),h=i.setContext(d),p=a.setContext(d);mM(this,h,l,o,p)}}),n.display){for(e.save(),s=o-1;s>=0;s--){const c=n.setContext(this.getPointLabelContext(s)),{color:f,lineWidth:d}=c;!d||!f||(e.lineWidth=d,e.strokeStyle=f,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),u=this.getPointPosition(s,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&!t.reverse)return;const u=n.setContext(this.getContext(l)),c=Rt(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(s.label).width,e.fillStyle=u.backdropColor;const f=rr(u.backdropPadding);e.fillRect(-o/2-f.left,-a-c.size/2-f.top,o+f.width,c.size+f.height)}Ra(e,s.label,0,-a,c,{color:u.color})}),e.restore()}drawTitle(){}}Oe(Ts,"id","radialLinear"),Oe(Ts,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Oe(Ts,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Oe(Ts,"descriptors",{angleLines:{_fallback:"grid"}});const Tc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cr=Object.keys(Tc);function yM(r,e){return r-e}function tg(r,e){if(Ze(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),xt(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Kl(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,i)),+o)}function rg(r,e,t,n){const i=cr.length;for(let a=cr.indexOf(r);a<i-1;++a){const o=Tc[cr[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(s*o.size))<=n)return cr[a]}return cr[i-1]}function bM(r,e,t,n,i){for(let a=cr.length-1;a>=cr.indexOf(t);a--){const o=cr[a];if(Tc[o].common&&r._adapter.diff(i,n,o)>=e-1)return o}return cr[t?cr.indexOf(t):0]}function wM(r){for(let e=cr.indexOf(r)+1,t=cr.length;e<t;++e)if(Tc[cr[e]].common)return cr[e]}function ng(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=Tp(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function kM(r,e,t,n){const i=r._adapter,a=+i.startOf(e[0].value,n),o=e[e.length-1].value;let s,l;for(s=a;s<=o;s=+i.add(s,1,n))l=t[s],l>=0&&(e[l].major=!0);return e}function ig(r,e,t){const n=[],i={},a=e.length;let o,s;for(o=0;o<a;++o)s=e[o],i[s]=o,n.push({value:s,major:!1});return a===0||!t?n:kM(r,n,i,t)}class au extends ro{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new AS._date(e.adapters.date);i.init(t),Po(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:tg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:s}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!s&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!o||!s)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=xt(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=xt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,s=oC(i,a,o);return this._unit=t.unit||(n.autoSkip?rg(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):bM(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:wM(this._unit),this.initOffsets(i),e.reverse&&s.reverse(),ig(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Dr(t,0,o),n=Dr(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||rg(a.minUnit,t,n,this._getLabelCapacity(t)),s=He(i.ticks.stepSize,1),l=o==="week"?a.isoWeekday:!1,u=Kl(l)||l===!0,c={};let f=t,d,h;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(n,t,o)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,h=0;d<n;d=+e.add(d,s,o),h++)ng(c,d,p);return(d===n||i.bounds==="ticks"||h===1)&&ng(c,d,p),Object.keys(c).sort((v,m)=>v-m).map(v=>+v)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){const a=this.options,o=a.ticks.callback;if(o)return je(o,[e,t,n],this);const s=a.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&s[l],f=u&&s[u],d=n[t],h=u&&f&&d&&d.major;return this._adapter.format(e,i||(h?f:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=un(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),o=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*a+s*o,h:n*o+s*a}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,ig(this,[e],this._majorUnit),i),o=this._getLabelSize(a),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(tg(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lC(e.sort(yM))}}Oe(au,"id","time"),Oe(au,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _s(r,e,t){let n=0,i=r.length-1,a,o,s,l;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=ld(r,"pos",e)),{pos:a,time:s}=r[n],{pos:o,time:l}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=ld(r,"time",e)),{time:a,pos:s}=r[n],{time:o,pos:l}=r[i]);const u=o-a;return u?s+(l-s)*(e-a)/u:s}class ag extends au{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=_s(t,this.min),this._tableRange=_s(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],a=[];let o,s,l,u,c;for(o=0,s=e.length;o<s;++o)u=e[o],u>=t&&u<=n&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&a.push({time:u,pos:o/(s-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(_s(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return _s(this._table,n*this._tableRange+this._minPos,!0)}}Oe(ag,"id","timeseries"),Oe(ag,"defaults",au.defaults);const L1={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},xM={type:{type:String,required:!0},...L1},TM=H_[0]==="2"?(r,e)=>Object.assign(r,{attrs:e}):(r,e)=>Object.assign(r,e);function ha(r){return Kw(r)?od(r):r}function _M(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;return Kw(e)?new Proxy(r,{}):r}function CM(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function I1(r,e){r.labels=e}function $1(r,e,t){const n=[];r.datasets=e.map(i=>{const a=r.datasets.find(o=>o[t]===i[t]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function SM(r,e){const t={labels:[],datasets:[]};return I1(t,r.labels),$1(t,r.datasets,e),t}const OM=jt({props:xM,setup(r,e){let{expose:t}=e;const n=te(null),i=Yw(null);t({chart:i});const a=()=>{if(!n.value)return;const{type:l,data:u,options:c,plugins:f,datasetIdKey:d}=r,h=SM(u,d),p=_M(h,u);i.value=new Lp(n.value,{type:l,data:p,options:{...c},plugins:f})},o=()=>{const l=od(i.value);l&&(l.destroy(),i.value=null)},s=l=>{l.update(r.updateMode)};return pr(a),B_(o),eo([()=>r.options,()=>r.data],(l,u)=>{let[c,f]=l,[d,h]=u;const p=od(i.value);if(!p)return;let v=!1;if(c){const m=ha(c),g=ha(d);m&&m!==g&&(CM(p,m),v=!0)}if(f){const m=ha(f.labels),g=ha(h.labels),b=ha(f.datasets),k=ha(h.datasets);m!==g&&(I1(p.config.data,m),v=!0),b&&b!==k&&($1(p.config.data,b,r.datasetIdKey),v=!0)}v&&s(p)},{deep:!0}),()=>Gw("canvas",{ref:n})}});function MM(r,e){return Lp.register(e),jt({props:L1,setup(t,n){let{expose:i}=n;const a=Yw(null),o=s=>{a.value=s==null?void 0:s.chart};return i({chart:a}),()=>Gw(OM,TM({ref:o},{type:r,...t}))}})}const EM=MM("pie",fd),DM=ce("h2",null,"Chart.js",-1),AM={class:"chartWrap"},PM=jt({__name:"ChartPie",setup(r){Lp.register(Gs,iM,XO);const{chartData:e,charOption:t,changeChartDataSize:n}=j_();let i=te(!1);return pr(()=>{i.value=!0}),(a,o)=>(z(),X(Me,null,[DM,ce("div",AM,[M(i)?(z(),Ie(M(EM),{key:0,data:M(e),options:M(t)},null,8,["data","options"])):G("",!0)]),ce("button",{onClick:o[0]||(o[0]=(...s)=>M(n)&&M(n)(...s))},"change Data")],64))}});function ve(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ue(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function Ks(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ks=function(t){return typeof t}:Ks=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(r)}function ge(r){ue(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Ks(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ai(r,e){ue(2,arguments);var t=ge(r),n=ve(e);return isNaN(n)?new Date(NaN):(n&&t.setDate(t.getDate()+n),t)}function cn(r,e){ue(2,arguments);var t=ge(r),n=ve(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var i=t.getDate(),a=new Date(t.getTime());a.setMonth(t.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(t.setFullYear(a.getFullYear(),a.getMonth(),i),t)}function Xs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(t){return typeof t}:Xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(r)}function B1(r,e){if(ue(2,arguments),!e||Xs(e)!=="object")return new Date(NaN);var t=e.years?ve(e.years):0,n=e.months?ve(e.months):0,i=e.weeks?ve(e.weeks):0,a=e.days?ve(e.days):0,o=e.hours?ve(e.hours):0,s=e.minutes?ve(e.minutes):0,l=e.seconds?ve(e.seconds):0,u=ge(r),c=n||t?cn(u,n+t*12):u,f=a||i?ai(c,a+i*7):c,d=s+o*60,h=l+d*60,p=h*1e3,v=new Date(f.getTime()+p);return v}function NM(r,e){ue(2,arguments);var t=ge(r).getTime(),n=ve(e);return new Date(t+n)}var RM={};function pi(){return RM}function vd(r,e){var t,n,i,a,o,s,l,u;ue(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ge(r),h=d.getDay(),p=(h<f?7:0)+h-f;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function ou(r){return ue(1,arguments),vd(r,{weekStartsOn:1})}function LM(r){ue(1,arguments);var e=ge(r),t=e.getFullYear(),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var i=ou(n),a=new Date(0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);var o=ou(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function IM(r){ue(1,arguments);var e=LM(r),t=new Date(0);t.setFullYear(e,0,4),t.setHours(0,0,0,0);var n=ou(t);return n}function su(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function og(r){ue(1,arguments);var e=ge(r);return e.setHours(0,0,0,0),e}var $M=864e5;function BM(r,e){ue(2,arguments);var t=og(r),n=og(e),i=t.getTime()-su(t),a=n.getTime()-su(n);return Math.round((i-a)/$M)}function H1(r,e){ue(2,arguments);var t=ve(e);return cn(r,t*12)}var Ip=6e4,$p=36e5,HM=1e3;function Js(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Js=function(t){return typeof t}:Js=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(r)}function F1(r){return ue(1,arguments),r instanceof Date||Js(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Lo(r){if(ue(1,arguments),!F1(r)&&typeof r!="number")return!1;var e=ge(r);return!isNaN(Number(e))}function sg(r,e){var t;ue(1,arguments);var n=r||{},i=ge(n.start),a=ge(n.end),o=a.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var s=[],l=i;l.setHours(0,0,0,0);var u=Number((t=e==null?void 0:e.step)!==null&&t!==void 0?t:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)s.push(ge(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return s}function FM(r,e){var t,n,i,a,o,s,l,u;ue(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ge(r),h=d.getDay(),p=(h<f?-7:0)+6-(h-f);return d.setDate(d.getDate()+p),d.setHours(23,59,59,999),d}function z1(r,e){ue(2,arguments);var t=ve(e);return NM(r,-t)}var zM=864e5;function VM(r){ue(1,arguments);var e=ge(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/zM)+1}function Ia(r){ue(1,arguments);var e=1,t=ge(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function V1(r){ue(1,arguments);var e=ge(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=Ia(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var o=Ia(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function qM(r){ue(1,arguments);var e=V1(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Ia(t);return n}var UM=6048e5;function q1(r){ue(1,arguments);var e=ge(r),t=Ia(e).getTime()-qM(e).getTime();return Math.round(t/UM)+1}function Gi(r,e){var t,n,i,a,o,s,l,u;ue(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ge(r),h=d.getUTCDay(),p=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Bp(r,e){var t,n,i,a,o,s,l,u;ue(1,arguments);var c=ge(r),f=c.getUTCFullYear(),d=pi(),h=ve((t=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,h),p.setUTCHours(0,0,0,0);var v=Gi(p,e),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var g=Gi(m,e);return c.getTime()>=v.getTime()?f+1:c.getTime()>=g.getTime()?f:f-1}function WM(r,e){var t,n,i,a,o,s,l,u;ue(1,arguments);var c=pi(),f=ve((t=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),d=Bp(r,e),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var p=Gi(h,e);return p}var jM=6048e5;function U1(r,e){ue(1,arguments);var t=ge(r),n=Gi(t,e).getTime()-WM(t,e).getTime();return Math.round(n/jM)+1}function ze(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var YM={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return ze(t==="yy"?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):ze(n+1,2)},d:function(e,t){return ze(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return ze(e.getUTCHours()%12||12,t.length)},H:function(e,t){return ze(e.getUTCHours(),t.length)},m:function(e,t){return ze(e.getUTCMinutes(),t.length)},s:function(e,t){return ze(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return ze(a,t.length)}};const Un=YM;var pa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GM={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Un.y(e,t)},Y:function(e,t,n,i){var a=Bp(e,i),o=a>0?a:1-a;if(t==="YY"){var s=o%100;return ze(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):ze(o,t.length)},R:function(e,t){var n=V1(e);return ze(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return ze(n,t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ze(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ze(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Un.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return ze(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=U1(e,i);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):ze(a,t.length)},I:function(e,t,n){var i=q1(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):ze(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Un.d(e,t)},D:function(e,t,n){var i=VM(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ze(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ze(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ze(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return ze(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i=e.getUTCHours(),a;switch(i===12?a=pa.noon:i===0?a=pa.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i=e.getUTCHours(),a;switch(i>=17?a=pa.evening:i>=12?a=pa.afternoon:i>=4?a=pa.morning:a=pa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Un.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Un.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ze(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):ze(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Un.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Un.s(e,t)},S:function(e,t){return Un.S(e,t)},X:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return ug(o);case"XXXX":case"XX":return Ai(o);case"XXXXX":case"XXX":default:return Ai(o,":")}},x:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"x":return ug(o);case"xxxx":case"xx":return Ai(o);case"xxxxx":case"xxx":default:return Ai(o,":")}},O:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+lg(o,":");case"OOOO":default:return"GMT"+Ai(o,":")}},z:function(e,t,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+lg(o,":");case"zzzz":default:return"GMT"+Ai(o,":")}},t:function(e,t,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return ze(o,t.length)},T:function(e,t,n,i){var a=i._originalDate||e,o=a.getTime();return ze(o,t.length)}};function lg(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=n%60;if(a===0)return t+String(i);var o=e||"";return t+String(i)+o+ze(a,2)}function ug(r,e){if(r%60===0){var t=r>0?"-":"+";return t+ze(Math.abs(r)/60,2)}return Ai(r,e)}function Ai(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),a=ze(Math.floor(i/60),2),o=ze(i%60,2);return n+a+t+o}const KM=GM;var cg=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},W1=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},XM=function(e,t){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return cg(e,t);var o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",cg(i,t)).replace("{{time}}",W1(a,t))},JM={p:W1,P:XM};const md=JM;var QM=["D","DD"],ZM=["YY","YYYY"];function j1(r){return QM.indexOf(r)!==-1}function Y1(r){return ZM.indexOf(r)!==-1}function lu(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tE=function(e,t,n){var i,a=eE[e];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const rE=tE;function rf(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var nE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oE={date:rf({formats:nE,defaultWidth:"full"}),time:rf({formats:iE,defaultWidth:"full"}),dateTime:rf({formats:aE,defaultWidth:"full"})};const sE=oE;var lE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uE=function(e,t,n,i){return lE[e]};const cE=uE;function fo(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",i;if(n==="formatting"&&r.formattingValues){var a=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=r.formattingValues[o]||r.formattingValues[a]}else{var s=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[l]||r.values[s]}var u=r.argumentCallback?r.argumentCallback(e):e;return i[u]}}var fE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gE=function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yE={ordinalNumber:gE,era:fo({values:fE,defaultWidth:"wide"}),quarter:fo({values:dE,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:fo({values:hE,defaultWidth:"wide"}),day:fo({values:pE,defaultWidth:"wide"}),dayPeriod:fo({values:vE,defaultWidth:"wide",formattingValues:mE,defaultFormattingWidth:"wide"})};const bE=yE;function ho(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(s)?kE(s,function(f){return f.test(o)}):wE(s,function(f){return f.test(o)}),u;u=r.valueCallback?r.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function wE(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function kE(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function xE(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],a=e.match(r.parsePattern);if(!a)return null;var o=r.valueCallback?r.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var TE=/^(\d+)(th|st|nd|rd)?/i,_E=/\d+/i,CE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SE={any:[/^b/i,/^(a|c)/i]},OE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ME={any:[/1/i,/2/i,/3/i,/4/i]},EE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LE={ordinalNumber:xE({matchPattern:TE,parsePattern:_E,valueCallback:function(e){return parseInt(e,10)}}),era:ho({matchPatterns:CE,defaultMatchWidth:"wide",parsePatterns:SE,defaultParseWidth:"any"}),quarter:ho({matchPatterns:OE,defaultMatchWidth:"wide",parsePatterns:ME,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ho({matchPatterns:EE,defaultMatchWidth:"wide",parsePatterns:DE,defaultParseWidth:"any"}),day:ho({matchPatterns:AE,defaultMatchWidth:"wide",parsePatterns:PE,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:NE,defaultMatchWidth:"any",parsePatterns:RE,defaultParseWidth:"any"})};const IE=LE;var $E={code:"en-US",formatDistance:rE,formatLong:sE,formatRelative:cE,localize:bE,match:IE,options:{weekStartsOn:0,firstWeekContainsDate:1}};const G1=$E;var BE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FE=/^'([^]*?)'?$/,zE=/''/g,VE=/[a-zA-Z]/;function Io(r,e,t){var n,i,a,o,s,l,u,c,f,d,h,p,v,m,g,b,k,T;ue(2,arguments);var x=String(e),w=pi(),_=(n=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:w.locale)!==null&&n!==void 0?n:G1,C=ve((a=(o=(s=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&o!==void 0?o:(f=w.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=ve((h=(p=(v=(m=t==null?void 0:t.weekStartsOn)!==null&&m!==void 0?m:t==null||(g=t.locale)===null||g===void 0||(b=g.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:w.weekStartsOn)!==null&&p!==void 0?p:(k=w.locale)===null||k===void 0||(T=k.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&h!==void 0?h:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var V=ge(r);if(!Lo(V))throw new RangeError("Invalid time value");var N=su(V),U=z1(V,N),R={firstWeekContainsDate:C,weekStartsOn:H,locale:_,_originalDate:V},S=x.match(HE).map(function(L){var $=L[0];if($==="p"||$==="P"){var y=md[$];return y(L,_.formatLong)}return L}).join("").match(BE).map(function(L){if(L==="''")return"'";var $=L[0];if($==="'")return qE(L);var y=KM[$];if(y)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Y1(L)&&lu(L,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&j1(L)&&lu(L,e,String(r)),y(U,L,_.localize,R);if($.match(VE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return L}).join("");return S}function qE(r){var e=r.match(FE);return e?e[1].replace(zE,"'"):r}function UE(r,e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}function WE(r){ue(1,arguments);var e=ge(r),t=e.getDay();return t}function jE(r){ue(1,arguments);var e=ge(r),t=e.getFullYear(),n=e.getMonth(),i=new Date(0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Dn(r){ue(1,arguments);var e=ge(r),t=e.getHours();return t}var YE=6048e5;function GE(r){ue(1,arguments);var e=ge(r),t=ou(e).getTime()-IM(e).getTime();return Math.round(t/YE)+1}function An(r){ue(1,arguments);var e=ge(r),t=e.getMinutes();return t}function Xe(r){ue(1,arguments);var e=ge(r),t=e.getMonth();return t}function $a(r){ue(1,arguments);var e=ge(r),t=e.getSeconds();return t}function Je(r){return ue(1,arguments),ge(r).getFullYear()}function Hp(r,e){ue(2,arguments);var t=ge(r),n=ge(e);return t.getTime()>n.getTime()}function Fp(r,e){ue(2,arguments);var t=ge(r),n=ge(e);return t.getTime()<n.getTime()}function K1(r,e){ue(2,arguments);var t=ge(r),n=ge(e);return t.getTime()===n.getTime()}function Qs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qs=function(t){return typeof t}:Qs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(r)}function X1(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&gd(r,e)}function gd(r,e){return gd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gd(r,e)}function J1(r){var e=XE();return function(){var n=uu(r),i;if(e){var a=uu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return KE(this,i)}}function KE(r,e){return e&&(Qs(e)==="object"||typeof e=="function")?e:yd(r)}function yd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function XE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uu(r){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(r)}function zp(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Vp(r,e,t){return e&&fg(r.prototype,e),t&&fg(r,t),r}function bd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var JE=10,Q1=function(){function r(){zp(this,r),bd(this,"subPriority",0)}return Vp(r,[{key:"validate",value:function(t,n){return!0}}]),r}(),QE=function(r){X1(t,r);var e=J1(t);function t(n,i,a,o,s){var l;return zp(this,t),l=e.call(this),l.value=n,l.validateValue=i,l.setValue=a,l.priority=o,s&&(l.subPriority=s),l}return Vp(t,[{key:"validate",value:function(i,a){return this.validateValue(i,this.value,a)}},{key:"set",value:function(i,a,o){return this.setValue(i,a,this.value,o)}}]),t}(Q1),ZE=function(r){X1(t,r);var e=J1(t);function t(){var n;zp(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),bd(yd(n),"priority",JE),bd(yd(n),"subPriority",-1),n}return Vp(t,[{key:"set",value:function(i,a){if(a.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),t}(Q1);function eD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function dg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function tD(r,e,t){return e&&dg(r.prototype,e),t&&dg(r,t),r}var $e=function(){function r(){eD(this,r)}return tD(r,[{key:"run",value:function(t,n,i,a){var o=this.parse(t,n,i,a);return o?{setter:new QE(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t,n,i){return!0}}]),r}();function Zs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zs=function(t){return typeof t}:Zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(r)}function rD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function nD(r,e,t){return e&&hg(r.prototype,e),t&&hg(r,t),r}function iD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&wd(r,e)}function wd(r,e){return wd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wd(r,e)}function aD(r){var e=sD();return function(){var n=cu(r),i;if(e){var a=cu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return oD(this,i)}}function oD(r,e){return e&&(Zs(e)==="object"||typeof e=="function")?e:kd(r)}function kd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cu(r){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(r)}function pg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var lD=function(r){iD(t,r);var e=aD(t);function t(){var n;rD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),pg(kd(n),"priority",140),pg(kd(n),"incompatibleTokens",["R","u","t","T"]),n}return nD(t,[{key:"parse",value:function(i,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,a,o){return a.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),t}($e),ft={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},on={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function dt(r,e){return r&&{value:e(r.value),rest:r.rest}}function et(r,e){var t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function sn(r,e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(i*$p+a*Ip+o*HM),rest:e.slice(t[0].length)}}function Z1(r){return et(ft.anyDigitsSigned,r)}function ot(r,e){switch(r){case 1:return et(ft.singleDigit,e);case 2:return et(ft.twoDigits,e);case 3:return et(ft.threeDigits,e);case 4:return et(ft.fourDigits,e);default:return et(new RegExp("^\\d{1,"+r+"}"),e)}}function fu(r,e){switch(r){case 1:return et(ft.singleDigitSigned,e);case 2:return et(ft.twoDigitsSigned,e);case 3:return et(ft.threeDigitsSigned,e);case 4:return et(ft.fourDigitsSigned,e);default:return et(new RegExp("^-?\\d{1,"+r+"}"),e)}}function qp(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ek(r,e){var t=e>0,n=t?e:1-e,i;if(n<=50)i=r||100;else{var a=n+50,o=Math.floor(a/100)*100,s=r>=a%100;i=r+o-(s?100:0)}return t?i:1-i}function tk(r){return r%400===0||r%4===0&&r%100!==0}function el(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(t){return typeof t}:el=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(r)}function uD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function vg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function cD(r,e,t){return e&&vg(r.prototype,e),t&&vg(r,t),r}function fD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&xd(r,e)}function xd(r,e){return xd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xd(r,e)}function dD(r){var e=pD();return function(){var n=du(r),i;if(e){var a=du(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hD(this,i)}}function hD(r,e){return e&&(el(e)==="object"||typeof e=="function")?e:Td(r)}function Td(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function du(r){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(r)}function mg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var vD=function(r){fD(t,r);var e=dD(t);function t(){var n;uD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),mg(Td(n),"priority",130),mg(Td(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return cD(t,[{key:"parse",value:function(i,a,o){var s=function(u){return{year:u,isTwoDigitYear:a==="yy"}};switch(a){case"y":return dt(ot(4,i),s);case"yo":return dt(o.ordinalNumber(i,{unit:"year"}),s);default:return dt(ot(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o){var s=i.getUTCFullYear();if(o.isTwoDigitYear){var l=ek(o.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function tl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tl=function(t){return typeof t}:tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(r)}function mD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function gD(r,e,t){return e&&gg(r.prototype,e),t&&gg(r,t),r}function yD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&_d(r,e)}function _d(r,e){return _d=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_d(r,e)}function bD(r){var e=kD();return function(){var n=hu(r),i;if(e){var a=hu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wD(this,i)}}function wD(r,e){return e&&(tl(e)==="object"||typeof e=="function")?e:Cd(r)}function Cd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hu(r){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(r)}function yg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var xD=function(r){yD(t,r);var e=bD(t);function t(){var n;mD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),yg(Cd(n),"priority",130),yg(Cd(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return gD(t,[{key:"parse",value:function(i,a,o){var s=function(u){return{year:u,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return dt(ot(4,i),s);case"Yo":return dt(o.ordinalNumber(i,{unit:"year"}),s);default:return dt(ot(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o,s){var l=Bp(i,s);if(o.isTwoDigitYear){var u=ek(o.year,l);return i.setUTCFullYear(u,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Gi(i,s)}var c=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Gi(i,s)}}]),t}($e);function rl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rl=function(t){return typeof t}:rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(r)}function TD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function _D(r,e,t){return e&&bg(r.prototype,e),t&&bg(r,t),r}function CD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Sd(r,e)}function Sd(r,e){return Sd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Sd(r,e)}function SD(r){var e=MD();return function(){var n=pu(r),i;if(e){var a=pu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return OD(this,i)}}function OD(r,e){return e&&(rl(e)==="object"||typeof e=="function")?e:Od(r)}function Od(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pu(r){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(r)}function wg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ED=function(r){CD(t,r);var e=SD(t);function t(){var n;TD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),wg(Od(n),"priority",130),wg(Od(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return _D(t,[{key:"parse",value:function(i,a){return fu(a==="R"?4:a.length,i)}},{key:"set",value:function(i,a,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),Ia(s)}}]),t}($e);function nl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nl=function(t){return typeof t}:nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(r)}function DD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function kg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function AD(r,e,t){return e&&kg(r.prototype,e),t&&kg(r,t),r}function PD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Md(r,e)}function Md(r,e){return Md=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Md(r,e)}function ND(r){var e=LD();return function(){var n=vu(r),i;if(e){var a=vu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RD(this,i)}}function RD(r,e){return e&&(nl(e)==="object"||typeof e=="function")?e:Ed(r)}function Ed(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vu(r){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(r)}function xg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ID=function(r){PD(t,r);var e=ND(t);function t(){var n;DD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),xg(Ed(n),"priority",130),xg(Ed(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return AD(t,[{key:"parse",value:function(i,a){return fu(a==="u"?4:a.length,i)}},{key:"set",value:function(i,a,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function il(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(r)}function $D(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Tg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function BD(r,e,t){return e&&Tg(r.prototype,e),t&&Tg(r,t),r}function HD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Dd(r,e)}function Dd(r,e){return Dd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Dd(r,e)}function FD(r){var e=VD();return function(){var n=mu(r),i;if(e){var a=mu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zD(this,i)}}function zD(r,e){return e&&(il(e)==="object"||typeof e=="function")?e:Ad(r)}function Ad(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mu(r){return mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(r)}function _g(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var qD=function(r){HD(t,r);var e=FD(t);function t(){var n;$D(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),_g(Ad(n),"priority",120),_g(Ad(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return BD(t,[{key:"parse",value:function(i,a,o){switch(a){case"Q":case"QQ":return ot(a.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function al(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(r)}function UD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Cg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function WD(r,e,t){return e&&Cg(r.prototype,e),t&&Cg(r,t),r}function jD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Pd(r,e)}function Pd(r,e){return Pd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pd(r,e)}function YD(r){var e=KD();return function(){var n=gu(r),i;if(e){var a=gu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GD(this,i)}}function GD(r,e){return e&&(al(e)==="object"||typeof e=="function")?e:Nd(r)}function Nd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function KD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gu(r){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(r)}function Sg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var XD=function(r){jD(t,r);var e=YD(t);function t(){var n;UD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Sg(Nd(n),"priority",120),Sg(Nd(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return WD(t,[{key:"parse",value:function(i,a,o){switch(a){case"q":case"qq":return ot(a.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function ol(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ol=function(t){return typeof t}:ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(r)}function JD(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Og(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function QD(r,e,t){return e&&Og(r.prototype,e),t&&Og(r,t),r}function ZD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Rd(r,e)}function Rd(r,e){return Rd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rd(r,e)}function eA(r){var e=rA();return function(){var n=yu(r),i;if(e){var a=yu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tA(this,i)}}function tA(r,e){return e&&(ol(e)==="object"||typeof e=="function")?e:Ld(r)}function Ld(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yu(r){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(r)}function Mg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var nA=function(r){ZD(t,r);var e=eA(t);function t(){var n;JD(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Mg(Ld(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Mg(Ld(n),"priority",110),n}return QD(t,[{key:"parse",value:function(i,a,o){var s=function(u){return u-1};switch(a){case"M":return dt(et(ft.month,i),s);case"MM":return dt(ot(2,i),s);case"Mo":return dt(o.ordinalNumber(i,{unit:"month"}),s);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function sl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sl=function(t){return typeof t}:sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(r)}function iA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Eg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function aA(r,e,t){return e&&Eg(r.prototype,e),t&&Eg(r,t),r}function oA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Id(r,e)}function Id(r,e){return Id=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Id(r,e)}function sA(r){var e=uA();return function(){var n=bu(r),i;if(e){var a=bu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return lA(this,i)}}function lA(r,e){return e&&(sl(e)==="object"||typeof e=="function")?e:$d(r)}function $d(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bu(r){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bu(r)}function Dg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var cA=function(r){oA(t,r);var e=sA(t);function t(){var n;iA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Dg($d(n),"priority",110),Dg($d(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return aA(t,[{key:"parse",value:function(i,a,o){var s=function(u){return u-1};switch(a){case"L":return dt(et(ft.month,i),s);case"LL":return dt(ot(2,i),s);case"Lo":return dt(o.ordinalNumber(i,{unit:"month"}),s);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),t}($e);function fA(r,e,t){ue(2,arguments);var n=ge(r),i=ve(e),a=U1(n,t)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}function ll(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ll=function(t){return typeof t}:ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(r)}function dA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ag(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function hA(r,e,t){return e&&Ag(r.prototype,e),t&&Ag(r,t),r}function pA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Bd(r,e)}function Bd(r,e){return Bd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bd(r,e)}function vA(r){var e=gA();return function(){var n=wu(r),i;if(e){var a=wu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return mA(this,i)}}function mA(r,e){return e&&(ll(e)==="object"||typeof e=="function")?e:Hd(r)}function Hd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wu(r){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wu(r)}function Pg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var yA=function(r){pA(t,r);var e=vA(t);function t(){var n;dA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Pg(Hd(n),"priority",100),Pg(Hd(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return hA(t,[{key:"parse",value:function(i,a,o){switch(a){case"w":return et(ft.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o,s){return Gi(fA(i,o,s),s)}}]),t}($e);function bA(r,e){ue(2,arguments);var t=ge(r),n=ve(e),i=q1(t)-n;return t.setUTCDate(t.getUTCDate()-i*7),t}function ul(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ul=function(t){return typeof t}:ul=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(r)}function wA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ng(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function kA(r,e,t){return e&&Ng(r.prototype,e),t&&Ng(r,t),r}function xA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Fd(r,e)}function Fd(r,e){return Fd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fd(r,e)}function TA(r){var e=CA();return function(){var n=ku(r),i;if(e){var a=ku(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _A(this,i)}}function _A(r,e){return e&&(ul(e)==="object"||typeof e=="function")?e:zd(r)}function zd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function CA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ku(r){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(r)}function Rg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var SA=function(r){xA(t,r);var e=TA(t);function t(){var n;wA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Rg(zd(n),"priority",100),Rg(zd(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return kA(t,[{key:"parse",value:function(i,a,o){switch(a){case"I":return et(ft.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o){return Ia(bA(i,o))}}]),t}($e);function cl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cl=function(t){return typeof t}:cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(r)}function OA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function MA(r,e,t){return e&&Lg(r.prototype,e),t&&Lg(r,t),r}function EA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Vd(r,e)}function Vd(r,e){return Vd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vd(r,e)}function DA(r){var e=PA();return function(){var n=xu(r),i;if(e){var a=xu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return AA(this,i)}}function AA(r,e){return e&&(cl(e)==="object"||typeof e=="function")?e:fl(r)}function fl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xu(r){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xu(r)}function nf(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var NA=[31,28,31,30,31,30,31,31,30,31,30,31],RA=[31,29,31,30,31,30,31,31,30,31,30,31],LA=function(r){EA(t,r);var e=DA(t);function t(){var n;OA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),nf(fl(n),"priority",90),nf(fl(n),"subPriority",1),nf(fl(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return MA(t,[{key:"parse",value:function(i,a,o){switch(a){case"d":return et(ft.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=tk(o),l=i.getUTCMonth();return s?a>=1&&a<=RA[l]:a>=1&&a<=NA[l]}},{key:"set",value:function(i,a,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),t}($e);function dl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dl=function(t){return typeof t}:dl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(r)}function IA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ig(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function $A(r,e,t){return e&&Ig(r.prototype,e),t&&Ig(r,t),r}function BA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&qd(r,e)}function qd(r,e){return qd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},qd(r,e)}function HA(r){var e=zA();return function(){var n=Tu(r),i;if(e){var a=Tu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return FA(this,i)}}function FA(r,e){return e&&(dl(e)==="object"||typeof e=="function")?e:hl(r)}function hl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tu(r){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(r)}function af(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var VA=function(r){BA(t,r);var e=HA(t);function t(){var n;IA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),af(hl(n),"priority",90),af(hl(n),"subpriority",1),af(hl(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return $A(t,[{key:"parse",value:function(i,a,o){switch(a){case"D":case"DD":return et(ft.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=tk(o);return s?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(i,a,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),t}($e);function Up(r,e,t){var n,i,a,o,s,l,u,c;ue(2,arguments);var f=pi(),d=ve((n=(i=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:f.weekStartsOn)!==null&&i!==void 0?i:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ge(r),p=ve(e),v=h.getUTCDay(),m=p%7,g=(m+7)%7,b=(g<d?7:0)+p-v;return h.setUTCDate(h.getUTCDate()+b),h}function pl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pl=function(t){return typeof t}:pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(r)}function qA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $g(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function UA(r,e,t){return e&&$g(r.prototype,e),t&&$g(r,t),r}function WA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Ud(r,e)}function Ud(r,e){return Ud=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ud(r,e)}function jA(r){var e=GA();return function(){var n=_u(r),i;if(e){var a=_u(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return YA(this,i)}}function YA(r,e){return e&&(pl(e)==="object"||typeof e=="function")?e:Wd(r)}function Wd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _u(r){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(r)}function Bg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var KA=function(r){WA(t,r);var e=jA(t);function t(){var n;qA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Bg(Wd(n),"priority",90),Bg(Wd(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return UA(t,[{key:"parse",value:function(i,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=Up(i,o,s),i.setUTCHours(0,0,0,0),i}}]),t}($e);function vl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vl=function(t){return typeof t}:vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(r)}function XA(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Hg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function JA(r,e,t){return e&&Hg(r.prototype,e),t&&Hg(r,t),r}function QA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&jd(r,e)}function jd(r,e){return jd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jd(r,e)}function ZA(r){var e=tP();return function(){var n=Cu(r),i;if(e){var a=Cu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return eP(this,i)}}function eP(r,e){return e&&(vl(e)==="object"||typeof e=="function")?e:Yd(r)}function Yd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cu(r){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(r)}function Fg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var rP=function(r){QA(t,r);var e=ZA(t);function t(){var n;XA(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Fg(Yd(n),"priority",90),Fg(Yd(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return JA(t,[{key:"parse",value:function(i,a,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(a){case"e":case"ee":return dt(ot(a.length,i),l);case"eo":return dt(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=Up(i,o,s),i.setUTCHours(0,0,0,0),i}}]),t}($e);function ml(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ml=function(t){return typeof t}:ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(r)}function nP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function iP(r,e,t){return e&&zg(r.prototype,e),t&&zg(r,t),r}function aP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Gd(r,e)}function Gd(r,e){return Gd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Gd(r,e)}function oP(r){var e=lP();return function(){var n=Su(r),i;if(e){var a=Su(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sP(this,i)}}function sP(r,e){return e&&(ml(e)==="object"||typeof e=="function")?e:Kd(r)}function Kd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Su(r){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Su(r)}function Vg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uP=function(r){aP(t,r);var e=oP(t);function t(){var n;nP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Vg(Kd(n),"priority",90),Vg(Kd(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return iP(t,[{key:"parse",value:function(i,a,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(a){case"c":case"cc":return dt(ot(a.length,i),l);case"co":return dt(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=Up(i,o,s),i.setUTCHours(0,0,0,0),i}}]),t}($e);function cP(r,e){ue(2,arguments);var t=ve(e);t%7===0&&(t=t-7);var n=1,i=ge(r),a=i.getUTCDay(),o=t%7,s=(o+7)%7,l=(s<n?7:0)+t-a;return i.setUTCDate(i.getUTCDate()+l),i}function gl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gl=function(t){return typeof t}:gl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(r)}function fP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function dP(r,e,t){return e&&qg(r.prototype,e),t&&qg(r,t),r}function hP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Xd(r,e)}function Xd(r,e){return Xd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xd(r,e)}function pP(r){var e=mP();return function(){var n=Ou(r),i;if(e){var a=Ou(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vP(this,i)}}function vP(r,e){return e&&(gl(e)==="object"||typeof e=="function")?e:Jd(r)}function Jd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function mP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ou(r){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ou(r)}function Ug(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var gP=function(r){hP(t,r);var e=pP(t);function t(){var n;fP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Ug(Jd(n),"priority",90),Ug(Jd(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return dP(t,[{key:"parse",value:function(i,a,o){var s=function(u){return u===0?7:u};switch(a){case"i":case"ii":return ot(a.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return dt(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return dt(o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return dt(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return dt(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,a){return a>=1&&a<=7}},{key:"set",value:function(i,a,o){return i=cP(i,o),i.setUTCHours(0,0,0,0),i}}]),t}($e);function yl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yl=function(t){return typeof t}:yl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(r)}function yP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Wg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function bP(r,e,t){return e&&Wg(r.prototype,e),t&&Wg(r,t),r}function wP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Qd(r,e)}function Qd(r,e){return Qd=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qd(r,e)}function kP(r){var e=TP();return function(){var n=Mu(r),i;if(e){var a=Mu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return xP(this,i)}}function xP(r,e){return e&&(yl(e)==="object"||typeof e=="function")?e:Zd(r)}function Zd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function TP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mu(r){return Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(r)}function jg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var _P=function(r){wP(t,r);var e=kP(t);function t(){var n;yP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),jg(Zd(n),"priority",80),jg(Zd(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return bP(t,[{key:"parse",value:function(i,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(qp(o),0,0,0),i}}]),t}($e);function bl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bl=function(t){return typeof t}:bl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(r)}function CP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Yg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function SP(r,e,t){return e&&Yg(r.prototype,e),t&&Yg(r,t),r}function OP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&eh(r,e)}function eh(r,e){return eh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eh(r,e)}function MP(r){var e=DP();return function(){var n=Eu(r),i;if(e){var a=Eu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return EP(this,i)}}function EP(r,e){return e&&(bl(e)==="object"||typeof e=="function")?e:th(r)}function th(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function DP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eu(r){return Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eu(r)}function Gg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var AP=function(r){OP(t,r);var e=MP(t);function t(){var n;CP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Gg(th(n),"priority",80),Gg(th(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return SP(t,[{key:"parse",value:function(i,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(qp(o),0,0,0),i}}]),t}($e);function wl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wl=function(t){return typeof t}:wl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(r)}function PP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Kg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function NP(r,e,t){return e&&Kg(r.prototype,e),t&&Kg(r,t),r}function RP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&rh(r,e)}function rh(r,e){return rh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rh(r,e)}function LP(r){var e=$P();return function(){var n=Du(r),i;if(e){var a=Du(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return IP(this,i)}}function IP(r,e){return e&&(wl(e)==="object"||typeof e=="function")?e:nh(r)}function nh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function $P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Du(r){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Du(r)}function Xg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var BP=function(r){RP(t,r);var e=LP(t);function t(){var n;PP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Xg(nh(n),"priority",80),Xg(nh(n),"incompatibleTokens",["a","b","t","T"]),n}return NP(t,[{key:"parse",value:function(i,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(qp(o),0,0,0),i}}]),t}($e);function kl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kl=function(t){return typeof t}:kl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(r)}function HP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Jg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function FP(r,e,t){return e&&Jg(r.prototype,e),t&&Jg(r,t),r}function zP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ih(r,e)}function ih(r,e){return ih=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ih(r,e)}function VP(r){var e=UP();return function(){var n=Au(r),i;if(e){var a=Au(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qP(this,i)}}function qP(r,e){return e&&(kl(e)==="object"||typeof e=="function")?e:ah(r)}function ah(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function UP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Au(r){return Au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Au(r)}function Qg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var WP=function(r){zP(t,r);var e=VP(t);function t(){var n;HP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),Qg(ah(n),"priority",70),Qg(ah(n),"incompatibleTokens",["H","K","k","t","T"]),n}return FP(t,[{key:"parse",value:function(i,a,o){switch(a){case"h":return et(ft.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=12}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):!s&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),t}($e);function xl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(t){return typeof t}:xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(r)}function jP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Zg(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function YP(r,e,t){return e&&Zg(r.prototype,e),t&&Zg(r,t),r}function GP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&oh(r,e)}function oh(r,e){return oh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},oh(r,e)}function KP(r){var e=JP();return function(){var n=Pu(r),i;if(e){var a=Pu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return XP(this,i)}}function XP(r,e){return e&&(xl(e)==="object"||typeof e=="function")?e:sh(r)}function sh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pu(r){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(r)}function ey(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var QP=function(r){GP(t,r);var e=KP(t);function t(){var n;jP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),ey(sh(n),"priority",70),ey(sh(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return YP(t,[{key:"parse",value:function(i,a,o){switch(a){case"H":return et(ft.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=23}},{key:"set",value:function(i,a,o){return i.setUTCHours(o,0,0,0),i}}]),t}($e);function Tl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tl=function(t){return typeof t}:Tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(r)}function ZP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ty(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function eN(r,e,t){return e&&ty(r.prototype,e),t&&ty(r,t),r}function tN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&lh(r,e)}function lh(r,e){return lh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lh(r,e)}function rN(r){var e=iN();return function(){var n=Nu(r),i;if(e){var a=Nu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nN(this,i)}}function nN(r,e){return e&&(Tl(e)==="object"||typeof e=="function")?e:uh(r)}function uh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nu(r){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nu(r)}function ry(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var aN=function(r){tN(t,r);var e=rN(t);function t(){var n;ZP(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),ry(uh(n),"priority",70),ry(uh(n),"incompatibleTokens",["h","H","k","t","T"]),n}return eN(t,[{key:"parse",value:function(i,a,o){switch(a){case"K":return et(ft.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),t}($e);function _l(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_l=function(t){return typeof t}:_l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(r)}function oN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ny(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function sN(r,e,t){return e&&ny(r.prototype,e),t&&ny(r,t),r}function lN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ch(r,e)}function ch(r,e){return ch=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ch(r,e)}function uN(r){var e=fN();return function(){var n=Ru(r),i;if(e){var a=Ru(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return cN(this,i)}}function cN(r,e){return e&&(_l(e)==="object"||typeof e=="function")?e:fh(r)}function fh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ru(r){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(r)}function iy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var dN=function(r){lN(t,r);var e=uN(t);function t(){var n;oN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),iy(fh(n),"priority",70),iy(fh(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return sN(t,[{key:"parse",value:function(i,a,o){switch(a){case"k":return et(ft.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=24}},{key:"set",value:function(i,a,o){var s=o<=24?o%24:o;return i.setUTCHours(s,0,0,0),i}}]),t}($e);function Cl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cl=function(t){return typeof t}:Cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(r)}function hN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ay(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function pN(r,e,t){return e&&ay(r.prototype,e),t&&ay(r,t),r}function vN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&dh(r,e)}function dh(r,e){return dh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},dh(r,e)}function mN(r){var e=yN();return function(){var n=Lu(r),i;if(e){var a=Lu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gN(this,i)}}function gN(r,e){return e&&(Cl(e)==="object"||typeof e=="function")?e:hh(r)}function hh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lu(r){return Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lu(r)}function oy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var bN=function(r){vN(t,r);var e=mN(t);function t(){var n;hN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),oy(hh(n),"priority",60),oy(hh(n),"incompatibleTokens",["t","T"]),n}return pN(t,[{key:"parse",value:function(i,a,o){switch(a){case"m":return et(ft.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCMinutes(o,0,0),i}}]),t}($e);function Sl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sl=function(t){return typeof t}:Sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(r)}function wN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function kN(r,e,t){return e&&sy(r.prototype,e),t&&sy(r,t),r}function xN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ph(r,e)}function ph(r,e){return ph=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ph(r,e)}function TN(r){var e=CN();return function(){var n=Iu(r),i;if(e){var a=Iu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _N(this,i)}}function _N(r,e){return e&&(Sl(e)==="object"||typeof e=="function")?e:vh(r)}function vh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function CN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iu(r){return Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(r)}function ly(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var SN=function(r){xN(t,r);var e=TN(t);function t(){var n;wN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),ly(vh(n),"priority",50),ly(vh(n),"incompatibleTokens",["t","T"]),n}return kN(t,[{key:"parse",value:function(i,a,o){switch(a){case"s":return et(ft.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return ot(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCSeconds(o,0),i}}]),t}($e);function Ol(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ol=function(t){return typeof t}:Ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(r)}function ON(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function uy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function MN(r,e,t){return e&&uy(r.prototype,e),t&&uy(r,t),r}function EN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&mh(r,e)}function mh(r,e){return mh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mh(r,e)}function DN(r){var e=PN();return function(){var n=$u(r),i;if(e){var a=$u(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return AN(this,i)}}function AN(r,e){return e&&(Ol(e)==="object"||typeof e=="function")?e:gh(r)}function gh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $u(r){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(r)}function cy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var NN=function(r){EN(t,r);var e=DN(t);function t(){var n;ON(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),cy(gh(n),"priority",30),cy(gh(n),"incompatibleTokens",["t","T"]),n}return MN(t,[{key:"parse",value:function(i,a){var o=function(l){return Math.floor(l*Math.pow(10,-a.length+3))};return dt(ot(a.length,i),o)}},{key:"set",value:function(i,a,o){return i.setUTCMilliseconds(o),i}}]),t}($e);function Ml(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ml=function(t){return typeof t}:Ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(r)}function RN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function LN(r,e,t){return e&&fy(r.prototype,e),t&&fy(r,t),r}function IN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&yh(r,e)}function yh(r,e){return yh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yh(r,e)}function $N(r){var e=HN();return function(){var n=Bu(r),i;if(e){var a=Bu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return BN(this,i)}}function BN(r,e){return e&&(Ml(e)==="object"||typeof e=="function")?e:bh(r)}function bh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function HN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bu(r){return Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bu(r)}function dy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var FN=function(r){IN(t,r);var e=$N(t);function t(){var n;RN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),dy(bh(n),"priority",10),dy(bh(n),"incompatibleTokens",["t","T","x"]),n}return LN(t,[{key:"parse",value:function(i,a){switch(a){case"X":return sn(on.basicOptionalMinutes,i);case"XX":return sn(on.basic,i);case"XXXX":return sn(on.basicOptionalSeconds,i);case"XXXXX":return sn(on.extendedOptionalSeconds,i);case"XXX":default:return sn(on.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),t}($e);function El(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?El=function(t){return typeof t}:El=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(r)}function zN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function VN(r,e,t){return e&&hy(r.prototype,e),t&&hy(r,t),r}function qN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&wh(r,e)}function wh(r,e){return wh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wh(r,e)}function UN(r){var e=jN();return function(){var n=Hu(r),i;if(e){var a=Hu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return WN(this,i)}}function WN(r,e){return e&&(El(e)==="object"||typeof e=="function")?e:kh(r)}function kh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function jN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(r){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(r)}function py(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var YN=function(r){qN(t,r);var e=UN(t);function t(){var n;zN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),py(kh(n),"priority",10),py(kh(n),"incompatibleTokens",["t","T","X"]),n}return VN(t,[{key:"parse",value:function(i,a){switch(a){case"x":return sn(on.basicOptionalMinutes,i);case"xx":return sn(on.basic,i);case"xxxx":return sn(on.basicOptionalSeconds,i);case"xxxxx":return sn(on.extendedOptionalSeconds,i);case"xxx":default:return sn(on.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),t}($e);function Dl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dl=function(t){return typeof t}:Dl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(r)}function GN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function KN(r,e,t){return e&&vy(r.prototype,e),t&&vy(r,t),r}function XN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&xh(r,e)}function xh(r,e){return xh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xh(r,e)}function JN(r){var e=ZN();return function(){var n=Fu(r),i;if(e){var a=Fu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QN(this,i)}}function QN(r,e){return e&&(Dl(e)==="object"||typeof e=="function")?e:Th(r)}function Th(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fu(r){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(r)}function my(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var eR=function(r){XN(t,r);var e=JN(t);function t(){var n;GN(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),my(Th(n),"priority",40),my(Th(n),"incompatibleTokens","*"),n}return KN(t,[{key:"parse",value:function(i){return Z1(i)}},{key:"set",value:function(i,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),t}($e);function Al(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Al=function(t){return typeof t}:Al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(r)}function tR(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function rR(r,e,t){return e&&gy(r.prototype,e),t&&gy(r,t),r}function nR(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&_h(r,e)}function _h(r,e){return _h=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_h(r,e)}function iR(r){var e=oR();return function(){var n=zu(r),i;if(e){var a=zu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return aR(this,i)}}function aR(r,e){return e&&(Al(e)==="object"||typeof e=="function")?e:Ch(r)}function Ch(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zu(r){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(r)}function yy(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var sR=function(r){nR(t,r);var e=iR(t);function t(){var n;tR(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),yy(Ch(n),"priority",20),yy(Ch(n),"incompatibleTokens","*"),n}return rR(t,[{key:"parse",value:function(i){return Z1(i)}},{key:"set",value:function(i,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),t}($e),lR={G:new lD,y:new vD,Y:new xD,R:new ED,u:new ID,Q:new qD,q:new XD,M:new nA,L:new cA,w:new yA,I:new SA,d:new LA,D:new VA,E:new KA,e:new rP,c:new uP,i:new gP,a:new _P,b:new AP,B:new BP,h:new WP,H:new QP,K:new aN,k:new dN,m:new bN,s:new SN,S:new NN,X:new FN,x:new YN,t:new eR,T:new sR};function Pl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pl=function(t){return typeof t}:Pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(r)}function by(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=uR(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function uR(r,e){if(!!r){if(typeof r=="string")return wy(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wy(r,e)}}function wy(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var cR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dR=/^'([^]*?)'?$/,hR=/''/g,pR=/\S/,vR=/[a-zA-Z]/;function Sh(r,e,t,n){var i,a,o,s,l,u,c,f,d,h,p,v,m,g,b,k,T,x;ue(3,arguments);var w=String(r),_=String(e),C=pi(),H=(i=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:C.locale)!==null&&i!==void 0?i:G1;if(!H.match)throw new RangeError("locale must contain match property");var V=ve((o=(s=(l=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(c=n.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&s!==void 0?s:(d=C.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=ve((p=(v=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(b=n.locale)===null||b===void 0||(k=b.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&m!==void 0?m:C.weekStartsOn)!==null&&v!==void 0?v:(T=C.locale)===null||T===void 0||(x=T.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(_==="")return w===""?ge(t):new Date(NaN);var U={firstWeekContainsDate:V,weekStartsOn:N,locale:H},R=[new ZE],S=_.match(fR).map(function(Ee){var we=Ee[0];if(we in md){var le=md[we];return le(Ee,H.formatLong)}return Ee}).join("").match(cR),L=[],$=by(S),y;try{var A=function(){var we=y.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&Y1(we)&&lu(we,_,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&j1(we)&&lu(we,_,r);var le=we[0],ht=lR[le];if(ht){var me=ht.incompatibleTokens;if(Array.isArray(me)){var Ae=L.find(function(Ct){return me.includes(Ct.token)||Ct.token===le});if(Ae)throw new RangeError("The format string mustn't contain `".concat(Ae.fullToken,"` and `").concat(we,"` at the same time"))}else if(ht.incompatibleTokens==="*"&&L.length>0)throw new RangeError("The format string mustn't contain `".concat(we,"` and any other token at the same time"));L.push({token:le,fullToken:we});var We=ht.run(w,we,H.match,U);if(!We)return{v:new Date(NaN)};R.push(We.setter),w=We.rest}else{if(le.match(vR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");if(we==="''"?we="'":le==="'"&&(we=mR(we)),w.indexOf(we)===0)w=w.slice(we.length);else return{v:new Date(NaN)}}};for($.s();!(y=$.n()).done;){var B=A();if(Pl(B)==="object")return B.v}}catch(Ee){$.e(Ee)}finally{$.f()}if(w.length>0&&pR.test(w))return new Date(NaN);var K=R.map(function(Ee){return Ee.priority}).sort(function(Ee,we){return we-Ee}).filter(function(Ee,we,le){return le.indexOf(Ee)===we}).map(function(Ee){return R.filter(function(we){return we.priority===Ee}).sort(function(we,le){return le.subPriority-we.subPriority})}).map(function(Ee){return Ee[0]}),Q=ge(t);if(isNaN(Q.getTime()))return new Date(NaN);var D=z1(Q,su(Q)),P={},q=by(K),pe;try{for(q.s();!(pe=q.n()).done;){var ke=pe.value;if(!ke.validate(D,U))return new Date(NaN);var qe=ke.set(D,P,U);Array.isArray(qe)?(D=qe[0],UE(P,qe[1])):D=qe}}catch(Ee){q.e(Ee)}finally{q.f()}return D}function mR(r){return r.match(dR)[1].replace(hR,"'")}function gR(r,e){ue(2,arguments);var t=ve(e);return ai(r,-t)}function yR(r,e){var t;ue(1,arguments);var n=ve((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var i=xR(r),a;if(i.date){var o=TR(i.date,n);a=_R(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,u;if(i.time&&(l=CR(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=SR(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(s+l),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(s+l+u)}var Cs={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kR=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xR(r){var e={},t=r.split(Cs.dateTimeDelimiter),n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Cs.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Cs.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){var i=Cs.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function TR(r,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function _R(r,e){if(e===null)return new Date(NaN);var t=r.match(bR);if(!t)return new Date(NaN);var n=!!t[4],i=po(t[1]),a=po(t[2])-1,o=po(t[3]),s=po(t[4]),l=po(t[5])-1;if(n)return AR(e,s,l)?OR(e,s,l):new Date(NaN);var u=new Date(0);return!ER(e,a,o)||!DR(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}function po(r){return r?parseInt(r):1}function CR(r){var e=r.match(wR);if(!e)return NaN;var t=of(e[1]),n=of(e[2]),i=of(e[3]);return PR(t,n,i)?t*$p+n*Ip+i*1e3:NaN}function of(r){return r&&parseFloat(r.replace(",","."))||0}function SR(r){if(r==="Z")return 0;var e=r.match(kR);if(!e)return 0;var t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return NR(n,i)?t*(n*$p+i*Ip):NaN}function OR(r,e,t){var n=new Date(0);n.setUTCFullYear(r,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var MR=[31,null,31,30,31,30,31,31,30,31,30,31];function rk(r){return r%400===0||r%4===0&&r%100!==0}function ER(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(MR[e]||(rk(r)?29:28))}function DR(r,e){return e>=1&&e<=(rk(r)?366:365)}function AR(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function PR(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function NR(r,e){return e>=0&&e<=59}function $o(r,e){ue(2,arguments);var t=ge(r),n=ve(e),i=t.getFullYear(),a=t.getDate(),o=new Date(0);o.setFullYear(i,n,15),o.setHours(0,0,0,0);var s=jE(o);return t.setMonth(n,Math.min(a,s)),t}function Nl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nl=function(t){return typeof t}:Nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(r)}function Xt(r,e){if(ue(2,arguments),Nl(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=ge(r);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=$o(t,e.month)),e.date!=null&&t.setDate(ve(e.date)),e.hours!=null&&t.setHours(ve(e.hours)),e.minutes!=null&&t.setMinutes(ve(e.minutes)),e.seconds!=null&&t.setSeconds(ve(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(ve(e.milliseconds)),t)}function nk(r,e){ue(2,arguments);var t=ge(r),n=ve(e);return t.setHours(n),t}function Wp(r,e){ue(2,arguments);var t=ge(r),n=ve(e);return t.setMilliseconds(n),t}function ik(r,e){ue(2,arguments);var t=ge(r),n=ve(e);return t.setMinutes(n),t}function ak(r,e){ue(2,arguments);var t=ge(r),n=ve(e);return t.setSeconds(n),t}function Fi(r,e){ue(2,arguments);var t=ge(r),n=ve(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(n),t)}function Ea(r,e){ue(2,arguments);var t=ve(e);return cn(r,-t)}function Rl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rl=function(t){return typeof t}:Rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(r)}function RR(r,e){if(ue(2,arguments),!e||Rl(e)!=="object")return new Date(NaN);var t=e.years?ve(e.years):0,n=e.months?ve(e.months):0,i=e.weeks?ve(e.weeks):0,a=e.days?ve(e.days):0,o=e.hours?ve(e.hours):0,s=e.minutes?ve(e.minutes):0,l=e.seconds?ve(e.seconds):0,u=Ea(r,n+t*12),c=gR(u,a+i*7),f=s+o*60,d=l+f*60,h=d*1e3,p=new Date(c.getTime()-h);return p}function LR(r,e){ue(2,arguments);var t=ve(e);return H1(r,-t)}const sa=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},IR={},$R={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},BR=ce("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),HR=ce("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),FR=ce("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),zR=ce("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),VR=[BR,HR,FR,zR];function qR(r,e){return z(),X("svg",$R,VR)}const _c=sa(IR,[["render",qR]]),UR={},WR={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},jR=ce("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),YR=ce("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),GR=[jR,YR];function KR(r,e){return z(),X("svg",WR,GR)}const XR=sa(UR,[["render",KR]]),JR={},QR={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ZR=ce("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),eL=[ZR];function tL(r,e){return z(),X("svg",QR,eL)}const ky=sa(JR,[["render",tL]]),rL={},nL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},iL=ce("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),aL=[iL];function oL(r,e){return z(),X("svg",nL,aL)}const xy=sa(rL,[["render",oL]]),sL={},lL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},uL=ce("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),cL=ce("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),fL=[uL,cL];function dL(r,e){return z(),X("svg",lL,fL)}const ok=sa(sL,[["render",dL]]),hL={},pL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},vL=ce("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),mL=[vL];function gL(r,e){return z(),X("svg",pL,mL)}const sk=sa(hL,[["render",gL]]),yL={},bL={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},wL=ce("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),kL=[wL];function xL(r,e){return z(),X("svg",bL,kL)}const lk=sa(yL,[["render",xL]]),Ty=(r,e)=>{const t=Sh(r,e.slice(0,r.length),new Date);return Lo(t)&&F1(t)?t:null},TL=(r,e)=>{if(typeof e=="string")return Ty(r,e);if(Array.isArray(e)){let t=null;for(const n of e)if(t=Ty(r,n),t)break;return t}return typeof e=="function"?e(r):null},Y=r=>r?new Date(r):new Date,_L=(r,e)=>{if(e){const n=(r.getMonth()+1).toString().padStart(2,"0"),i=r.getDate().toString().padStart(2,"0"),a=r.getHours().toString().padStart(2,"0"),o=r.getMinutes().toString().padStart(2,"0");return`${r.getFullYear()}-${n}-${i}T${a}:${o}:00.000Z`}const t=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());return new Date(t).toISOString()},vn=r=>{let e=Y(JSON.parse(JSON.stringify(r)));return e=nk(e,0),e=ik(e,0),e=ak(e,0),e=Wp(e,0),e},Mr=(r,e,t,n)=>{let i=r?Y(r):Y();return(e||e===0)&&(i=nk(i,+e)),(t||t===0)&&(i=ik(i,+t)),(n||n===0)&&(i=ak(i,+n)),Wp(i,0)},Ut=(r,e)=>!r||!e?!1:Fp(vn(r),vn(e)),Ge=(r,e)=>!r||!e?!1:K1(vn(r),vn(e)),er=(r,e)=>!r||!e?!1:Hp(vn(r),vn(e)),uk=(r,e,t)=>r&&r[0]&&r[1]?er(t,r[0])&&Ut(t,r[1]):r&&r[0]&&e?er(t,r[0])&&Ut(t,e)||Ut(t,r[0])&&er(t,e):!1,vo=Za({menuFocused:!1,shiftKeyInMenu:!1}),ck=()=>{const r=t=>{vo.menuFocused=t},e=t=>{vo.shiftKeyInMenu!==t&&(vo.shiftKeyInMenu=t)};return{control:ne(()=>({shiftKeyInMenu:vo.shiftKeyInMenu,menuFocused:vo.menuFocused})),setMenuFocused:r,setShiftKey:e}};function jp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Oh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}r.exports=e.default})(Oh,Oh.exports);const CL=jp(Oh.exports);var Mh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}r.exports=e.default})(Mh,Mh.exports);const _y=jp(Mh.exports);function SL(r,e){var t=DL(e);return t.formatToParts?ML(t,r):EL(t,r)}var OL={year:0,month:1,day:2,hour:3,minute:4,second:5};function ML(r,e){try{for(var t=r.formatToParts(e),n=[],i=0;i<t.length;i++){var a=OL[t[i].type];a>=0&&(n[a]=parseInt(t[i].value,10))}return n}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function EL(r,e){var t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var sf={};function DL(r){if(!sf[r]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),t=e==="06/25/2014, 00:00:00"||e==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";sf[r]=t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return sf[r]}function Yp(r,e,t,n,i,a,o){var s=new Date(0);return s.setUTCFullYear(r,e,t),s.setUTCHours(n,i,a,o),s}var Cy=36e5,AL=6e4,lf={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Gp(r,e,t){var n,i;if(r===""||(n=lf.timezoneZ.exec(r),n))return 0;var a;if(n=lf.timezoneHH.exec(r),n)return a=parseInt(n[1],10),Sy(a)?-(a*Cy):NaN;if(n=lf.timezoneHHMM.exec(r),n){a=parseInt(n[1],10);var o=parseInt(n[2],10);return Sy(a,o)?(i=Math.abs(a)*Cy+o*AL,a>0?-i:i):NaN}if(RL(r)){e=new Date(e||Date.now());var s=t?e:PL(e),l=Eh(s,r),u=t?l:NL(e,l,r);return-u}return NaN}function PL(r){return Yp(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}function Eh(r,e){var t=SL(r,e),n=Yp(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime(),i=r.getTime(),a=i%1e3;return i-=a>=0?a:1e3+a,n-i}function NL(r,e,t){var n=r.getTime(),i=n-e,a=Eh(new Date(i),t);if(e===a)return e;i-=a-e;var o=Eh(new Date(i),t);return a===o?a:Math.max(a,o)}function Sy(r,e){return-23<=r&&r<=23&&(e==null||0<=e&&e<=59)}var Oy={};function RL(r){if(Oy[r])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:r}),Oy[r]=!0,!0}catch{return!1}}var fk=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,uf=36e5,My=6e4,LL=2,Qt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:fk};function Dh(r,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(r===null)return new Date(NaN);var t=e||{},n=t.additionalDigits==null?LL:CL(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]")return new Date(r.getTime());if(typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]")return new Date(r);if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var i=IL(r),a=$L(i.date,n),o=a.year,s=a.restDateString,l=BL(s,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(i.time&&(c=HL(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||t.timeZone){if(f=Gp(i.timeZone||t.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=_y(new Date(u+c)),f=_y(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function IL(r){var e={},t=Qt.dateTimePattern.exec(r),n;if(t?(e.date=t[1],n=t[3]):(t=Qt.datePattern.exec(r),t?(e.date=t[1],n=t[2]):(e.date=null,n=r)),n){var i=Qt.timeZone.exec(n);i?(e.time=n.replace(i[1],""),e.timeZone=i[1].trim()):e.time=n}return e}function $L(r,e){var t=Qt.YYY[e],n=Qt.YYYYY[e],i;if(i=Qt.YYYY.exec(r)||n.exec(r),i){var a=i[1];return{year:parseInt(a,10),restDateString:r.slice(a.length)}}if(i=Qt.YY.exec(r)||t.exec(r),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:r.slice(o.length)}}return{year:null}}function BL(r,e){if(e===null)return null;var t,n,i,a;if(r.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(t=Qt.MM.exec(r),t)return n=new Date(0),i=parseInt(t[1],10)-1,Dy(e,i)?(n.setUTCFullYear(e,i),n):new Date(NaN);if(t=Qt.DDD.exec(r),t){n=new Date(0);var o=parseInt(t[1],10);return VL(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(t=Qt.MMDD.exec(r),t){n=new Date(0),i=parseInt(t[1],10)-1;var s=parseInt(t[2],10);return Dy(e,i,s)?(n.setUTCFullYear(e,i,s),n):new Date(NaN)}if(t=Qt.Www.exec(r),t)return a=parseInt(t[1],10)-1,Ay(e,a)?Ey(e,a):new Date(NaN);if(t=Qt.WwwD.exec(r),t){a=parseInt(t[1],10)-1;var l=parseInt(t[2],10)-1;return Ay(e,a,l)?Ey(e,a,l):new Date(NaN)}return null}function HL(r){var e,t,n;if(e=Qt.HH.exec(r),e)return t=parseFloat(e[1].replace(",",".")),cf(t)?t%24*uf:NaN;if(e=Qt.HHMM.exec(r),e)return t=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),cf(t,n)?t%24*uf+n*My:NaN;if(e=Qt.HHMMSS.exec(r),e){t=parseInt(e[1],10),n=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return cf(t,n,i)?t%24*uf+n*My+i*1e3:NaN}return null}function Ey(r,e,t){e=e||0,t=t||0;var n=new Date(0);n.setUTCFullYear(r,0,4);var i=n.getUTCDay()||7,a=e*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var FL=[31,28,31,30,31,30,31,31,30,31,30,31],zL=[31,29,31,30,31,30,31,31,30,31,30,31];function dk(r){return r%400===0||r%4===0&&r%100!==0}function Dy(r,e,t){if(e<0||e>11)return!1;if(t!=null){if(t<1)return!1;var n=dk(r);if(n&&t>zL[e]||!n&&t>FL[e])return!1}return!0}function VL(r,e){if(e<1)return!1;var t=dk(r);return!(t&&e>366||!t&&e>365)}function Ay(r,e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function cf(r,e,t){return!(r!=null&&(r<0||r>=25)||e!=null&&(e<0||e>=60)||t!=null&&(t<0||t>=60))}var Ah={exports:{}},Ph={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a]);return n}r.exports=e.default})(Ph,Ph.exports);(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(Ph.exports);function n(a){return a&&a.__esModule?a:{default:a}}function i(a){return(0,t.default)({},a)}r.exports=e.default})(Ah,Ah.exports);const qL=jp(Ah.exports);function UL(r,e,t){var n=Dh(r,t),i=Gp(e,n,!0),a=new Date(n.getTime()-i),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function WL(r,e,t){if(typeof r=="string"&&!r.match(fk)){var n=qL(t);return n.timeZone=e,Dh(r,n)}var i=Dh(r,t),a=Yp(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=Gp(e,new Date(a));return new Date(a+o)}const jL=(r,e=3)=>{const t=[];for(let n=0;n<r.length;n+=e)t.push([r[n],r[n+1],r[n+2]]);return t},YL=(r,e)=>{const t=[1,2,3,4,5,6,7].map(a=>new Intl.DateTimeFormat(r,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)),n=t.slice(0,e),i=t.slice(e+1,t.length);return[t[e]].concat(...i).concat(...n)},GL=r=>{const e=[];for(let t=+r[0];t<=+r[1];t++)e.push({value:+t,text:`${t}`});return e},KL=(r,e)=>{const t=new Intl.DateTimeFormat(r,{month:e,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(n=>{const i=n<10?`0${n}`:n;return new Date(`2017-${i}-01T00:00:00+00:00`)}).map((n,i)=>({text:t.format(n),value:i}))},XL=r=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][r],Lt=r=>{var t;const e=M(r);return(t=e==null?void 0:e.$el)!=null?t:e},JL=r=>Object.assign({type:"dot"},r),hk=r=>Array.isArray(r)?!!r[0]&&!!r[1]:!1,Vu={prop:r=>`"${r}" prop must be enabled!`,dateArr:r=>`You need to use array as "model-value" binding in order to support "${r}"`},Vt=r=>r,Py=r=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},r),QL=r=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},r),ZL=r=>r===null?0:typeof r=="boolean"?r?2:0:+r>=2?+r:2,eI=(r,e,t)=>r||(typeof t=="string"?t:e),tI=r=>typeof r=="boolean"?r?Py({}):!1:Py(r),rI=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),nI=r=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},r),Cr=r=>{const e=()=>{if(r.partialRange)return null;throw new Error(Vu.prop("partial-range"))},t=ne(()=>({ariaLabels:QL(r.ariaLabels),textInputOptions:Object.assign(rI(),r.textInputOptions),multiCalendars:ZL(r.multiCalendars),previewFormat:eI(r.previewFormat,r.format,a()),filters:nI(r.filters),transitions:tI(r.transitions),startTime:d()})),n=y=>{if(r.range)return y();throw new Error(Vu.prop("range"))},i=()=>{const y=r.enableSeconds?":ss":"";return r.is24?`HH:mm${y}`:`hh:mm${y} aa`},a=()=>r.format?r.format:r.monthPicker?"MM/yyyy":r.timePicker?i():r.weekPicker?"MM/dd/yyyy":r.yearPicker?"yyyy":r.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",o=(y,A)=>{if(typeof r.format=="function")return r.format(y);const B=A||a(),K=r.formatLocale?{locale:r.formatLocale}:void 0;return Array.isArray(y)?`${Io(y[0],B,K)} ${r.modelAuto&&!y[1]?"":t.value.textInputOptions.rangeSeparator||"-"} ${y[1]?Io(y[1],B,K):""}`:Io(y,B,K)},s=y=>r.timezone?UL(y,r.timezone):y,l=y=>r.timezone?WL(y,r.timezone):y,u=ne(()=>y=>{var A;return(A=r.hideNavigation)==null?void 0:A.includes(y)}),c=y=>{const A=r.maxDate?er(s(y),s(Y(r.maxDate))):!1,B=r.minDate?Ut(s(y),s(Y(r.minDate))):!1,K=g(y,r.disabledDates),Q=t.value.filters.months.map(ke=>+ke).includes(Xe(y)),D=r.disabledWeekDays.length?r.disabledWeekDays.some(ke=>+ke===WE(y)):!1,P=r.allowedDates.length?!r.allowedDates.some(ke=>Ge(s(Y(ke)),s(y))):!1,q=Je(y),pe=q<+r.yearRange[0]||q>+r.yearRange[1];return!(A||B||K||Q||pe||D||P)},f=y=>{const A={hours:Dn(Y()),minutes:An(Y()),seconds:$a(Y())};return Object.assign(A,y)},d=()=>r.range?r.startTime&&Array.isArray(r.startTime)?[f(r.startTime[0]),f(r.startTime[1])]:null:r.startTime&&!Array.isArray(r.startTime)?f(r.startTime):null,h=y=>!c(y),p=y=>Array.isArray(y)?Lo(y[0])&&(y[1]?Lo(y[1]):!0):y?Lo(y):!1,v=y=>y instanceof Date?y:yR(y),m=y=>{const A=vd(s(y),{weekStartsOn:+r.weekStart}),B=FM(s(y),{weekStartsOn:+r.weekStart});return[A,B]},g=(y,A)=>Array.isArray(A)?A.some(B=>Ge(s(Y(B)),s(y))):A(y),b=(y,A,B)=>{let K=y?Y(y):Y();return(A||A===0)&&(K=$o(K,A)),B&&(K=Fi(K,B)),K},k=y=>Xt(Y(),{hours:Dn(y),minutes:An(y),seconds:$a(y)}),T=y=>Xt(Y(),{hours:+y.hours||0,minutes:+y.minutes||0,seconds:+y.seconds||0}),x=(y,A,B,K)=>{if(!y)return!0;if(K){const Q=B==="max"?Fp(y,A):Hp(y,A),D={seconds:0,milliseconds:0};return Q||K1(Xt(y,D),Xt(A,D))}return B==="max"?y.getTime()<=A.getTime():y.getTime()>=A.getTime()},w=()=>!r.enableTimePicker||r.monthPicker||r.yearPicker||r.ignoreTimeValidation,_=y=>Array.isArray(y)?[y[0]?k(y[0]):null,y[1]?k(y[1]):null]:k(y),C=y=>{const A=r.maxTime?T(r.maxTime):Y(r.maxDate);return Array.isArray(y)?x(y[0],A,"max",!!r.maxDate)&&x(y[1],A,"max",!!r.maxDate):x(y,A,"max",!!r.maxDate)},H=(y,A)=>{const B=r.minTime?T(r.minTime):Y(r.minDate);return Array.isArray(y)?x(y[0],B,"min",!!r.minDate)&&x(y[1],B,"min",!!r.minDate)&&A:x(y,B,"min",!!r.minDate)&&A},V=y=>{let A=!0;if(!y||w())return!0;const B=!r.minDate&&!r.maxDate?_(y):y;return(r.maxTime||r.maxDate)&&(A=C(Vt(B))),(r.minTime||r.minDate)&&(A=H(Vt(B),A)),A},N=(y,A)=>{const B=Y(JSON.parse(JSON.stringify(y))),K=[];for(let Q=0;Q<7;Q++){const D=ai(B,Q),P=Xe(D)!==A;K.push({text:r.hideOffsetDates&&P?"":D.getDate(),value:D,current:!P,classData:{}})}return K},U=(y,A)=>{const B=[],K=Y(s(new Date(A,y))),Q=Y(s(new Date(A,y+1,0))),D=vd(K,{weekStartsOn:r.weekStart}),P=q=>{const pe=N(q,y);if(B.push({days:pe}),!B[B.length-1].days.some(ke=>Ge(vn(ke.value),vn(Q)))){const ke=ai(q,7);P(ke)}};if(P(D),r.sixWeeks&&B.length<6){const q=6-B.length;for(let pe=1;pe<=q;pe++){const ke=B[B.length-1],qe=ke.days[ke.days.length-1],Ee=N(ai(qe.value,1),Xe(K));B.push({days:Ee})}}return B},R=(y,A,B)=>[Xt(Y(y),{date:1}),Xt(Y(),{month:A,year:B,date:1})],S=(y,A)=>Ut(...R(r.minDate,y,A))||Ge(...R(r.minDate,y,A)),L=(y,A)=>er(...R(r.maxDate,y,A))||Ge(...R(r.maxDate,y,A)),$=(y,A,B)=>{let K=!1;return r.maxDate&&B&&L(y,A)&&(K=!0),r.minDate&&!B&&S(y,A)&&(K=!0),K};return{checkPartialRangeValue:e,checkRangeEnabled:n,getZonedDate:s,getZonedToUtc:l,formatDate:o,getDefaultPattern:a,validateDate:c,getDefaultStartTime:d,isDisabled:h,isValidDate:p,sanitizeDate:v,getWeekFromDate:m,matchDate:g,setDateMonthOrYear:b,isValidTime:V,getCalendarDays:U,validateMonthYearInRange:(y,A,B,K)=>{let Q=!1;return K?r.minDate&&r.maxDate?Q=$(y,A,B):(r.minDate&&S(y,A)||r.maxDate&&L(y,A))&&(Q=!0):Q=!0,Q},validateMaxDate:L,validateMinDate:S,defaults:t,hideNavigationButtons:u}},Ye=Za({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ff=te(null),Ss=te(!1),df=te(!1),hf=te(!1),pf=te(!1),Kt=te(0),Ot=te(0),vi=()=>{const r=ne(()=>Ss.value?[...Ye.selectionGrid,Ye.actionRow].filter(f=>f.length):df.value?[...Ye.timePicker[0],...Ye.timePicker[1],pf.value?[]:[ff.value],Ye.actionRow].filter(f=>f.length):hf.value?[...Ye.monthPicker,Ye.actionRow]:[Ye.monthYear,...Ye.calendar,Ye.time,Ye.actionRow].filter(f=>f.length)),e=f=>{Kt.value=f?Kt.value+1:Kt.value-1;let d=null;r.value[Ot.value]&&(d=r.value[Ot.value][Kt.value]),d||(Kt.value=f?Kt.value-1:Kt.value+1)},t=f=>{Ot.value===0&&!f||Ot.value===r.value.length&&f||(Ot.value=f?Ot.value+1:Ot.value-1,r.value[Ot.value]?r.value[Ot.value]&&!r.value[Ot.value][Kt.value]&&Kt.value!==0&&(Kt.value=r.value[Ot.value].length-1):Ot.value=f?Ot.value-1:Ot.value+1)},n=f=>{let d=null;r.value[Ot.value]&&(d=r.value[Ot.value][Kt.value]),d?d.focus({preventScroll:!Ss.value}):Kt.value=f?Kt.value-1:Kt.value+1},i=()=>{e(!0),n(!0)},a=()=>{e(!1),n(!1)},o=()=>{t(!1),n(!0)},s=()=>{t(!0),n(!0)},l=(f,d)=>{Ye[d]=f},u=(f,d)=>{Ye[d]=f},c=()=>{Kt.value=0,Ot.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:f=>{ff.value=f},setSelectionGrid:f=>{Ss.value=f,c(),f||(Ye.selectionGrid=[])},setTimePicker:(f,d=!1)=>{df.value=f,pf.value=d,c(),f||(Ye.timePicker[0]=[],Ye.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{Ye.timePicker[d]=f},arrowRight:i,arrowLeft:a,arrowUp:o,arrowDown:s,clearArrowNav:()=>{Ye.monthYear=[],Ye.calendar=[],Ye.time=[],Ye.actionRow=[],Ye.selectionGrid=[],Ye.timePicker[0]=[],Ye.timePicker[1]=[],Ss.value=!1,df.value=!1,pf.value=!1,hf.value=!1,c(),ff.value=null},setMonthPicker:f=>{hf.value=f,c()},refSets:Ye}},Ny=r=>Array.isArray(r),Ci=r=>Array.isArray(r),Ry=r=>Array.isArray(r)&&r.length===2,iI=(r,e,t,n)=>{const{getDefaultStartTime:i,isDisabled:a,sanitizeDate:o,getWeekFromDate:s,setDateMonthOrYear:l,validateMonthYearInRange:u,defaults:c}=Cr(r),f=ne({get:()=>r.internalModelValue,set:O=>{!r.readonly&&!r.disabled&&e("update:internal-model-value",O)}}),d=te([]);eo(f,()=>k());const h=te([{month:Xe(Y()),year:Je(Y())}]),p=Za({hours:r.range?[Dn(Y()),Dn(Y())]:Dn(Y()),minutes:r.range?[An(Y()),An(Y())]:An(Y()),seconds:r.range?[0,0]:0}),v=ne(()=>O=>h.value[O]?h.value[O].month:0),m=ne(()=>O=>h.value[O]?h.value[O].year:0),g=(O,W,oe)=>{h.value[O].month=W===null?h.value[O].month:W,h.value[O].year=oe===null?h.value[O].year:oe},b=(O,W)=>{p[O]=W};pr(()=>{f.value||(r.startDate&&(g(0,Xe(Y(r.startDate)),Je(Y(r.startDate))),c.value.multiCalendars&&sr(0)),c.value.startTime&&R()),k(!0)});const k=(O=!1)=>{if(f.value)return Array.isArray(f.value)?C(O):x(f.value);if(r.timePicker)return H();if(r.monthPicker&&!r.range)return V();if(r.yearPicker&&!r.range)return N();if(c.value.multiCalendars)return T(Y(),O)},T=(O,W=!1)=>{if((!c.value.multiCalendars||!r.multiStatic||W)&&g(0,Xe(O),Je(O)),c.value.multiCalendars)for(let oe=1;oe<=c.value.multiCalendars;oe++){const he=Xt(Y(),{month:v.value(oe-1),year:m.value(oe-1)}),Be=B1(he,{months:1});h.value[oe]={month:Xe(Be),year:Je(Be)}}},x=O=>{T(O),b("hours",Dn(O)),b("minutes",An(O)),b("seconds",$a(O))},w=(O,W)=>{T(O[0],W);const oe=he=>[he(O[0]),O[1]?he(O[1]):he(Y())];b("hours",oe(Dn)),b("minutes",oe(An)),b("seconds",oe($a))},_=(O,W)=>{if(r.range&&!r.multiDates)return w(O,W);if(r.multiDates){const oe=O[O.length-1];return x(oe)}},C=O=>{const W=f.value;_(W,O),c.value.multiCalendars&&r.multiCalendarsSolo&&L()},H=()=>{if(R(),!r.range)f.value=Mr(Y(),p.hours,p.minutes,U());else{const O=p.hours,W=p.minutes;f.value=[Mr(Y(),O[0],W[0],U()),Mr(Y(),O[1],W[1],U(!1))]}},V=()=>{f.value=l(Y(),v.value(0),m.value(0))},N=()=>{f.value=Y()},U=(O=!0)=>r.enableSeconds?Array.isArray(p.seconds)?O?p.seconds[0]:p.seconds[1]:p.seconds:0,R=()=>{const O=i();if(O){const W=Array.isArray(O),oe=W?[+O[0].hours,+O[1].hours]:+O.hours,he=W?[+O[0].minutes,+O[1].minutes]:+O.minutes,Be=W?[+O[0].seconds,+O[1].seconds]:+O.seconds;b("hours",oe),b("minutes",he),r.enableSeconds&&b("seconds",Be)}},S=()=>Array.isArray(f.value)&&f.value.length?f.value[f.value.length-1]:null,L=()=>{if(Array.isArray(f.value)&&f.value.length===2){const O=Y(Y(f.value[1]?f.value[1]:cn(f.value[0],1))),[W,oe]=[Xe(f.value[0]),Je(f.value[0])],[he,Be]=[Xe(f.value[1]),Je(f.value[1])];(W!==he||W===he&&oe!==Be)&&r.multiCalendarsSolo&&g(1,Xe(O),Je(O))}},$=O=>{const W=cn(O,1);return{month:Xe(W),year:Je(W)}},y=O=>{const W=Xe(Y(O)),oe=Je(Y(O));if(g(0,W,oe),c.value.multiCalendars>0)for(let he=1;he<c.value.multiCalendars;he++){const Be=$(Xt(Y(O),{year:v.value(he-1),month:m.value(he-1)}));g(he,Be.month,Be.year)}},A=O=>{if(f.value&&Array.isArray(f.value))if(f.value.some(W=>Ge(O,W))){const W=f.value.filter(oe=>!Ge(oe,O));f.value=W.length?W:null}else(r.multiDatesLimit&&+r.multiDatesLimit>f.value.length||!r.multiDatesLimit)&&f.value.push(O);else f.value=[O]},B=(O,W)=>{const oe=er(O,W)?W:O,he=er(W,O)?W:O;return sg({start:oe,end:he})},K=O=>{if(Array.isArray(f.value)&&f.value[0]){const W=BM(O,f.value[0]),oe=B(f.value[0],O),he=oe.length===1?0:oe.filter(Gt=>a(Gt)).length,Be=Math.abs(W)-he;if(r.minRange&&r.maxRange)return Be>=+r.minRange&&Be<=+r.maxRange;if(r.minRange)return Be>=+r.minRange;if(r.maxRange)return Be<=+r.maxRange}return!0},Q=O=>Array.isArray(f.value)&&f.value.length===2?r.fixedStart&&(er(O,f.value[0])||Ge(O,f.value[0]))?[f.value[0],O]:r.fixedEnd&&(Ut(O,f.value[1])||Ge(O,f.value[1]))?[O,f.value[1]]:f.value:[],D=()=>{r.autoApply&&e("auto-apply")},P=()=>{r.autoApply&&e("select-date")},q=O=>!sg({start:O[0],end:O[1]}).some(W=>a(W)),pe=O=>(f.value=s(Y(O.value)),D()),ke=O=>{const W=Mr(Y(O.value),p.hours,p.minutes,U());r.multiDates?A(W):f.value=W,t(),D()},qe=()=>{d.value=f.value?f.value.slice():[],d.value.length===2&&!(r.fixedStart||r.fixedEnd)&&(d.value=[])},Ee=(O,W)=>{const oe=[Y(O.value),ai(Y(O.value),+r.autoRange)];q(oe)&&(W&&y(O.value),d.value=oe)},we=O=>{d.value=Q(Y(O.value))},le=O=>r.noDisabledRange?B(d.value[0],O).some(W=>a(W)):!1,ht=(O,W)=>{if(qe(),r.autoRange)return Ee(O,W);if(r.fixedStart||r.fixedEnd)return we(O);d.value[0]?K(Y(O.value))&&!le(O.value)&&(Ut(Y(O.value),Y(d.value[0]))?d.value.unshift(Y(O.value)):d.value[1]=Y(O.value)):d.value[0]=Y(O.value)},me=O=>{d.value[O]=Mr(d.value[O],p.hours[O],p.minutes[O],U(O!==1))},Ae=()=>{d.value.length&&(d.value[0]&&!d.value[1]?me(0):(me(0),me(1),t()),f.value=d.value.slice(),d.value[0]&&d.value[1]&&r.autoApply&&e("auto-apply"),d.value[0]&&!d.value[1]&&r.modelAuto&&r.autoApply&&e("auto-apply"))},We=(O,W=!1)=>{if(!(a(O.value)||!O.current&&r.hideOffsetDates)){if(r.weekPicker)return pe(O);if(!r.range)return ke(O);Ci(p.hours)&&Ci(p.minutes)&&!r.multiDates&&(ht(O,W),Ae())}},Ct=O=>{const W=O.find(oe=>oe.current);return W?GE(W.value):""},sr=O=>{for(let W=O-1;W>=0;W--){const oe=Ea(Xt(Y(),{month:v.value(W+1),year:m.value(W+1)}),1);g(W,Xe(oe),Je(oe))}for(let W=O+1;W<=c.value.multiCalendars-1;W++){const oe=cn(Xt(Y(),{month:v.value(W-1),year:m.value(W-1)}),1);g(W,Xe(oe),Je(oe))}},Gr=O=>l(Y(),v.value(O),m.value(O)),Kr=O=>Mr(O,p.hours,p.minutes,U()),la=(O,W)=>{const oe=r.monthPicker?v.value(O)!==W.month||!W.fromNav:m.value(O)!==W.year;if(g(O,W.month,W.year),c.value.multiCalendars&&!r.multiCalendarsSolo&&sr(O),r.monthPicker||r.yearPicker)if(r.range){if(oe){let he=f.value?f.value.slice():[];he.length===2&&he[1]!==null&&(he=[]),he.length?Ut(Gr(O),he[0])?he.unshift(Gr(O)):he[1]=Gr(O):he=[Gr(O)],f.value=he}}else f.value=Gr(O);e("update-month-year",{instance:O,month:W.month,year:W.year}),n(r.multiCalendarsSolo?O:void 0)},bi=async(O=!1)=>{if(r.autoApply&&(r.monthPicker||r.yearPicker)){await rs();const W=r.monthPicker?O:!1;r.range?e("auto-apply",W||!f.value||f.value.length===1):e("auto-apply",W)}t()},Xr=(O,W)=>{const oe=Xt(Y(),{month:v.value(W),year:m.value(W)}),he=O<0?cn(oe,1):Ea(oe,1);u(Xe(he),Je(he),O<0,r.preventMinMaxNavigation)&&(g(W,Xe(he),Je(he)),c.value.multiCalendars&&!r.multiCalendarsSolo&&sr(W),n())},Sr=O=>{Ny(O)&&Ny(f.value)&&Ci(p.hours)&&Ci(p.minutes)?(O[0]&&f.value[0]&&(f.value[0]=Mr(O[0],p.hours[0],p.minutes[0],U())),O[1]&&f.value[1]&&(f.value[1]=Mr(O[1],p.hours[1],p.minutes[1],U(!1)))):r.multiDates&&Array.isArray(f.value)?f.value[f.value.length-1]=Kr(O):!r.range&&!Ry(O)&&(f.value=Kr(O)),e("time-update")},Jr=(O,W=!0,oe=!1)=>{const he=W?O:p.hours,Be=!W&&!oe?O:p.minutes,Gt=oe?O:p.seconds;if(r.range&&Ry(f.value)&&Ci(he)&&Ci(Be)&&Ci(Gt)&&!r.disableTimeRangeValidation){const Rr=ae=>Mr(f.value[ae],he[ae],Be[ae],Gt[ae]),F=ae=>Wp(f.value[ae],0);if(Ge(f.value[0],f.value[1])&&(Hp(Rr(0),F(1))||Fp(Rr(1),F(0))))return}if(b("hours",he),b("minutes",Be),b("seconds",Gt),f.value)if(r.multiDates){const Rr=S();Rr&&Sr(Rr)}else Sr(f.value);else r.timePicker&&Sr(r.range?[Y(),Y()]:Y());t()},ua=(O,W)=>{r.monthChangeOnScroll&&Xr(r.monthChangeOnScroll!=="inverse"?-O.deltaY:O.deltaY,W)},ca=(O,W,oe=!1)=>{r.monthChangeOnArrows&&r.vertical===oe&&wi(O,W)},wi=(O,W)=>{Xr(O==="right"?-1:1,W)};return{time:p,month:v,year:m,modelValue:f,monthYearSelect:bi,isDisabled:a,updateTime:Jr,getWeekNum:Ct,selectDate:We,updateMonthYear:la,handleScroll:ua,getMarker:O=>r.markers.find(W=>Ge(o(O.value),o(W.date))),handleArrow:ca,handleSwipe:wi,selectCurrentDate:()=>{r.range?f.value&&Array.isArray(f.value)&&f.value[0]?f.value=Ut(Y(),f.value[0])?[Y(),f.value[0]]:[f.value[0],Y()]:f.value=[Y()]:f.value=Y(),P()},presetDateRange:(O,W)=>{W||O.length&&O.length<=2&&r.range&&(f.value=O.map(oe=>Y(oe)),P())}}},aI=(r,e,t)=>{const n=te(),{getZonedToUtc:i,getZonedDate:a,formatDate:o,getDefaultPattern:s,checkRangeEnabled:l,checkPartialRangeValue:u,isValidDate:c,setDateMonthOrYear:f,defaults:d}=Cr(e),h=te("");eo(n,()=>{r("internal-model-change",n.value)});const p=D=>{const P=D||Y();return{hours:Dn(P),minutes:An(P),seconds:e.enableSeconds?$a(P):0}},v=D=>({month:Xe(D),year:Je(D)}),m=D=>Array.isArray(D)?l(()=>[Fi(Y(),D[0]),D[1]?Fi(Y(),D[1]):u()]):Fi(Y(),+D),g=D=>Array.isArray(D)?[Mr(null,+D[0].hours,+D[0].minutes,D[0].seconds),Mr(null,+D[1].hours,+D[1].minutes,D[1].seconds)]:Mr(null,D.hours,D.minutes,D==null?void 0:D.seconds),b=D=>Array.isArray(D)?l(()=>[f(null,+D[0].month,+D[0].year),D[1]?f(null,+D[1].month,+D[1].year):u()]):f(null,+D.month,+D.year),k=D=>{if(Array.isArray(D))return D.map(P=>y(P));throw new Error(Vu.dateArr("multi-dates"))},T=D=>{if(Array.isArray(D))return[Y(D[0]),Y(D[1])];throw new Error(Vu.dateArr("week-picker"))},x=D=>e.modelAuto?Array.isArray(D)?[y(D[0]),y(D[1])]:e.autoApply?[y(D)]:[y(D),null]:Array.isArray(D)?l(()=>[y(D[0]),D[1]?y(D[1]):u()]):y(D),w=()=>{Array.isArray(n.value)&&e.range&&n.value.length===1&&n.value.push(u())},_=()=>{const D=n.value;return[A(D[0]),D[1]?A(D[1]):u()]},C=()=>n.value[1]?_():A(Vt(n.value[0])),H=()=>n.value.map(D=>A(D)),V=()=>(w(),e.modelAuto?C():e.multiDates?H():Array.isArray(n.value)?l(()=>_()):A(Vt(n.value))),N=D=>D?e.timePicker?g(Vt(D)):e.monthPicker?b(Vt(D)):e.yearPicker?m(Vt(D)):e.multiDates?k(Vt(D)):e.weekPicker?T(Vt(D)):x(Vt(D)):null,U=D=>{const P=N(D);c(Vt(P))?(n.value=Vt(P),$()):(n.value=null,h.value="")},R=()=>{var D;const P=q=>{var pe;return Io(q,(pe=d.value.textInputOptions)==null?void 0:pe.format)};return`${P(n.value[0])} ${(D=d.value.textInputOptions)==null?void 0:D.rangeSeparator} ${n.value[1]?P(n.value[1]):""}`},S=()=>{var D;return t.value&&n.value?Array.isArray(n.value)?R():Io(n.value,(D=d.value.textInputOptions)==null?void 0:D.format):o(n.value)},L=()=>{var D;return n.value?e.multiDates?n.value.map(P=>o(P)).join("; "):e.textInput&&typeof((D=d.value.textInputOptions)==null?void 0:D.format)=="string"?S():o(n.value):""},$=()=>{!e.format||typeof e.format=="string"?h.value=L():h.value=e.format(n.value)},y=D=>{if(e.utc){const P=new Date(D);return e.utc==="preserve"?new Date(P.getTime()+P.getTimezoneOffset()*6e4):P}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?a(new Date(D)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Sh(D,s(),new Date):a(Sh(D,e.modelType,new Date)):a(new Date(D))},A=D=>e.utc?_L(D,e.utc==="preserve"):e.modelType?e.modelType==="timestamp"?+i(D):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?o(i(D)):o(i(D),e.modelType):i(D),B=D=>{r("update:model-value",D)},K=D=>Array.isArray(n.value)?[D(n.value[0]),n.value[1]?D(n.value[1]):u()]:D(Vt(n.value)),Q=D=>B(Vt(K(D)));return{inputValue:h,internalModelValue:n,checkBeforeEmit:()=>n.value?e.range?e.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:U,formatInputValue:$,emitModelValue:()=>($(),e.monthPicker?Q(v):e.timePicker?Q(p):e.yearPicker?Q(Je):e.weekPicker?B(n.value):B(V()))}},oI=(r,e)=>{const{validateMonthYearInRange:t,validateMaxDate:n,validateMinDate:i,defaults:a}=Cr(r),o=(f,d)=>{let h=f;return a.value.filters.months.includes(Xe(h))?(h=d?cn(f,1):Ea(f,1),o(h,d)):h},s=(f,d)=>{let h=f;return a.value.filters.years.includes(Je(h))?(h=d?H1(f,1):LR(f,1),s(h,d)):h},l=f=>{const d=Xt(new Date,{month:r.month,year:r.year});let h=f?cn(d,1):Ea(d,1),p=Xe(h),v=Je(h);a.value.filters.months.includes(p)&&(h=o(h,f),p=Xe(h),v=Je(h)),a.value.filters.years.includes(v)&&(h=s(h,f),v=Je(h)),t(p,v,f,r.preventMinMaxNavigation)&&u(p,v)},u=(f,d)=>{e("update-month-year",{month:f,year:d})},c=ne(()=>f=>{if(!r.preventMinMaxNavigation||f&&!r.maxDate||!f&&!r.minDate)return!1;const d=Xt(new Date,{month:r.month,year:r.year}),h=f?cn(d,1):Ea(d,1),p=[Xe(h),Je(h)];return f?!n(...p):!i(...p)});return{handleMonthYearChange:l,isDisabled:c,updateMonthYear:u}};var Ll=(r=>(r.center="center",r.left="left",r.right="right",r))(Ll||{});const sI=(r,e,t,n)=>{const i=te({top:"0",left:"0",transform:"none"}),a=te(!1),o=sd(n,"teleportCenter");eo(o,()=>{m()});const s=w=>{const _=w.getBoundingClientRect();return{left:_.left+window.scrollX,top:_.top+window.scrollY}},l=w=>{const _=w.getBoundingClientRect();let C=0,H=0;for(;w&&!isNaN(w.offsetLeft)&&!isNaN(w.offsetTop);)C+=w.offsetLeft-w.scrollLeft,H=_.top+w.scrollTop,w=w.offsetParent;return{top:H,left:C}},u=(w,_)=>{i.value.left=`${w+_}px`,i.value.transform="translateX(-100%)"},c=w=>{i.value.left=`${w}px`,i.value.transform="translateX(0)"},f=(w,_,C=!1)=>{n.position===Ll.left&&c(w),n.position===Ll.right&&u(w,_),n.position===Ll.center&&(i.value.left=`${w+_/2}px`,i.value.transform=C?"translate(-50%, -50%)":"translateX(-50%)")},d=w=>{const{width:_,height:C}=w.getBoundingClientRect(),{top:H,left:V}=n.altPosition?l(w):s(w);return{top:H,left:V,width:_,height:C}},h=()=>{const w=Lt(e);if(w){const{top:_,left:C,width:H,height:V}=d(w);i.value.top=`${_+V/2}px`,i.value.transform="translateY(-50%)",f(C,H,!0)}},p=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},v=()=>{const w=Lt(e);i.value=n.altPosition(w)},m=(w=!0)=>{if(!n.inline)return o.value?p():n.altPosition&&typeof n.altPosition!="boolean"?v():(w&&t("recalculate-position"),x())},g=(w,_)=>{const{top:C,left:H,height:V,width:N}=d(w);i.value.top=`${V+C+ +n.offset}px`,f(H,N),k(w,_),a.value=!1},b=(w,_)=>{const{top:C,left:H,width:V}=d(w),{height:N}=_.getBoundingClientRect();i.value.top=`${C-N-+n.offset}px`,f(H,V),k(w,_),a.value=!0},k=(w,_)=>{if(n.autoPosition){const{left:C,width:H}=d(w),{left:V,right:N}=_.getBoundingClientRect();if(V<0)return c(C);if(N>document.documentElement.clientWidth)return u(C,H)}},T=(w,_)=>{const{height:C}=_.getBoundingClientRect(),{top:H,height:V}=w.getBoundingClientRect(),N=window.innerHeight-H-V,U=H;return C<=N?g(w,_):C>N&&C<=U?b(w,_):N>=U?g(w,_):b(w,_)},x=()=>{const w=Lt(e),_=Lt(r);if(w&&_)return n.autoPosition?T(w,_):g(w,_)};return{openOnTop:a,menuPosition:i,setMenuPosition:m,setInitialPosition:h}},va=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["menu"]}],lI=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],uI={all:()=>va,monthYear:()=>va.filter(r=>r.use.includes("month-year")),input:()=>lI,timePicker:()=>va.filter(r=>r.use.includes("time")),action:()=>va.filter(r=>r.use.includes("action")),calendar:()=>va.filter(r=>r.use.includes("calendar")),menu:()=>va.filter(r=>r.use.includes("menu"))},Ii=(r,e,t)=>{const n=[];return uI[e]().forEach(i=>{r[i.name]&&n.push(i.name)}),t&&t.length&&t.forEach(i=>{i.slot&&n.push(i.slot)}),n},Cc=r=>({transitionName:ne(()=>e=>r&&typeof r!="boolean"?e?r.open:r.close:""),showTransition:!!r}),mi={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},cI=["aria-label","aria-disabled","aria-readonly"],fI={key:1,class:"dp__input_wrap"},dI=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],hI={key:2,class:"dp__input_icon"},pI={key:4,class:"dp__clear_icon"},vI=jt({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...mi},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(r,{expose:e,emit:t}){const n=r,{getDefaultPattern:i,isValidDate:a,defaults:o}=Cr(n),s=te(),l=te(null),u=te(!1),c=ne(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:u.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),f=()=>{t("set-input-date",null),n.autoApply&&(t("set-empty-date"),s.value=null)},d=w=>{var _;return TL(w,((_=o.value.textInputOptions)==null?void 0:_.format)||i())},h=w=>{const{rangeSeparator:_}=o.value.textInputOptions;if(n.range){const[C,H]=w.split(`${_}`);if(C&&H){const V=d(C.trim()),N=d(H.trim());s.value=V&&N?[V,N]:null}}else s.value=d(w)},p=w=>{var _;const{value:C}=w.target;C!==""?(((_=o.value.textInputOptions)==null?void 0:_.openMenu)&&!n.isMenuOpen&&t("open"),h(C),t("set-input-date",s.value)):f(),t("update:input-value",C)},v=()=>{var w,_;((w=o.value.textInputOptions)==null?void 0:w.enterSubmit)&&a(s.value)&&n.inputValue!==""?(t("set-input-date",s.value,!0),s.value=null):((_=o.value.textInputOptions)==null?void 0:_.enterSubmit)&&n.inputValue===""&&(s.value=null,t("clear"))},m=()=>{var w,_;((w=o.value.textInputOptions)==null?void 0:w.tabSubmit)&&a(s.value)&&n.inputValue!==""?(t("set-input-date",s.value,!0),s.value=null):((_=o.value.textInputOptions)==null?void 0:_.tabSubmit)&&n.inputValue===""&&(s.value=null,t("clear"))},g=()=>{u.value=!0,t("focus")},b=w=>{var _;w.preventDefault(),w.stopImmediatePropagation(),w.stopPropagation(),n.textInput&&((_=o.value.textInputOptions)==null?void 0:_.openMenu)&&!n.inlineWithInput?n.isMenuOpen?o.value.textInputOptions.enterSubmit&&t("select-date"):t("open"):n.textInput||t("toggle")},k=()=>{u.value=!1,n.isMenuOpen||t("blur"),n.autoApply&&n.textInput&&s.value&&(t("set-input-date",s.value),t("select-date"),s.value=null)},T=()=>{t("clear")},x=w=>{n.textInput||w.preventDefault()};return e({focusInput:()=>{l.value&&l.value.focus({preventScroll:!0})}}),(w,_)=>{var C;return z(),X("div",{onClick:b,"aria-label":(C=M(o).ariaLabels)==null?void 0:C.input,role:"textbox","aria-multiline":"false","aria-disabled":w.disabled,"aria-readonly":w.readonly},[w.$slots.trigger&&!w.$slots["dp-input"]&&!w.inline?re(w.$slots,"trigger",{key:0}):G("",!0),!w.$slots.trigger&&(!w.inline||w.inlineWithInput)?(z(),X("div",fI,[w.$slots["dp-input"]&&!w.$slots.trigger&&!w.inline?re(w.$slots,"dp-input",{key:0,value:r.inputValue,onInput:p,onEnter:v,onTab:m,onClear:T}):G("",!0),w.$slots["dp-input"]?G("",!0):(z(),X("input",{key:1,ref_key:"inputRef",ref:l,id:w.uid?`dp-input-${w.uid}`:void 0,name:w.name,class:Qe(M(c)),inputmode:w.textInput?"text":"none",placeholder:w.placeholder,disabled:w.disabled,readonly:w.readonly,required:w.required,value:r.inputValue,autocomplete:w.autocomplete,onInput:p,onKeydown:[_e(b,["enter"]),_e(m,["tab"])],onBlur:k,onFocus:g,onKeypress:x},null,42,dI)),w.$slots["input-icon"]&&!w.hideInputIcon?(z(),X("span",hI,[re(w.$slots,"input-icon")])):G("",!0),!w.$slots["input-icon"]&&!w.hideInputIcon&&!w.$slots["dp-input"]?(z(),Ie(M(_c),{key:3,class:"dp__input_icon dp__input_icons"})):G("",!0),w.$slots["clear-icon"]&&r.inputValue&&w.clearable&&!w.disabled&&!w.readonly?(z(),X("span",pI,[re(w.$slots,"clear-icon",{clear:T})])):G("",!0),w.clearable&&!w.$slots["clear-icon"]&&r.inputValue&&!w.disabled&&!w.readonly?(z(),Ie(M(XR),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Nn(T,["stop","prevent"])},null,8,["onClick"])):G("",!0)])):G("",!0)],8,cI)}}}),mI={class:"dp__selection_preview"},gI={class:"dp__action_buttons"},yI=["onKeydown"],bI=jt({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["close-picker","select-date","invalid-select"],setup(r,{emit:e}){const t=r,{formatDate:n,isValidTime:i,defaults:a}=Cr(t),{buildMatrix:o}=vi(),s=te(null),l=te(null);pr(()=>{t.arrowNavigation&&o([Lt(s),Lt(l)],"actionRow")});const u=ne(()=>t.range&&!t.partialRange&&t.internalModelValue?t.internalModelValue.length===2:!0),c=ne(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!f.value||!d.value||!u.value})),f=ne(()=>!t.enableTimePicker||t.ignoreTimeValidation?!0:i(t.internalModelValue)),d=ne(()=>t.monthPicker?m(t.internalModelValue):!0),h=()=>{const b=a.value.previewFormat;return t.timePicker||t.monthPicker,b(Vt(t.internalModelValue))},p=()=>{const b=t.internalModelValue;return a.value.multiCalendars>0?`${n(b[0])} - ${n(b[1])}`:[n(b[0]),n(b[1])]},v=ne(()=>!t.internalModelValue||!t.menuMount?"":typeof a.value.previewFormat=="string"?Array.isArray(t.internalModelValue)?t.internalModelValue.length===2&&t.internalModelValue[1]?p():t.multiDates?t.internalModelValue.map(b=>`${n(b)}`):t.modelAuto?`${n(t.internalModelValue[0])}`:`${n(t.internalModelValue[0])} -`:n(t.internalModelValue):h()),m=b=>{if(!t.monthPicker)return!0;let k=!0;return t.minDate&&t.maxDate?er(Y(b),Y(t.minDate))&&Ut(Y(b),Y(t.maxDate)):(t.minDate&&(k=er(Y(b),Y(t.minDate))),t.maxDate&&(k=Ut(Y(b),Y(t.maxDate))),k)},g=()=>{f.value&&d.value&&u.value?e("select-date"):e("invalid-select")};return(b,k)=>(z(),X("div",{class:"dp__action_row",style:Ta(r.calendarWidth?{width:`${r.calendarWidth}px`}:{})},[ce("div",mI,[b.$slots["action-preview"]?re(b.$slots,"action-preview",{key:0,value:r.internalModelValue}):G("",!0),b.$slots["action-preview"]?G("",!0):(z(),X(Me,{key:1},[Array.isArray(M(v))?G("",!0):(z(),X(Me,{key:0},[dn(Nt(M(v)),1)],64)),Array.isArray(M(v))?(z(!0),X(Me,{key:1},mt(M(v),(T,x)=>(z(),X("div",{key:x},Nt(T),1))),128)):G("",!0)],64))]),ce("div",gI,[b.$slots["action-select"]?re(b.$slots,"action-select",{key:0,value:r.internalModelValue}):G("",!0),b.$slots["action-select"]?G("",!0):(z(),X(Me,{key:1},[b.inline?G("",!0):(z(),X("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:s,tabindex:"0",onClick:k[0]||(k[0]=T=>b.$emit("close-picker")),onKeydown:[k[1]||(k[1]=_e(T=>b.$emit("close-picker"),["enter"])),k[2]||(k[2]=_e(T=>b.$emit("close-picker"),["space"]))]},Nt(b.cancelText),545)),ce("span",{class:Qe(M(c)),tabindex:"0",onKeydown:[_e(g,["enter"]),_e(g,["space"])],onClick:g,"data-test":"select-button",ref_key:"selectButtonRef",ref:l},Nt(b.selectText),43,yI)],64))])],4))}}),wI=["aria-label"],kI={class:"dp__calendar_header",role:"row"},xI={key:0,class:"dp__calendar_header_item",role:"gridcell"},TI=ce("div",{class:"dp__calendar_header_separator"},null,-1),_I=["aria-label"],CI={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},SI={class:"dp__cell_inner"},OI=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseover"],MI=ce("div",{class:"dp__arrow_bottom_tp"},null,-1),EI=jt({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...mi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space"],setup(r,{expose:e,emit:t}){const n=r,{buildMultiLevelMatrix:i}=vi(),{setDateMonthOrYear:a,defaults:o}=Cr(n),s=te(null),l=te({bottom:"",left:"",transform:""}),u=te([]),c=te(null),f=te(!0),d=te(""),h=te({startX:0,endX:0,startY:0,endY:0}),p=ne(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):YL(n.locale,+n.weekStart));pr(()=>{t("mount",{cmp:"calendar",refs:u}),n.noSwipe||c.value&&(c.value.addEventListener("touchstart",C,{passive:!1}),c.value.addEventListener("touchend",H,{passive:!1}),c.value.addEventListener("touchmove",V,{passive:!1})),n.monthChangeOnScroll&&c.value&&c.value.addEventListener("wheel",R,{passive:!1})});const v=S=>S?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",m=(S,L)=>{if(n.transitions){const $=vn(a(Y(),n.month,n.year));d.value=er(vn(a(Y(),S,L)),$)?o.value.transitions[v(!0)]:o.value.transitions[v(!1)],f.value=!1,rs(()=>{f.value=!0})}},g=ne(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),b=ne(()=>S=>{const L=JL(S);return{dp__marker_dot:L.type==="dot",dp__marker_line:L.type==="line"}}),k=ne(()=>S=>Ge(S,s.value)),T=ne(()=>({dp__calendar:!0,dp__calendar_next:o.value.multiCalendars>0&&n.instance!==0})),x=ne(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),w=(S,L,$)=>{var y,A;if(t("set-hover-date",S),(A=(y=S.marker)==null?void 0:y.tooltip)!=null&&A.length){const B=Lt(u.value[L][$]);if(B){const{width:K,height:Q}=B.getBoundingClientRect();l.value={bottom:`${Q}px`,left:`${K/2}px`,transform:"translateX(-50%)"},s.value=S.value}}},_=()=>{s.value=null},C=S=>{h.value.startX=S.changedTouches[0].screenX,h.value.startY=S.changedTouches[0].screenY},H=S=>{h.value.endX=S.changedTouches[0].screenX,h.value.endY=S.changedTouches[0].screenY,N()},V=S=>{n.vertical&&!n.inline&&S.preventDefault()},N=()=>{const S=n.vertical?"Y":"X";Math.abs(h.value[`start${S}`]-h.value[`end${S}`])>10&&t("handle-swipe",h.value[`start${S}`]>h.value[`end${S}`]?"right":"left")},U=(S,L,$)=>{S&&(Array.isArray(u.value[L])?u.value[L][$]=S:u.value[L]=[S]),n.arrowNavigation&&i(u.value,"calendar")},R=S=>{n.monthChangeOnScroll&&(S.preventDefault(),t("handle-scroll",S))};return e({triggerTransition:m}),(S,L)=>{var $;return z(),X("div",{class:Qe(M(T))},[ce("div",{style:Ta(M(x))},[r.specificMode?G("",!0):(z(),X("div",{key:0,ref_key:"calendarWrapRef",ref:c,class:Qe(M(g)),role:"grid","aria-label":($=M(o).ariaLabels)==null?void 0:$.calendarWrap},[ce("div",kI,[S.weekNumbers?(z(),X("div",xI,Nt(S.weekNumName),1)):G("",!0),(z(!0),X(Me,null,mt(M(p),(y,A)=>(z(),X("div",{class:"dp__calendar_header_item",role:"gridcell",key:A,"data-test":"calendar-header"},[S.$slots["calendar-header"]?re(S.$slots,"calendar-header",{key:0,day:y,index:A}):G("",!0),S.$slots["calendar-header"]?G("",!0):(z(),X(Me,{key:1},[dn(Nt(y),1)],64))]))),128))]),TI,Ar(to,{name:d.value,css:!!S.transitions},{default:Te(()=>{var y;return[f.value?(z(),X("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(y=M(o).ariaLabels)==null?void 0:y.calendarDays},[(z(!0),X(Me,null,mt(r.mappedDates,(A,B)=>(z(),X("div",{class:"dp__calendar_row",role:"row",key:B},[S.weekNumbers?(z(),X("div",CI,[ce("div",SI,Nt(r.getWeekNum(A.days)),1)])):G("",!0),(z(!0),X(Me,null,mt(A.days,(K,Q)=>{var D,P,q;return z(),X("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:pe=>U(pe,B,Q),key:Q+B,"aria-selected":K.classData.dp__active_date||K.classData.dp__range_start||K.classData.dp__range_start,"aria-disabled":K.classData.dp__cell_disabled,"aria-label":(P=(D=M(o).ariaLabels)==null?void 0:D.day)==null?void 0:P.call(D,K),tabindex:"0","data-test":K.value,onClick:Nn(pe=>S.$emit("select-date",K),["stop","prevent"]),onKeydown:[_e(pe=>S.$emit("select-date",K),["enter"]),_e(pe=>S.$emit("handle-space",K),["space"])],onMouseover:pe=>w(K,B,Q),onMouseleave:_},[ce("div",{class:Qe(["dp__cell_inner",K.classData])},[S.$slots.day?re(S.$slots,"day",{key:0,day:+K.text,date:K.value}):G("",!0),S.$slots.day?G("",!0):(z(),X(Me,{key:1},[dn(Nt(K.text),1)],64)),K.marker?(z(),X("div",{key:2,class:Qe(M(b)(K.marker)),style:Ta(K.marker.color?{backgroundColor:K.marker.color}:{})},null,6)):G("",!0),M(k)(K.value)?(z(),X("div",{key:3,class:"dp__marker_tooltip",style:Ta(l.value)},[(q=K.marker)!=null&&q.tooltip?(z(),X("div",{key:0,class:"dp__tooltip_content",onClick:L[0]||(L[0]=Nn(()=>{},["stop"]))},[(z(!0),X(Me,null,mt(K.marker.tooltip,(pe,ke)=>(z(),X("div",{key:ke,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?re(S.$slots,"marker-tooltip",{key:0,tooltop:pe,day:K.value}):G("",!0),S.$slots["marker-tooltip"]?G("",!0):(z(),X(Me,{key:1},[ce("div",{class:"dp__tooltip_mark",style:Ta(pe.color?{backgroundColor:pe.color}:{})},null,4),ce("div",null,Nt(pe.text),1)],64))]))),128)),MI])):G("",!0)],4)):G("",!0)],2)],40,OI)}),128))]))),128))],8,_I)):G("",!0)]}),_:3},8,["name","css"])],10,wI))],4)],2)}}}),DI=["aria-label","aria-disabled"],vf=jt({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(r,{emit:e}){const t=te(null);return pr(()=>e("set-ref",t)),(n,i)=>(z(),X("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=a=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=_e(a=>n.$emit("activate"),["enter"])),i[2]||(i[2]=_e(a=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:t},[ce("div",{class:Qe(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[re(n.$slots,"default")],2)],40,DI))}}),AI=["onKeydown"],PI={class:"dp__selection_grid_header"},NI=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],RI=["aria-label","onKeydown"],Bo=jt({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(r,{expose:e,emit:t}){const n=r,{setSelectionGrid:i,buildMultiLevelMatrix:a,setMonthPicker:o}=vi(),{hideNavigationButtons:s}=Cr(n),l=te(!1),u=te(null),c=te(null),f=te([]),d=te(),h=te(null);z_(()=>{u.value=null}),pr(()=>{rs().then(()=>_()),v(),p(!0)}),bp(()=>p(!1));const p=S=>{var L;n.arrowNavigation&&((L=n.headerRefs)!=null&&L.length?o(S):i(S))},v=()=>{const S=Lt(c);S&&(n.textInput||S.focus({preventScroll:!0}),l.value=S.clientHeight<S.scrollHeight)},m=ne(()=>({dp__overlay:!0})),g=ne(()=>({dp__overlay_col:!0})),b=S=>n.skipActive?!1:S.value===n.modelValue,k=ne(()=>n.items.map(S=>S.filter(L=>L).map(L=>{var $,y,A;const B=n.disabledValues.some(Q=>Q===L.value)||w(L.value),K=($=n.multiModelValue)!=null&&$.length?(y=n.multiModelValue)==null?void 0:y.some(Q=>Ge(Q,Fi(n.monthPicker?$o(new Date,L.value):new Date,n.monthPicker?n.year:L.value))):b(L);return{...L,className:{dp__overlay_cell_active:K,dp__overlay_cell:!K,dp__overlay_cell_disabled:B,dp__overlay_cell_active_disabled:B&&K,dp__overlay_cell_pad:!0,dp__cell_in_between:(A=n.multiModelValue)!=null&&A.length?H(L.value):!1}}}))),T=ne(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:n.autoApply})),x=ne(()=>{var S,L;return{dp__overlay_container:!0,dp__container_flex:((S=n.items)==null?void 0:S.length)<=6,dp__container_block:((L=n.items)==null?void 0:L.length)>6}}),w=S=>{const L=n.maxValue||n.maxValue===0,$=n.minValue||n.minValue===0;return!L&&!$?!1:L&&$?+S>+n.maxValue||+S<+n.minValue:L?+S>+n.maxValue:$?+S<+n.minValue:!1},_=()=>{const S=Lt(u);if(S){const L=Lt(c);L&&(L.scrollTop=S.offsetTop-L.offsetTop-(L.getBoundingClientRect().height/2-S.getBoundingClientRect().height))}},C=S=>{!n.disabledValues.some(L=>L===S)&&!w(S)&&(t("update:model-value",S),t("selected"))},H=S=>{const L=n.monthPicker?n.year:S;return uk(n.multiModelValue,Fi(n.monthPicker?$o(new Date,d.value||0):new Date,n.monthPicker?L:d.value||L),Fi(n.monthPicker?$o(new Date,S):new Date,L))},V=()=>{t("toggle"),t("reset-flow")},N=()=>{n.escClose&&V()},U=(S,L,$,y)=>{S&&(L.value===+n.modelValue&&!n.disabledValues.includes(L.value)&&(u.value=S),n.arrowNavigation&&(Array.isArray(f.value[$])?f.value[$][y]=S:f.value[$]=[S],R()))},R=()=>{var S,L;const $=(S=n.headerRefs)!=null&&S.length?[n.headerRefs].concat(f.value):f.value.concat([n.skipButtonRef?[]:[h.value]]);a(Vt($),(L=n.headerRefs)!=null&&L.length?"monthPicker":"selectionGrid")};return e({focusGrid:v}),(S,L)=>{var $;return z(),X("div",{ref_key:"gridWrapRef",ref:c,class:Qe(M(m)),role:"dialog",tabindex:"0",onKeydown:_e(N,["esc"])},[ce("div",{class:Qe(M(x)),role:"grid"},[ce("div",PI,[re(S.$slots,"header")]),S.$slots.overlay?re(S.$slots,"overlay",{key:0}):(z(),X(Me,{key:1},[(z(!0),X(Me,null,mt(M(k),(y,A)=>(z(),X("div",{class:"dp__overlay_row",key:A,role:"row"},[(z(!0),X(Me,null,mt(y,(B,K)=>(z(),X("div",{role:"gridcell",class:Qe(M(g)),key:B.value,"aria-selected":B.value===r.modelValue&&!r.disabledValues.includes(B.value),"aria-disabled":B.className.dp__overlay_cell_disabled,ref_for:!0,ref:Q=>U(Q,B,A,K),tabindex:"0","data-test":B.text,onClick:Q=>C(B.value),onKeydown:[_e(Q=>C(B.value),["enter"]),_e(Q=>C(B.value),["space"])],onMouseover:Q=>d.value=B.value},[ce("div",{class:Qe(B.className)},[S.$slots.item?re(S.$slots,"item",{key:0,item:B}):G("",!0),S.$slots.item?G("",!0):(z(),X(Me,{key:1},[dn(Nt(B.text),1)],64))],2)],42,NI))),128))]))),128)),S.$slots["button-icon"]?Vs((z(),X("div",{key:0,role:"button","aria-label":($=r.ariaLabels)==null?void 0:$.toggleOverlay,class:Qe(M(T)),tabindex:"0",ref_key:"toggleButton",ref:h,onClick:V,onKeydown:_e(V,["enter"])},[re(S.$slots,"button-icon")],42,RI)),[[qs,!M(s)(r.type)]]):G("",!0)],64))],2)],42,AI)}}}),LI=["aria-label"],Ly=jt({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(r,{emit:e}){const t=r,{transitionName:n,showTransition:i}=Cc(t.transitions),a=te(null);return pr(()=>e("set-ref",a)),(o,s)=>(z(),X(Me,null,[ce("div",{class:"dp__month_year_select",onClick:s[0]||(s[0]=l=>o.$emit("toggle")),onKeydown:[s[1]||(s[1]=_e(l=>o.$emit("toggle"),["enter"])),s[2]||(s[2]=_e(l=>o.$emit("toggle"),["space"]))],role:"button","aria-label":r.ariaLabel,tabindex:"0",ref_key:"elRef",ref:a},[re(o.$slots,"default")],40,LI),Ar(to,{name:M(n)(r.showSelectionGrid),css:M(i)},{default:Te(()=>[r.showSelectionGrid?(z(),Ie(Bo,Dt({key:0},{modelValue:r.modelValue,items:r.items,disabledValues:r.disabledValues,minValue:r.minValue,maxValue:r.maxValue,escClose:r.escClose,type:r.type,arrowNavigation:r.arrowNavigation,textInput:r.textInput,autoApply:r.autoApply,ariaLabels:r.ariaLabels,hideNavigation:r.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=l=>o.$emit("update:model-value",l)),onToggle:s[4]||(s[4]=l=>o.$emit("toggle"))}),ur({"button-icon":Te(()=>[o.$slots["calendar-icon"]?re(o.$slots,"calendar-icon",{key:0}):G("",!0),o.$slots["calendar-icon"]?G("",!0):(z(),Ie(M(_c),{key:1}))]),_:2},[o.$slots[r.slotName]?{name:"item",fn:Te(({item:l})=>[re(o.$slots,r.slotName,{item:l})]),key:"0"}:void 0,o.$slots[r.overlaySlot]?{name:"overlay",fn:Te(()=>[re(o.$slots,r.overlaySlot)]),key:"1"}:void 0,o.$slots[`${r.overlaySlot}-header`]?{name:"header",fn:Te(()=>[re(o.$slots,`${r.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):G("",!0)]),_:3},8,["name","css"])],64))}}),II={class:"dp__month_year_row"},$I={class:"dp__month_year_wrap"},BI={class:"dp__month_picker_header"},HI=["aria-label"],FI=["aria-label"],zI=["aria-label"],VI=jt({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(r,{expose:e,emit:t}){const n=r,{defaults:i}=Cr(n),{transitionName:a,showTransition:o}=Cc(i.value.transitions),{buildMatrix:s}=vi(),{handleMonthYearChange:l,isDisabled:u,updateMonthYear:c}=oI(n,t),f=te(!1),d=te(!1),h=te([null,null,null,null]),p=te(null),v=te(null),m=te(null);pr(()=>{t("mount")});const g=P=>({get:()=>n[P],set:q=>{const pe=P==="month"?"year":"month";t("update-month-year",{[P]:q,[pe]:n[pe]}),t("month-year-select",P==="year"),P==="month"?A(!0):B(!0)}}),b=ne(g("month")),k=ne(g("year")),T=ne(()=>P=>{const q=P==="month";return{showSelectionGrid:(q?f:d).value,items:(q?S:L).value,disabledValues:i.value.filters[q?"months":"years"],minValue:(q?C:w).value,maxValue:(q?H:_).value,headerRefs:q&&n.monthPicker?[p.value,v.value,m.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),x=ne(()=>P=>({month:n.month,year:n.year,items:P==="month"?n.months:n.years,instance:n.instance,updateMonthYear:c,toggle:P==="month"?A:B})),w=ne(()=>n.minDate?Je(Y(n.minDate)):null),_=ne(()=>n.maxDate?Je(Y(n.maxDate)):null),C=ne(()=>{if(n.minDate&&w.value){if(w.value>n.year)return 12;if(w.value===n.year)return Xe(Y(n.minDate))}return null}),H=ne(()=>n.maxDate&&_.value?_.value<n.year?-1:_.value===n.year?Xe(Y(n.maxDate)):null:null),V=ne(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),N=P=>P.reverse(),U=(P,q=!1)=>{const pe=[],ke=qe=>q?N(qe):qe;for(let qe=0;qe<P.length;qe+=3){const Ee=[P[qe],P[qe+1],P[qe+2]];pe.push(ke(Ee))}return q?pe.reverse():pe},R=ne(()=>n.months.find(q=>q.value===n.month)||{text:"",value:0}),S=ne(()=>U(n.months)),L=ne(()=>U(n.years,n.reverseYears)),$=ne(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),y=ne(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),A=(P=!1)=>{K(P),f.value=!f.value,f.value||t("overlay-closed")},B=(P=!1)=>{K(P),d.value=!d.value,d.value||t("overlay-closed")},K=P=>{P||t("reset-flow")},Q=(P=!1)=>{t("update-month-year",{year:P?n.year+1:n.year-1,month:n.month,fromNav:!0})},D=(P,q)=>{n.arrowNavigation&&(h.value[q]=Lt(P),s(h.value,"monthYear"))};return e({toggleMonthPicker:A,toggleYearPicker:B}),(P,q)=>{var pe,ke,qe,Ee,we;return z(),X("div",II,[P.$slots["month-year"]?re(P.$slots,"month-year",br(Dt({key:0},{month:r.month,year:r.year,months:r.months,years:r.years,updateMonthYear:M(c),handleMonthYearChange:M(l),instance:r.instance}))):(z(),X(Me,{key:1},[!P.monthPicker&&!P.yearPicker?(z(),X(Me,{key:0},[M($)&&!P.vertical?(z(),Ie(vf,{key:0,"aria-label":(pe=M(i).ariaLabels)==null?void 0:pe.prevMonth,disabled:M(u)(!1),onActivate:q[0]||(q[0]=le=>M(l)(!1)),onSetRef:q[1]||(q[1]=le=>D(le,0))},{default:Te(()=>[P.$slots["arrow-left"]?re(P.$slots,"arrow-left",{key:0}):G("",!0),P.$slots["arrow-left"]?G("",!0):(z(),Ie(M(ky),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),ce("div",$I,[Ar(Ly,Dt({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ke=M(i).ariaLabels)==null?void 0:ke.openMonthsOverlay,modelValue:M(b),"onUpdate:modelValue":q[2]||(q[2]=le=>Ni(b)?b.value=le:null)},M(T)("month"),{onToggle:A,onSetRef:q[3]||(q[3]=le=>D(le,1))}),ur({default:Te(()=>[P.$slots.month?re(P.$slots,"month",br(Dt({key:0},M(R)))):G("",!0),P.$slots.month?G("",!0):(z(),X(Me,{key:1},[dn(Nt(M(R).text),1)],64))]),_:2},[P.$slots["calendar-icon"]?{name:"calendar-icon",fn:Te(()=>[re(P.$slots,"calendar-icon")]),key:"0"}:void 0,P.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Te(({item:le})=>[re(P.$slots,"month-overlay-value",{text:le.text,value:le.value})]),key:"1"}:void 0,P.$slots["month-overlay"]?{name:"overlay-month",fn:Te(()=>[re(P.$slots,"month-overlay",br(Pn(M(x)("month"))))]),key:"2"}:void 0,P.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Te(()=>[re(P.$slots,"month-overlay-header",{toggle:A})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),Ar(Ly,Dt({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(qe=M(i).ariaLabels)==null?void 0:qe.openYearsOverlay,modelValue:M(k),"onUpdate:modelValue":q[4]||(q[4]=le=>Ni(k)?k.value=le:null)},M(T)("year"),{onToggle:B,onSetRef:q[5]||(q[5]=le=>D(le,2))}),ur({default:Te(()=>[P.$slots.year?re(P.$slots,"year",{key:0,year:r.year}):G("",!0),P.$slots.year?G("",!0):(z(),X(Me,{key:1},[dn(Nt(r.year),1)],64))]),_:2},[P.$slots["calendar-icon"]?{name:"calendar-icon",fn:Te(()=>[re(P.$slots,"calendar-icon")]),key:"0"}:void 0,P.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Te(({item:le})=>[re(P.$slots,"year-overlay-value",{text:le.text,value:le.value})]),key:"1"}:void 0,P.$slots["year-overlay"]?{name:"overlay-year",fn:Te(()=>[re(P.$slots,"year-overlay",br(Pn(M(x)("year"))))]),key:"2"}:void 0,P.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Te(()=>[re(P.$slots,"year-overlay-header",{toggle:B})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),M($)&&P.vertical?(z(),Ie(vf,{key:1,"aria-label":(Ee=M(i).ariaLabels)==null?void 0:Ee.prevMonth,disabled:M(u)(!1),onActivate:q[6]||(q[6]=le=>M(l)(!1))},{default:Te(()=>[P.$slots["arrow-up"]?re(P.$slots,"arrow-up",{key:0}):G("",!0),P.$slots["arrow-up"]?G("",!0):(z(),Ie(M(sk),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),M(y)?(z(),Ie(vf,{key:2,ref:"rightIcon",disabled:M(u)(!0),"aria-label":(we=M(i).ariaLabels)==null?void 0:we.nextMonth,onActivate:q[7]||(q[7]=le=>M(l)(!0)),onSetRef:q[8]||(q[8]=le=>D(le,3))},{default:Te(()=>[P.$slots[P.vertical?"arrow-down":"arrow-right"]?re(P.$slots,P.vertical?"arrow-down":"arrow-right",{key:0}):G("",!0),P.$slots[P.vertical?"arrow-down":"arrow-right"]?G("",!0):(z(),Ie(zs(P.vertical?M(lk):M(xy)),{key:1}))]),_:3},8,["disabled","aria-label"])):G("",!0)],64)):G("",!0),P.monthPicker?(z(),Ie(Bo,Dt({key:1},M(T)("month"),{"skip-active":P.range,year:r.year,"multi-model-value":M(V),"month-picker":"",modelValue:M(b),"onUpdate:modelValue":q[17]||(q[17]=le=>Ni(b)?b.value=le:null),onToggle:A,onSelected:q[18]||(q[18]=le=>P.$emit("overlay-closed"))}),ur({header:Te(()=>{var le,ht,me;return[ce("div",BI,[ce("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:p,onClick:q[9]||(q[9]=Ae=>Q(!1)),onKeydown:q[10]||(q[10]=_e(Ae=>Q(!1),["enter"]))},[ce("div",{class:"dp__inner_nav",role:"button","aria-label":(le=M(i).ariaLabels)==null?void 0:le.prevMonth},[P.$slots["arrow-left"]?re(P.$slots,"arrow-left",{key:0}):G("",!0),P.$slots["arrow-left"]?G("",!0):(z(),Ie(M(ky),{key:1}))],8,HI)],544),ce("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:v,"aria-label":(ht=M(i).ariaLabels)==null?void 0:ht.openYearsOverlay,tabindex:"0",onClick:q[11]||(q[11]=()=>B(!1)),onKeydown:q[12]||(q[12]=_e(()=>B(!1),["enter"]))},[P.$slots.year?re(P.$slots,"year",{key:0,year:r.year}):G("",!0),P.$slots.year?G("",!0):(z(),X(Me,{key:1},[dn(Nt(r.year),1)],64))],40,FI),ce("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:m,onClick:q[13]||(q[13]=Ae=>Q(!0)),onKeydown:q[14]||(q[14]=_e(Ae=>Q(!0),["enter"]))},[ce("div",{class:"dp__inner_nav",role:"button","aria-label":(me=M(i).ariaLabels)==null?void 0:me.nextMonth},[P.$slots["arrow-right"]?re(P.$slots,"arrow-right",{key:0}):G("",!0),P.$slots["arrow-right"]?G("",!0):(z(),Ie(M(xy),{key:1}))],8,zI)],544)]),Ar(to,{name:M(a)(d.value),css:M(o)},{default:Te(()=>[d.value?(z(),Ie(Bo,Dt({key:0},M(T)("year"),{modelValue:M(k),"onUpdate:modelValue":q[15]||(q[15]=Ae=>Ni(k)?k.value=Ae:null),onToggle:B,onSelected:q[16]||(q[16]=Ae=>P.$emit("overlay-closed"))}),ur({"button-icon":Te(()=>[P.$slots["calendar-icon"]?re(P.$slots,"calendar-icon",{key:0}):G("",!0),P.$slots["calendar-icon"]?G("",!0):(z(),Ie(M(_c),{key:1}))]),_:2},[P.$slots["year-overlay-value"]?{name:"item",fn:Te(({item:Ae})=>[re(P.$slots,"year-overlay-value",{text:Ae.text,value:Ae.value})]),key:"0"}:void 0]),1040,["modelValue"])):G("",!0)]),_:3},8,["name","css"])]}),_:2},[P.$slots["month-overlay-value"]?{name:"item",fn:Te(({item:le})=>[re(P.$slots,"month-overlay-value",{text:le.text,value:le.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):G("",!0),P.yearPicker?(z(),Ie(Bo,Dt({key:2},M(T)("year"),{modelValue:M(k),"onUpdate:modelValue":q[19]||(q[19]=le=>Ni(k)?k.value=le:null),"multi-model-value":M(V),"skip-active":P.range,"skip-button-ref":"","year-picker":"",onToggle:B,onSelected:q[20]||(q[20]=le=>P.$emit("overlay-closed"))}),ur({_:2},[P.$slots["year-overlay-value"]?{name:"item",fn:Te(({item:le})=>[re(P.$slots,"year-overlay-value",{text:le.text,value:le.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):G("",!0)],64))])}}}),qI={key:0,class:"dp__time_input"},UI=["aria-label","onKeydown","onClick"],WI=["aria-label","onKeydown","onClick"],jI=["aria-label","onKeydown","onClick"],YI={key:0},GI=["aria-label","onKeydown"],KI=jt({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...mi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(r,{expose:e,emit:t}){const n=r,{setTimePickerElements:i,setTimePickerBackRef:a}=vi(),{defaults:o}=Cr(n),{transitionName:s,showTransition:l}=Cc(o.value.transitions),u=Za({hours:!1,minutes:!1,seconds:!1}),c=te("AM"),f=te(null),d=te([]);pr(()=>{t("mounted")});const h=(R,S)=>B1(Xt(Y(),R),S),p=(R,S)=>RR(Xt(Y(),R),S),v=ne(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),m=ne(()=>{const R=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?R.concat([{type:"",separator:!0},{type:"seconds"}]):R}),g=ne(()=>m.value.filter(R=>!R.separator)),b=ne(()=>R=>{if(R==="hours"){const S=C(n.hours);return{text:S<10?`0${S}`:`${S}`,value:S}}return{text:n[R]<10?`0${n[R]}`:`${n[R]}`,value:n[R]}}),k=R=>{const S=n.is24?24:12,L=R==="hours"?S:60,$=+n[`${R}GridIncrement`],y=R==="hours"&&!n.is24?$:0,A=[];for(let B=y;B<L;B+=$)A.push({value:B,text:B<10?`0${B}`:`${B}`});return R==="hours"&&!n.is24&&A.push({value:0,text:"12"}),jL(A)},T=R=>n[`no${R[0].toUpperCase()+R.slice(1)}Overlay`],x=R=>{T(R)||(u[R]=!u[R],u[R]||t("overlay-closed"))},w=R=>R==="hours"?Dn:R==="minutes"?An:$a,_=(R,S=!0)=>{const L=S?h:p;t(`update:${R}`,w(R)(L({[R]:+n[R]},{[R]:+n[`${R}Increment`]})))},C=R=>n.is24?R:(R>=12?c.value="PM":c.value="AM",XL(R)),H=()=>{c.value==="PM"?(c.value="AM",t("update:hours",n.hours-12)):(c.value="PM",t("update:hours",n.hours+12))},V=R=>{u[R]=!0},N=(R,S,L)=>{if(R&&n.arrowNavigation){Array.isArray(d.value[S])?d.value[S][L]=R:d.value[S]=[R];const $=d.value.reduce((y,A)=>A.map((B,K)=>[...y[K]||[],A[K]]),[]);a(n.closeTimePickerBtn),f.value&&($[1]=$[1].concat(f.value)),i($,n.order)}},U=(R,S)=>R==="hours"&&!n.is24?t(`update:${R}`,c.value==="PM"?S+12:S):t(`update:${R}`,S);return e({openChildCmp:V}),(R,S)=>{var L;return R.disabled?G("",!0):(z(),X("div",qI,[(z(!0),X(Me,null,mt(M(m),($,y)=>{var A,B,K;return z(),X("div",{key:y,class:Qe(M(v))},[$.separator?(z(),X(Me,{key:0},[dn(" : ")],64)):(z(),X(Me,{key:1},[ce("div",{class:"dp__inc_dec_button",role:"button","aria-label":(A=M(o).ariaLabels)==null?void 0:A.incrementValue($.type),tabindex:"0",onKeydown:[_e(Q=>_($.type),["enter"]),_e(Q=>_($.type),["space"])],onClick:Q=>_($.type),ref_for:!0,ref:Q=>N(Q,y,0)},[R.$slots["arrow-up"]?re(R.$slots,"arrow-up",{key:0}):G("",!0),R.$slots["arrow-up"]?G("",!0):(z(),Ie(M(sk),{key:1}))],40,UI),ce("div",{role:"button","aria-label":(B=M(o).ariaLabels)==null?void 0:B.openTpOverlay($.type),class:Qe(T($.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[_e(Q=>x($.type),["enter"]),_e(Q=>x($.type),["space"])],onClick:Q=>x($.type),ref_for:!0,ref:Q=>N(Q,y,1)},[R.$slots[$.type]?re(R.$slots,$.type,{key:0,text:M(b)($.type).text,value:M(b)($.type).value}):G("",!0),R.$slots[$.type]?G("",!0):(z(),X(Me,{key:1},[dn(Nt(M(b)($.type).text),1)],64))],42,WI),ce("div",{class:"dp__inc_dec_button",role:"button","aria-label":(K=M(o).ariaLabels)==null?void 0:K.decrementValue($.type),tabindex:"0",onKeydown:[_e(Q=>_($.type,!1),["enter"]),_e(Q=>_($.type,!1),["space"])],onClick:Q=>_($.type,!1),ref_for:!0,ref:Q=>N(Q,y,2)},[R.$slots["arrow-down"]?re(R.$slots,"arrow-down",{key:0}):G("",!0),R.$slots["arrow-down"]?G("",!0):(z(),Ie(M(lk),{key:1}))],40,jI)],64))],2)}),128)),R.is24?G("",!0):(z(),X("div",YI,[R.$slots["am-pm-button"]?re(R.$slots,"am-pm-button",{key:0,toggle:H,value:c.value}):G("",!0),R.$slots["am-pm-button"]?G("",!0):(z(),X("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(L=M(o).ariaLabels)==null?void 0:L.amPmButton,tabindex:"0",onClick:H,onKeydown:[_e(Nn(H,["prevent"]),["enter"]),_e(Nn(H,["prevent"]),["space"])]},Nt(c.value),41,GI))])),(z(!0),X(Me,null,mt(M(g),($,y)=>(z(),Ie(to,{key:y,name:M(s)(u[$.type]),css:M(l)},{default:Te(()=>[u[$.type]?(z(),Ie(Bo,{key:0,items:k($.type),"disabled-values":M(o).filters.times[$.type],"esc-close":R.escClose,"aria-labels":M(o).ariaLabels,"hide-navigation":R.hideNavigation,"onUpdate:modelValue":A=>U($.type,A),onSelected:A=>x($.type),onToggle:A=>x($.type),onResetFlow:S[0]||(S[0]=A=>R.$emit("reset-flow")),type:$.type},ur({"button-icon":Te(()=>[R.$slots["clock-icon"]?re(R.$slots,"clock-icon",{key:0}):G("",!0),R.$slots["clock-icon"]?G("",!0):(z(),Ie(M(ok),{key:1}))]),_:2},[R.$slots[`${$.type}-overlay-value`]?{name:"item",fn:Te(({item:A})=>[re(R.$slots,`${$.type}-overlay-value`,{text:A.text,value:A.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):G("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),XI=["aria-label"],JI={class:"dp__overlay_container dp__container_flex"},QI={key:1,class:"dp__overlay_row"},ZI=["aria-label"],e$=jt({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(r,{expose:e,emit:t}){const n=r,{buildMatrix:i,setTimePicker:a}=vi(),o=yp(),{hideNavigationButtons:s,defaults:l}=Cr(n),{transitionName:u,showTransition:c}=Cc(l.value.transitions),f=te(null),d=te(null),h=te([]),p=te(null);pr(()=>{t("mount"),!n.timePicker&&n.arrowNavigation?i([Lt(f.value)],"time"):a(!0,n.timePicker)});const v=ne(()=>n.range&&n.modelAuto?hk(n.internalModelValue):!0),m=te(!1),g=N=>({hours:Array.isArray(n.hours)?n.hours[N]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[N]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[N]:n.seconds}),b=ne(()=>{const N=[];if(n.range)for(let U=0;U<2;U++)N.push(g(U));else N.push(g(0));return N}),k=(N,U=!1,R="")=>{U||t("reset-flow"),m.value=N,n.arrowNavigation&&(a(N),N||t("overlay-closed")),rs(()=>{R!==""&&h.value[0]&&h.value[0].openChildCmp(R)})},T=ne(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),x=Ii(o,"timePicker"),w=(N,U,R)=>n.range?U===0?[N,b.value[1][R]]:[b.value[0][R],N]:N,_=N=>{t("update:hours",N)},C=N=>{t("update:minutes",N)},H=N=>{t("update:seconds",N)},V=()=>{p.value&&n.arrowNavigation&&p.value.focus({preventScroll:!0})};return e({toggleTimePicker:k}),(N,U)=>{var R;return z(),X("div",null,[N.timePicker?G("",!0):Vs((z(),X("div",{key:0,class:Qe(M(T)),role:"button","aria-label":(R=M(l).ariaLabels)==null?void 0:R.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:f,onKeydown:[U[0]||(U[0]=_e(S=>k(!0),["enter"])),U[1]||(U[1]=_e(S=>k(!0),["space"]))],onClick:U[2]||(U[2]=S=>k(!0))},[N.$slots["clock-icon"]?re(N.$slots,"clock-icon",{key:0}):G("",!0),N.$slots["clock-icon"]?G("",!0):(z(),Ie(M(ok),{key:1}))],42,XI)),[[qs,!M(s)("time")]]),Ar(to,{name:M(u)(m.value),css:M(c)},{default:Te(()=>{var S;return[m.value||N.timePicker?(z(),X("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:p,tabindex:"0"},[ce("div",JI,[N.$slots["time-picker-overlay"]?re(N.$slots,"time-picker-overlay",{key:0,hours:r.hours,minutes:r.minutes,seconds:r.seconds,setHours:_,setMinutes:C,setSeconds:H}):G("",!0),N.$slots["time-picker-overlay"]?G("",!0):(z(),X("div",QI,[(z(!0),X(Me,null,mt(M(b),(L,$)=>Vs((z(),Ie(KI,Dt({key:$},{...N.$props,order:$,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:d.value,disabled:$===0?N.fixedStart:N.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:h,"onUpdate:hours":y=>_(w(y,$,"hours")),"onUpdate:minutes":y=>C(w(y,$,"minutes")),"onUpdate:seconds":y=>H(w(y,$,"seconds")),onMounted:V,onOverlayClosed:V}),ur({_:2},[mt(M(x),(y,A)=>({name:y,fn:Te(B=>[re(N.$slots,y,br(Pn(B)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[qs,$===0?!0:M(v)]])),128))])),N.timePicker?G("",!0):Vs((z(),X("div",{key:2,ref_key:"closeTimePickerBtn",ref:d,class:Qe(M(T)),role:"button","aria-label":(S=M(l).ariaLabels)==null?void 0:S.closeTimePicker,tabindex:"0",onKeydown:[U[3]||(U[3]=_e(L=>k(!1),["enter"])),U[4]||(U[4]=_e(L=>k(!1),["space"]))],onClick:U[5]||(U[5]=L=>k(!1))},[N.$slots["calendar-icon"]?re(N.$slots,"calendar-icon",{key:0}):G("",!0),N.$slots["calendar-icon"]?G("",!0):(z(),Ie(M(_c),{key:1}))],42,ZI)),[[qs,!M(s)("time")]])])],512)):G("",!0)]}),_:3},8,["name","css"])])}}}),t$=(r,e)=>{const{isDisabled:t,matchDate:n,getWeekFromDate:i}=Cr(e),a=te(null),o=te(Y()),s=y=>{!y.current&&e.hideOffsetDates||(a.value=y.value)},l=()=>{a.value=null},u=y=>Array.isArray(r.value)&&e.range&&r.value[0]&&a.value?y?er(a.value,r.value[0]):Ut(a.value,r.value[0]):!0,c=(y,A)=>{const B=()=>r.value?A?r.value[0]||null:r.value[1]:null,K=r.value&&Array.isArray(r.value)?B():null;return Ge(Y(y.value),K)},f=y=>{const A=Array.isArray(r.value)?r.value[0]:null;return y?!Ut(a.value||null,A):!0},d=(y,A=!0)=>(e.range||e.weekPicker)&&Array.isArray(r.value)?e.hideOffsetDates&&!y.current?!1:Ge(Y(y.value),r.value[A?0:1]):e.range?c(y,A)&&f(A)||Ge(y.value,Array.isArray(r.value)?r.value[0]:null)&&u(A):!1,h=(y,A,B)=>Array.isArray(r.value)&&r.value[0]&&r.value.length===1?y?!1:B?er(r.value[0],A.value):Ut(r.value[0],A.value):!1,p=y=>!r.value||e.hideOffsetDates&&!y.current?!1:e.range?e.modelAuto&&Array.isArray(r.value)?Ge(y.value,r.value[0]?r.value[0]:o.value):!1:e.multiDates&&Array.isArray(r.value)?r.value.some(A=>Ge(A,y.value)):Ge(y.value,r.value?r.value:o.value),v=y=>{if(e.autoRange||e.weekPicker){if(a.value){if(e.hideOffsetDates&&!y.current)return!1;const A=ai(a.value,+e.autoRange),B=i(Y(a.value));return e.weekPicker?Ge(B[1],Y(y.value)):Ge(A,Y(y.value))}return!1}return!1},m=y=>{if(e.autoRange||e.weekPicker){if(a.value){const A=ai(a.value,+e.autoRange);if(e.hideOffsetDates&&!y.current)return!1;const B=i(Y(a.value));return e.weekPicker?er(y.value,B[0])&&Ut(y.value,B[1]):er(y.value,a.value)&&Ut(y.value,A)}return!1}return!1},g=y=>{if(e.autoRange||e.weekPicker){if(a.value){if(e.hideOffsetDates&&!y.current)return!1;const A=i(Y(a.value));return e.weekPicker?Ge(A[0],y.value):Ge(a.value,y.value)}return!1}return!1},b=y=>uk(r.value,a.value,y.value),k=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,T=()=>e.modelAuto?hk(e.internalModelValue):!0,x=y=>{if(Array.isArray(r.value)&&r.value.length||e.weekPicker)return!1;const A=e.range?!d(y)&&!d(y,!1):!0;return!t(y.value)&&!p(y)&&!(!y.current&&e.hideOffsetDates)&&A},w=y=>e.range?e.modelAuto?k()&&p(y):!1:p(y),_=y=>e.highlight?n(y.value,e.highlight):!1,C=y=>t(y.value)&&e.highlightDisabledDays===!1,H=y=>e.highlightWeekDays&&e.highlightWeekDays.includes(y.value.getDay()),V=y=>(e.range||e.weekPicker)&&(e.multiCalendars>0?y.current:!0)&&T()&&!(!y.current&&e.hideOffsetDates)&&!p(y)?b(y):!1,N=y=>({dp__cell_offset:!y.current,dp__pointer:!e.disabled&&!(!y.current&&e.hideOffsetDates)&&!t(y.value),dp__cell_disabled:t(y.value),dp__cell_highlight:!C(y)&&(_(y)||H(y))&&!w(y),dp__cell_highlight_active:!C&&(_(y)||H(y))&&w(y),dp__today:!e.noToday&&Ge(y.value,o.value)&&y.current}),U=y=>({dp__active_date:w(y),dp__date_hover:x(y)}),R=y=>({...S(y),...L(y),dp__range_between_week:V(y)&&e.weekPicker}),S=y=>({dp__range_start:e.multiCalendars>0?y.current&&d(y)&&T():d(y)&&T(),dp__range_end:e.multiCalendars>0?y.current&&d(y,!1)&&T():d(y,!1)&&T(),dp__range_between:V(y)&&!e.weekPicker,dp__date_hover_start:h(x(y),y,!0),dp__date_hover_end:h(x(y),y,!1)}),L=y=>({...S(y),dp__cell_auto_range:m(y),dp__cell_auto_range_start:g(y),dp__cell_auto_range_end:v(y)}),$=y=>e.range?e.autoRange?L(y):e.modelAuto?{...U(y),...S(y)}:S(y):e.weekPicker?R(y):U(y);return{setHoverDate:s,clearHoverDate:l,getDayClassData:y=>({...N(y),...$(y),[e.dayClass?e.dayClass(y.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName})}},r$=["id","onKeydown"],n$={key:0,class:"dp__sidebar_left"},i$={key:1,class:"dp__preset_ranges"},a$=["onClick"],o$={key:2,class:"dp__sidebar_right"},s$={key:3,class:"dp__now_wrap"},l$=jt({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...mi},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value"],setup(r,{emit:e}){const t=r,{setMenuFocused:n,setShiftKey:i,control:a}=ck(),{getCalendarDays:o,defaults:s}=Cr(t),l=yp(),u=te(null),c=Za({timePicker:!!(!t.enableTimePicker||t.timePicker||t.monthPicker),monthYearInput:!!t.timePicker,calendar:!1}),f=te([]),d=te([]),h=te(null),p=te(null),v=te(0),m=te(!1),g=te(0);pr(()=>{var F;m.value=!0,!((F=t.presetRanges)!=null&&F.length)&&!l["left-sidebar"]&&!l["right-sidebar"]&&Ct();const ae=Lt(p);if(ae&&!t.textInput&&!t.inline&&(n(!0),_()),ae){const St=st=>{!t.monthYearComponent&&!t.timePickerComponent&&!Object.keys(l).length&&st.preventDefault(),st.stopImmediatePropagation(),st.stopPropagation()};ae.addEventListener("pointerdown",St),ae.addEventListener("mousedown",St)}document.addEventListener("resize",Ct)}),bp(()=>{document.removeEventListener("resize",Ct)});const{arrowRight:b,arrowLeft:k,arrowDown:T,arrowUp:x}=vi(),w=F=>{F||F===0?d.value[F].triggerTransition(N.value(F),U.value(F)):d.value.forEach((ae,St)=>ae.triggerTransition(N.value(St),U.value(St)))},_=()=>{const F=Lt(p);F&&F.focus({preventScroll:!0})},C=()=>{var F;((F=t.flow)==null?void 0:F.length)&&g.value!==-1&&(g.value+=1,e("flow-step",g.value),Be())},H=()=>{g.value=-1},{modelValue:V,month:N,year:U,time:R,updateTime:S,updateMonthYear:L,selectDate:$,getWeekNum:y,monthYearSelect:A,handleScroll:B,handleArrow:K,handleSwipe:Q,getMarker:D,selectCurrentDate:P,presetDateRange:q}=iI(t,e,C,w),{setHoverDate:pe,clearHoverDate:ke,getDayClassData:qe}=t$(V,t),Ee=Ii(l,"calendar"),we=Ii(l,"action"),le=Ii(l,"timePicker"),ht=Ii(l,"monthYear"),me=ne(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ae=ne(()=>GL(t.yearRange)),We=ne(()=>KL(t.locale,t.monthNameFormat)),Ct=()=>{const F=Lt(u);F&&(v.value=F.getBoundingClientRect().width)},sr=ne(()=>F=>o(N.value(F),U.value(F))),Gr=ne(()=>s.value.multiCalendars>0&&t.range?[...Array(s.value.multiCalendars).keys()]:[0]),Kr=ne(()=>F=>F===1),la=ne(()=>t.monthPicker||t.timePicker||t.yearPicker),bi=ne(()=>({dp__flex_display:s.value.multiCalendars>0})),Xr=ne(()=>({dp__instance_calendar:s.value.multiCalendars>0})),Sr=ne(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly})),Jr=ne(()=>F=>ca(sr,F)),ua=ne(()=>({dp__menu:!0,dp__menu_index:!t.inline,dp__relative:t.inline,[t.menuClassName]:!!t.menuClassName})),ca=(F,ae)=>F.value(ae).map(St=>({...St,days:St.days.map(st=>(st.marker=D(st),st.classData=qe(st),st))})),wi=F=>{F.stopPropagation(),F.preventDefault(),F.stopImmediatePropagation()},O=()=>{t.escClose&&e("close-picker")},W=(F,ae=!1)=>{$(F,ae),t.spaceConfirm&&e("select-date")},oe=F=>{var ae;(ae=t.flow)!=null&&ae.length&&(c[F]=!0,Object.keys(c).filter(St=>!c[St]).length||Be())},he=(F,ae,St,st,...Lr)=>{if(t.flow[g.value]===F){const de=st?ae.value[0]:ae.value;de&&de[St](...Lr)}},Be=()=>{he("month",f,"toggleMonthPicker",!0,!0),he("year",f,"toggleYearPicker",!0,!0),he("calendar",h,"toggleTimePicker",!1,!1,!0),he("time",h,"toggleTimePicker",!1,!0,!0);const F=t.flow[g.value];(F==="hours"||F==="minutes"||F==="seconds")&&he(F,h,"toggleTimePicker",!1,!0,!0,F)},Gt=F=>{if(t.arrowNavigation){if(F==="up")return x();if(F==="down")return T();if(F==="left")return k();if(F==="right")return b()}else F==="left"||F==="up"?K("left",0,F==="up"):K("right",0,F==="down")},Rr=F=>{i(F.shiftKey),!t.disableMonthYearSelect&&F.code==="Tab"&&F.target.classList.contains("dp__menu")&&a.value.shiftKeyInMenu&&(F.preventDefault(),F.stopImmediatePropagation(),e("close-picker"))};return(F,ae)=>{var St;return z(),Ie(to,{appear:"",name:(St=M(s).transitions)==null?void 0:St.menuAppear,mode:"out-in",css:!!F.transitions},{default:Te(()=>{var st,Lr;return[ce("div",{id:F.uid?`dp-menu-${F.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:p,role:"dialog",class:Qe(M(ua)),onMouseleave:ae[12]||(ae[12]=(...de)=>M(ke)&&M(ke)(...de)),onClick:wi,onKeydown:[_e(O,["esc"]),ae[13]||(ae[13]=_e(Nn(de=>Gt("left"),["prevent"]),["left"])),ae[14]||(ae[14]=_e(Nn(de=>Gt("up"),["prevent"]),["up"])),ae[15]||(ae[15]=_e(Nn(de=>Gt("down"),["prevent"]),["down"])),ae[16]||(ae[16]=_e(Nn(de=>Gt("right"),["prevent"]),["right"])),Rr]},[(F.disabled||F.readonly)&&F.inline?(z(),X("div",{key:0,class:Qe(M(Sr))},null,2)):G("",!0),!F.inline&&!F.teleportCenter?(z(),X("div",{key:1,class:Qe(M(me))},null,2)):G("",!0),ce("div",{class:Qe({dp__menu_content_wrapper:((st=F.presetRanges)==null?void 0:st.length)||!!F.$slots["left-sidebar"]||!!F.$slots["right-sidebar"]})},[F.$slots["left-sidebar"]?(z(),X("div",n$,[re(F.$slots,"left-sidebar")])):G("",!0),(Lr=F.presetRanges)!=null&&Lr.length?(z(),X("div",i$,[(z(!0),X(Me,null,mt(F.presetRanges,(de,Qr)=>(z(),X("div",{key:Qr,style:Ta(de.style||{}),class:"dp__preset_range",onClick:Se=>M(q)(de.range,!!de.slot)},[de.slot?re(F.$slots,de.slot,{key:0,presetDateRange:M(q),label:de.label,range:de.range}):(z(),X(Me,{key:1},[dn(Nt(de.label),1)],64))],12,a$))),128))])):G("",!0),ce("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[ce("div",{class:Qe(M(bi))},[(z(!0),X(Me,null,mt(M(Gr),(de,Qr)=>(z(),X("div",{key:de,class:Qe(M(Xr))},[!F.disableMonthYearSelect&&!F.timePicker?(z(),Ie(zs(F.monthYearComponent?F.monthYearComponent:VI),Dt({key:0,ref_for:!0,ref:Se=>{Se&&(f.value[Qr]=Se)},months:M(We),years:M(Ae),month:M(N)(de),year:M(U)(de),instance:de,"internal-model-value":r.internalModelValue},F.$props,{onMount:ae[0]||(ae[0]=Se=>oe("monthYearInput")),onResetFlow:H,onUpdateMonthYear:Se=>M(L)(de,Se),onMonthYearSelect:M(A),onOverlayClosed:_}),ur({_:2},[mt(M(ht),(Se,fs)=>({name:Se,fn:Te(qn=>[re(F.$slots,Se,br(Pn(qn)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):G("",!0),Ar(EI,Dt({ref_for:!0,ref:Se=>{Se&&(d.value[Qr]=Se)},"specific-mode":M(la),"get-week-num":M(y),instance:de,"mapped-dates":M(Jr)(de),month:M(N)(de),year:M(U)(de)},F.$props,{"flow-step":g.value,"onUpdate:flow-step":ae[1]||(ae[1]=Se=>g.value=Se),onSelectDate:Se=>M($)(Se,!M(Kr)(de)),onHandleSpace:Se=>W(Se,!M(Kr)(de)),onSetHoverDate:ae[2]||(ae[2]=Se=>M(pe)(Se)),onHandleScroll:Se=>M(B)(Se,de),onHandleSwipe:Se=>M(Q)(Se,de),onMount:ae[3]||(ae[3]=Se=>oe("calendar")),onResetFlow:H}),ur({_:2},[mt(M(Ee),(Se,fs)=>({name:Se,fn:Te(qn=>[re(F.$slots,Se,br(Pn({...qn})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),ce("div",null,[F.$slots["time-picker"]?re(F.$slots,"time-picker",br(Dt({key:0},{time:M(R),updateTime:M(S)}))):(z(),X(Me,{key:1},[F.enableTimePicker&&!F.monthPicker&&!F.weekPicker?(z(),Ie(zs(F.timePickerComponent?F.timePickerComponent:e$),Dt({key:0,ref_key:"timePickerRef",ref:h,hours:M(R).hours,minutes:M(R).minutes,seconds:M(R).seconds,"internal-model-value":r.internalModelValue},F.$props,{onMount:ae[4]||(ae[4]=de=>oe("timePicker")),"onUpdate:hours":ae[5]||(ae[5]=de=>M(S)(de)),"onUpdate:minutes":ae[6]||(ae[6]=de=>M(S)(de,!1)),"onUpdate:seconds":ae[7]||(ae[7]=de=>M(S)(de,!1,!0)),onResetFlow:H,onOverlayClosed:_}),ur({_:2},[mt(M(le),(de,Qr)=>({name:de,fn:Te(Se=>[re(F.$slots,de,br(Pn(Se)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):G("",!0)],64))])],512),F.$slots["right-sidebar"]?(z(),X("div",o$,[re(F.$slots,"right-sidebar")])):G("",!0),F.showNowButton?(z(),X("div",s$,[F.$slots["now-button"]?re(F.$slots,"now-button",{key:0,selectCurrentDate:M(P)}):G("",!0),F.$slots["now-button"]?G("",!0):(z(),X("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:ae[8]||(ae[8]=(...de)=>M(P)&&M(P)(...de))},Nt(F.nowButtonLabel),1))])):G("",!0)],2),F.$slots["action-row"]?re(F.$slots,"action-row",br(Dt({key:2},{internalModelValue:r.internalModelValue,selectDate:()=>F.$emit("select-date"),closePicker:()=>F.$emit("close-picker")}))):(z(),X(Me,{key:3},[!F.autoApply||F.keepActionRow?(z(),Ie(zs(F.actionRowComponent?F.actionRowComponent:bI),Dt({key:0,"menu-mount":m.value,"calendar-width":v.value,"internal-model-value":r.internalModelValue},F.$props,{onClosePicker:ae[9]||(ae[9]=de=>F.$emit("close-picker")),onSelectDate:ae[10]||(ae[10]=de=>F.$emit("select-date")),onInvalidSelect:ae[11]||(ae[11]=de=>F.$emit("invalid-select"))}),ur({_:2},[mt(M(we),(de,Qr)=>({name:de,fn:Te(Se=>[re(F.$slots,de,br(Pn({...Se})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):G("",!0)],64))],42,r$)]}),_:3},8,["name","css"])}}}),u$=typeof window<"u"?window:void 0,mf=()=>{},c$=r=>V_()?(q_(r),!0):!1,f$=(r,e,t,n)=>{if(!r)return mf;let i=mf;const a=eo(()=>M(r),s=>{i(),s&&(s.addEventListener(e,t,n),i=()=>{s.removeEventListener(e,t,n),i=mf})},{immediate:!0,flush:"post"}),o=()=>{a(),i()};return c$(o),o},d$=(r,e,t,n={})=>{const{window:i=u$,event:a="pointerdown"}=n;return i?f$(i,a,o=>{const s=Lt(r),l=Lt(e);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||t(o)},{passive:!0}):void 0},h$=jt({__name:"VueDatePicker",props:{...mi},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select"],setup(r,{expose:e,emit:t}){const n=r,i=yp(),a=te(!1),o=sd(n,"modelValue"),s=sd(n,"timezone"),l=te(null),u=te(null),c=te(!1),{setMenuFocused:f,setShiftKey:d}=ck(),{clearArrowNav:h}=vi(),{validateDate:p,isValidTime:v,defaults:m}=Cr(n);pr(()=>{H(n.modelValue),n.inline||(window.addEventListener("scroll",L),window.addEventListener("resize",$)),n.inline&&(a.value=!0)}),bp(()=>{n.inline||(window.removeEventListener("scroll",L),window.removeEventListener("resize",$))});const g=Ii(i,"all",n.presetRanges),b=Ii(i,"input");eo([o,s],()=>{H(o.value)},{deep:!0});const{openOnTop:k,menuPosition:T,setMenuPosition:x,setInitialPosition:w}=sI(l,u,t,n),{inputValue:_,internalModelValue:C,parseExternalModelValue:H,emitModelValue:V,formatInputValue:N,checkBeforeEmit:U}=aI(t,n,c),R=ne(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),S=ne(()=>n.dark?"dp__theme_dark":"dp__theme_light"),L=()=>{a.value&&(n.closeOnScroll?q():n.autoPosition?x():window.removeEventListener("scroll",L))},$=()=>{a.value&&x()},y=()=>{!n.disabled&&!n.readonly&&(w(),a.value=!0,rs().then(()=>{x(),a.value&&t("open")}),a.value||P(),H(n.modelValue))},A=()=>{_.value="",P(),t("update:model-value",null),t("cleared"),q()},B=()=>{const me=C.value;return!me||!Array.isArray(me)&&p(me)?!0:Array.isArray(me)?me.length===2&&p(me[0])&&p(me[1])?!0:p(me[0]):!1},K=()=>{U()&&B()?(V(),q()):t("invalid-select",C.value)},Q=me=>{V(),n.closeOnAutoApply&&!me&&q()},D=(me=!1)=>{n.autoApply&&v(C.value)&&B()&&(n.range&&Array.isArray(C.value)?(n.partialRange||C.value.length===2)&&Q(me):Q(me))},P=()=>{n.textInput||(C.value=null)},q=()=>{n.inline||(a.value&&(a.value=!1,f(!1),d(!1),h(),t("closed"),w(),_.value&&H(o.value)),P(),u.value&&u.value.focusInput())},pe=(me,Ae)=>{if(!me){C.value=null;return}C.value=me,Ae&&(K(),t("text-submit"))},ke=()=>{n.autoApply&&v(C.value)&&V()},qe=()=>a.value?q():y(),Ee=me=>{C.value=me},we=ne(()=>n.textInput&&m.value.textInputOptions.format),le=()=>{we.value&&(c.value=!0,N()),t("focus")},ht=()=>{we.value&&(c.value=!1,N()),t("blur")};return d$(l,u,n.onClickOutside?()=>n.onClickOutside(B):q),e({closeMenu:q,selectDate:K,clearValue:A,openMenu:y,onScroll:L,formatInputValue:N,updateInternalModelValue:Ee}),(me,Ae)=>(z(),X("div",{class:Qe(M(R))},[Ar(vI,Dt({ref_key:"inputRef",ref:u,"is-menu-open":a.value,"input-value":M(_),"onUpdate:input-value":Ae[0]||(Ae[0]=We=>Ni(_)?_.value=We:null)},me.$props,{onClear:A,onOpen:y,onSetInputDate:pe,onSetEmptyDate:M(V),onSelectDate:K,onToggle:qe,onClose:q,onFocus:le,onBlur:ht}),ur({_:2},[mt(M(b),(We,Ct)=>({name:We,fn:Te(sr=>[re(me.$slots,We,br(Pn(sr)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),a.value?(z(),Ie(F_,{key:0,to:me.teleport,disabled:me.inline},[a.value?(z(),Ie(l$,Dt({key:0,ref_key:"dpMenuRef",ref:l,class:M(S),style:M(T),"open-on-top":M(k)},me.$props,{"internal-model-value":M(C),"onUpdate:internal-model-value":Ae[1]||(Ae[1]=We=>Ni(C)?C.value=We:null),onClosePicker:q,onSelectDate:K,onAutoApply:D,onTimeUpdate:ke,onFlowStep:Ae[2]||(Ae[2]=We=>me.$emit("flow-step",We)),onUpdateMonthYear:Ae[3]||(Ae[3]=We=>me.$emit("update-month-year",We)),onInvalidSelect:Ae[4]||(Ae[4]=We=>me.$emit("invalid-select",M(C)))}),ur({_:2},[mt(M(g),(We,Ct)=>({name:We,fn:Te(sr=>[re(me.$slots,We,br(Pn({...sr})))])}))]),1040,["class","style","open-on-top","internal-model-value"])):G("",!0)],8,["to","disabled"])):G("",!0)],2))}}),Kp=(()=>{const r=h$;return r.install=e=>{e.component("Vue3DatePicker",r)},r})(),p$=Object.freeze(Object.defineProperty({__proto__:null,default:Kp},Symbol.toStringTag,{value:"Module"}));Object.entries(p$).forEach(([r,e])=>{r!=="default"&&(Kp[r]=e)});const v$={components:{Datepicker:Kp},data(){return{date:null}}};const m$=r=>(Xw("data-v-e3a2b896"),r=r(),Jw(),r),g$=m$(()=>ce("h2",null,"Date Picker",-1));function y$(r,e,t,n,i,a){const o=U_("Datepicker");return z(),X(Me,null,[g$,Ar(o,{class:"datepicker__wrapper",modelValue:i.date,"onUpdate:modelValue":e[0]||(e[0]=s=>i.date=s)},null,8,["modelValue"])],64)}const b$=wp(v$,[["render",y$],["__scopeId","data-v-e3a2b896"]]);function Mt(r){this.content=r}Mt.prototype={constructor:Mt,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),a=n.content.slice();return i==-1?a.push(t||r,e):(a[i+1]=e,t&&(a[i]=t)),new Mt(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Mt(t)},addToStart:function(r,e){return new Mt([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Mt(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),a=n.find(r);return i.splice(a==-1?i.length:a,0,e,t),new Mt(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Mt.from(r),r.size?new Mt(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Mt.from(r),r.size?new Mt(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Mt.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Mt.from=function(r){if(r instanceof Mt)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Mt(e)};function pk(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),a=e.child(n);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)t++;return t}if(i.content.size||a.content.size){let o=pk(i.content,a.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function vk(r,e,t,n){for(let i=r.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:n};let o=r.child(--i),s=e.child(--a),l=o.nodeSize;if(o==s){t-=l,n-=l;continue}if(!o.sameMarkup(s))return{a:t,b:n};if(o.isText&&o.text!=s.text){let u=0,c=Math.min(o.text.length,s.text.length);for(;u<c&&o.text[o.text.length-u-1]==s.text[s.text.length-u-1];)u++,t--,n--;return{a:t,b:n}}if(o.content.size||s.content.size){let u=vk(o.content,s.content,t-1,n-1);if(u)return u}t-=l,n-=l}}class j{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,a){for(let o=0,s=0;s<t;o++){let l=this.content[o],u=s+l.nodeSize;if(u>e&&n(l,i+s,a||null,o)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let a="",o=!0;return this.nodesBetween(e,t,(s,l)=>{s.isText?(a+=s.text.slice(Math.max(e,l)-l,t-l),o=!n):s.isLeaf?(i?a+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(a+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(a+=n,o=!0)},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new j(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let a=0,o=0;o<t;a++){let s=this.content[a],l=o+s.nodeSize;l>e&&((o<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s=s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),i+=s.nodeSize),o=l}return new j(n,i)}cutByIndex(e,t){return e==t?j.empty:e==0&&t==this.content.length?this:new j(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new j(i,a)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return pk(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return vk(this,e,t,n)}findIndex(e,t=-1){if(e==0)return Os(0,e);if(e==this.size)return Os(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),o=i+a.nodeSize;if(o>=e)return o==e||t>0?Os(n+1,o):Os(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return j.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let t,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new j(t||e,n)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const gf={index:0,offset:0};function Os(r,e){return gf.index=r,gf.offset=e,gf}function qu(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!qu(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!qu(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}class De{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&qu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return De.none;if(e instanceof De)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}}De.none=[];class Uu extends Error{}class Z{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=gk(this.content,e+this.openStart,t);return n&&new Z(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Z(mk(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Z.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(j.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new Z(e,n,i)}}Z.empty=new Z(j.empty,0,0);function mk(r,e,t){let{index:n,offset:i}=r.findIndex(e),a=r.maybeChild(n),{index:o,offset:s}=r.findIndex(t);if(i==e||a.isText){if(s!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(mk(a.content,e-i-1,t-i-1)))}function gk(r,e,t,n){let{index:i,offset:a}=r.findIndex(e),o=r.maybeChild(i);if(a==e||o.isText)return n&&!n.canReplace(i,i,t)?null:r.cut(0,e).append(t).append(r.cut(e));let s=gk(o.content,e-a-1,t);return s&&r.replaceChild(i,o.copy(s))}function w$(r,e,t){if(t.openStart>r.depth)throw new Uu("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new Uu("Inconsistent open depths");return yk(r,e,t,0)}function yk(r,e,t,n){let i=r.index(n),a=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let o=yk(r,e,t,n+1);return a.copy(a.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,s=o.content;return Vi(o,s.cut(0,r.parentOffset).append(t.content).append(s.cut(e.parentOffset)))}else{let{start:o,end:s}=k$(t,r);return Vi(a,wk(r,o,s,e,n))}else return Vi(a,Wu(r,e,n))}function bk(r,e){if(!e.type.compatibleContent(r.type))throw new Uu("Cannot join "+e.type.name+" onto "+r.type.name)}function Nh(r,e,t){let n=r.node(t);return bk(n,e.node(t)),n}function zi(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function Ho(r,e,t,n){let i=(e||r).node(t),a=0,o=e?e.index(t):i.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(zi(r.nodeAfter,n),a++));for(let s=a;s<o;s++)zi(i.child(s),n);e&&e.depth==t&&e.textOffset&&zi(e.nodeBefore,n)}function Vi(r,e){return r.type.checkContent(e),r.copy(e)}function wk(r,e,t,n,i){let a=r.depth>i&&Nh(r,e,i+1),o=n.depth>i&&Nh(t,n,i+1),s=[];return Ho(null,r,i,s),a&&o&&e.index(i)==t.index(i)?(bk(a,o),zi(Vi(a,wk(r,e,t,n,i+1)),s)):(a&&zi(Vi(a,Wu(r,e,i+1)),s),Ho(e,t,i,s),o&&zi(Vi(o,Wu(t,n,i+1)),s)),Ho(n,null,i,s),new j(s)}function Wu(r,e,t){let n=[];if(Ho(null,r,t,n),r.depth>t){let i=Nh(r,e,t+1);zi(Vi(i,Wu(r,e,t+1)),n)}return Ho(e,null,t,n),new j(n)}function k$(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(j.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}class Ko{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return De.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let s=n;n=i,i=s}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new ju(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,a=t;for(let o=e;;){let{index:s,offset:l}=o.content.findIndex(a),u=a-l;if(n.push(o,s,i+l),!u||(o=o.child(s),o.isText))break;a=u-1,i+=l+1}return new Ko(t,n,a)}static resolveCached(e,t){for(let i=0;i<yf.length;i++){let a=yf[i];if(a.pos==t&&a.doc==e)return a}let n=yf[bf]=Ko.resolve(e,t);return bf=(bf+1)%x$,n}}let yf=[],bf=0,x$=12;class ju{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const T$=Object.create(null);class Fr{constructor(e,t,n,i=De.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||j.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&qu(this.attrs,t||e.defaultAttrs||T$)&&De.sameSet(this.marks,n||De.none)}copy(e=null){return e==this.content?this:new Fr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Fr(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Z.empty;let i=this.resolve(e),a=this.resolve(t),o=n?0:i.sharedDepth(t),s=i.start(o),u=i.node(o).content.cut(i.pos-s,a.pos-s);return new Z(u,i.depth-o,a.depth-o)}replace(e,t,n){return w$(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return Ko.resolveCached(this,e)}resolveNoCache(e){return Ko.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),kk(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=j.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=De.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!De.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=j.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)}}Fr.prototype.text=void 0;class Yu extends Fr{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kk(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function kk(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Ki{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new _$(e,t);if(n.next==null)return Ki.empty;let i=xk(n);n.next&&n.err("Unexpected trailing text");let a=A$(D$(i));return P$(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let a=t;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function a(o,s){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return j.from(s.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:f}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=a(f,s.concat(c));if(d)return d}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in t)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}Ki.empty=new Ki(!0);class _${constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function xk(r){let e=[];do e.push(C$(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function C$(r){let e=[];do e.push(S$(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function S$(r){let e=E$(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=O$(r,e);else break;return e}function Iy(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function O$(r,e){let t=Iy(r),n=t;return r.eat(",")&&(r.next!="}"?n=Iy(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function M$(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let a in t){let o=t[a];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function E$(r){if(r.eat("(")){let e=xk(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=M$(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function D$(r){let e=[[]];return i(a(r,0),t()),e;function t(){return e.push([])-1}function n(o,s,l){let u={term:l,to:s};return e[o].push(u),u}function i(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(a(u,s)),[]);if(o.type=="seq")for(let l=0;;l++){let u=a(o.exprs[l],s);if(l==o.exprs.length-1)return u;i(u,s=t())}else if(o.type=="star"){let l=t();return n(s,l),i(a(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=t();return i(a(o.expr,s),l),i(a(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let u=0;u<o.min;u++){let c=t();i(a(o.expr,l),c),l=c}if(o.max==-1)i(a(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=t();n(l,c),i(a(o.expr,l),c),l=c}return[n(l)]}else{if(o.type=="name")return[n(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Tk(r,e){return e-r}function $y(r,e){let t=[];return n(e),t.sort(Tk);function n(i){let a=r[i];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(i);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&t.indexOf(l)==-1&&n(l)}}}function A$(r){let e=Object.create(null);return t($y(r,0));function t(n){let i=[];n.forEach(o=>{r[o].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);$y(r,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let a=e[n.join(",")]=new Ki(n.indexOf(r.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(Tk);a.next.push({type:i[o][0],next:e[s.join(",")]||t(s)})}return a}}function P$(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],a=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function _k(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function Ck(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let a=r[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function Sk(r){let e=Object.create(null);if(r)for(let t in r)e[t]=new N$(r[t]);return e}class Gu{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Sk(n.attrs),this.defaultAttrs=_k(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ki.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Ck(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fr(this,this.computeAttrs(e),j.from(t),De.setFrom(n))}createChecked(e=null,t,n){return t=j.from(t),this.checkContent(t),new Fr(this,this.computeAttrs(e),t,De.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=j.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(j.empty,!0);return a?new Fr(this,e,t.append(a),De.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:De.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,o)=>n[a]=new Gu(a,t,o));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class N${constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Sc{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=Sk(i.attrs),this.excluded=null;let a=_k(this.attrs);this.instance=a?new De(this,a):null}create(e=null){return!e&&this.instance?this.instance:new De(this,Ck(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new Sc(a,i++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Ok{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Mt.from(e.nodes),t.marks=Mt.from(e.marks||{}),this.nodes=Gu.compile(this.spec.nodes,this),this.marks=Sc.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",s=a.spec.marks;a.contentMatch=n[o]||(n[o]=Ki.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet=s=="_"?null:s?By(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:By(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Gu){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new Yu(n,n.defaultAttrs,e,De.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Fr.fromJSON(this,e)}markFromJSON(e){return De.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function By(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=r.marks[i],o=a;if(a)t.push(a);else for(let s in r.marks){let l=r.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}class Xi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let i=e.nodes[n.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let n=new Fy(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Fy(this,t,!0);return n.addAll(e,t.from,t.to),Z.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(I$(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,t,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let s=t[o];if((s.priority==null?50:s.priority)<a)break}t.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=zy(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=zy(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Xi(e,Xi.schemaRules(e)))}}const Mk={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},R$={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ek={ol:!0,ul:!0},Ku=1,Xu=2,Fo=4;function Hy(r,e,t){return e!=null?(e?Ku:0)|(e==="full"?Xu:0):r&&r.whitespace=="pre"?Ku|Xu:t&~Fo}class Ms{constructor(e,t,n,i,a,o,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=i,this.solid=a,this.options=s,this.content=[],this.activeMarks=De.none,this.stashMarks=[],this.match=o||(s&Fo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(j.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ku)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=j.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let i=n[t];(this.type?this.type.allowsMarkType(i.type):B$(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Mk.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Fy{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let i=t.topNode,a,o=Hy(null,t.preserveWhitespace,0)|(n?Fo:0);i?a=new Ms(i.type,i.attrs,De.none,De.none,!0,t.topMatch||i.type.contentMatch,o):n?a=new Ms(null,null,De.none,De.none,!0,null,o):a=new Ms(e.schema.topNodeType,null,De.none,De.none,!0,null,o),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let t=e.getAttribute("style");if(!t)this.addElement(e);else{let n=this.readStyles($$(t));if(!n)return;let[i,a]=n,o=this.top;for(let s=0;s<a.length;s++)this.removePendingMark(a[s],o);for(let s=0;s<i.length;s++)this.addPendingMark(i[s]);this.addElement(e);for(let s=0;s<i.length;s++)this.removePendingMark(i[s],o);for(let s=0;s<a.length;s++)this.addPendingMark(a[s])}}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&Xu||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&Ku)n.options&Xu?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=n.content[n.content.length-1],a=e.previousSibling;(!i||a&&a.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n=e.nodeName.toLowerCase(),i;Ek.hasOwnProperty(n)&&this.parser.normalizeLists&&L$(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(a?a.ignore:R$.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let o,s=this.top,l=this.needsBlock;if(Mk.hasOwnProperty(n))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),o=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,a,a.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=De.none,n=De.none;e:for(let i=0;i<e.length;i+=2)for(let a=void 0;;){let o=this.parser.matchStyle(e[i],e[i+1],this,a);if(!o)continue e;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.forEach(s=>{o.clearMark(s)&&(n=s.addToSet(n))}):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)a=o;else break}return[t,n]}addElementByRule(e,t,n){let i,a,o;t.node?(a=this.parser.schema.nodes[t.node],a.isLeaf?this.insertNode(a.create(t.attrs))||this.leafFallback(e):i=this.enter(a,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(e,t,n){let i=t||0;for(let a=t?e.childNodes[t]:e.firstChild,o=n==null?null:e.childNodes[n];a!=o;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a);this.findAtPoint(e,i)}findPlace(e){let t,n;for(let i=this.open;i>=0;i--){let a=this.nodes[i],o=a.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=a,!o.length)||a.solid)break}if(!t)return!1;this.sync(n);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(n=e.marks[i].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i}enterInner(e,t=null,n=!1,i){this.closeExtra();let a=this.top;a.applyPending(e),a.match=a.match&&a.match.matchType(e);let o=Hy(e,i,a.options);a.options&Fo&&a.content.length==0&&(o|=Fo),this.nodes.push(new Ms(e,t,a.activeMarks,a.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(s,l)=>{for(;s>=0;s--){let u=t[s];if(u==""){if(s==t.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let t=H$(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==t)break}}}function L$(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&Ek.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function I$(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function $$(r){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,n=[];for(;t=e.exec(r);)n.push(t[1],t[2].trim());return n}function zy(r){let e={};for(let t in r)e[t]=r[t];return e}function B$(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||a.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}function H$(r,e){for(let t=0;t<e.length;t++)if(r.eq(e[t]))return e[t]}class Rn{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=wf(t).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)i=a.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,t);c&&(a.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=Rn.renderSpec(wf(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&Rn.renderSpec(wf(n),i(e,t))}static renderSpec(e,t,n=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,s=n?e.createElementNS(n,i):e.createElement(i),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<t.length;c++){let f=t[c];if(f===0){if(c<t.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:h}=Rn.renderSpec(e,f,n);if(s.appendChild(d),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:s,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Rn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Vy(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return Vy(e.marks)}}function Vy(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function wf(r){return r.document||window.document}const Dk=65535,Ak=Math.pow(2,16);function F$(r,e){return r+e*Ak}function qy(r){return r&Dk}function z$(r){return(r-(r&Dk))/Ak}const Pk=1,Nk=2,Il=4,Rk=8;class Rh{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Rk)>0}get deletedBefore(){return(this.delInfo&(Pk|Il))>0}get deletedAfter(){return(this.delInfo&(Nk|Il))>0}get deletedAcross(){return(this.delInfo&Il)>0}}class kr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&kr.empty)return kr.empty}recover(e){let t=0,n=qy(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+z$(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+a],c=this.ranges[s+o],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:t:t,h=l+i+(d<0?0:c);if(n)return h;let p=e==(t<0?l:f)?null:F$(s/3,e-l),v=e==l?Nk:e==f?Pk:Il;return(t<0?e!=l:e!=f)&&(v|=Rk),new Rh(h,v,p)}i+=c-u}return n?e+i:new Rh(e+i,0,null)}touches(e,t){let n=0,i=qy(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+a],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+o]-u}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),u=this.ranges[i+t],c=this.ranges[i+n];e(s,s+u,l,l+c),a+=c-u}}invert(){return new kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?kr.empty:new kr(e<0?[0,-e,0]:[0,0,e])}}kr.empty=new kr([]);class Da{constructor(e=[],t,n=0,i=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=i}slice(e=0,t=this.maps.length){return new Da(this.maps,this.mirror,e,t)}copy(){return new Da(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new Da;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this.maps[a],s=o.mapResult(e,t);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new Rh(e,i,null)}}const kf=Object.create(null);class vr{getMap(){return kr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=kf[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in kf)throw new RangeError("Duplicate use of step JSON ID "+e);return kf[e]=t,t.prototype.jsonID=e,t}}class yt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new yt(e,null)}static fail(e){return new yt(null,e)}static fromReplace(e,t,n,i){try{return yt.ok(e.replace(t,n,i))}catch(a){if(a instanceof Uu)return yt.fail(a.message);throw a}}}function Xp(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let a=r.child(i);a.content.size&&(a=a.copy(Xp(a.content,e,a))),a.isInline&&(a=e(a,t,i)),n.push(a)}return j.fromArray(n)}class ti extends vr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new Z(Xp(t.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return yt.fromReplace(e,this.from,this.to,a)}invert(){return new fn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new ti(t.pos,n.pos,this.mark)}merge(e){return e instanceof ti&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ti(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ti(t.from,t.to,e.markFromJSON(t.mark))}}vr.jsonID("addMark",ti);class fn extends vr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Z(Xp(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return yt.fromReplace(e,this.from,this.to,n)}invert(){return new ti(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new fn(t.pos,n.pos,this.mark)}merge(e){return e instanceof fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fn(t.from,t.to,e.markFromJSON(t.mark))}}vr.jsonID("removeMark",fn);class ri extends vr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return yt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return yt.fromReplace(e,this.pos,this.pos+1,new Z(j.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new ri(this.pos,t.marks[i]);return new ri(this.pos,this.mark)}}return new Ba(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ri(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ri(t.pos,e.markFromJSON(t.mark))}}vr.jsonID("addNodeMark",ri);class Ba extends vr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return yt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return yt.fromReplace(e,this.pos,this.pos+1,new Z(j.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ri(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ba(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ba(t.pos,e.markFromJSON(t.mark))}}vr.jsonID("removeNodeMark",Ba);class Jt extends vr{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&Lh(e,this.from,this.to)?yt.fail("Structure replace would overwrite content"):yt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Jt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Jt(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Jt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Jt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Jt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Jt(t.from,t.to,Z.fromJSON(e,t.slice),!!t.structure)}}vr.jsonID("replace",Jt);class Tt extends vr{constructor(e,t,n,i,a,o,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=s}apply(e){if(this.structure&&(Lh(e,this.from,this.gapFrom)||Lh(e,this.gapTo,this.to)))return yt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return yt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?yt.fromReplace(e,this.from,this.to,n):yt.fail("Content does not fit in gap")}getMap(){return new kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Tt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),a=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||a>n.pos?null:new Tt(t.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Tt(t.from,t.to,t.gapFrom,t.gapTo,Z.fromJSON(e,t.slice),t.insert,!!t.structure)}}vr.jsonID("replaceAround",Tt);function Lh(r,e,t){let n=r.resolve(e),i=t-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function V$(r,e,t,n){let i=[],a=[],o,s;r.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),h=Math.min(u+l.nodeSize,t),p=n.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(p)||(o&&o.to==d&&o.mark.eq(f[v])?o.to=h:i.push(o=new fn(d,h,f[v])));s&&s.to==d?s.to=h:a.push(s=new ti(d,h,n))}}),i.forEach(l=>r.step(l)),a.forEach(l=>r.step(l))}function q$(r,e,t,n){let i=[],a=0;r.doc.nodesBetween(e,t,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(n instanceof Sc){let u=o.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(s+o.nodeSize,t);for(let c=0;c<l.length;c++){let f=l[c],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==a-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=u,d.step=a):i.push({style:f,from:Math.max(s,e),to:u,step:a})}}}),i.forEach(o=>r.step(new fn(o.from,o.to,o.style)))}function U$(r,e,t,n=t.contentMatch){let i=r.doc.nodeAt(e),a=[],o=e+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=o+l.nodeSize,c=n.matchType(l.type);if(!c)a.push(new Jt(o,u,Z.empty));else{n=c;for(let f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||r.step(new fn(o,u,l.marks[f]))}o=u}if(!n.validEnd){let s=n.fillBefore(j.empty,!0);r.replace(o,o,new Z(s,0,0))}for(let s=a.length-1;s>=0;s--)r.step(a[s])}function W$(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Oc(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),a=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(a,o,t))return n;if(n==0||i.type.spec.isolating||!W$(i,a,o))break}return null}function j$(r,e,t){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),s=i.after(a+1),l=o,u=s,c=j.empty,f=0;for(let p=a,v=!1;p>t;p--)v||n.index(p)>0?(v=!0,c=j.from(n.node(p).copy(c)),f++):l--;let d=j.empty,h=0;for(let p=a,v=!1;p>t;p--)v||i.after(p+1)<i.end(p)?(v=!0,d=j.from(i.node(p).copy(d)),h++):u++;r.step(new Tt(l,u,o,s,new Z(c.append(d),f,h),c.size-f,!0))}function Y$(r,e,t=null,n=r){let i=G$(r,e),a=i&&K$(n,e);return a?i.map(Uy).concat({type:e,attrs:t}).concat(a.map(Uy)):null}function Uy(r){return{type:r,attrs:null}}function G$(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}function K$(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:o}function X$(r,e,t){let n=j.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let s=t[o].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=j.from(t[o].type.create(t[o].attrs,n))}let i=e.start,a=e.end;r.step(new Tt(i,a,i,a,new Z(n,0,0),t.length,!0))}function J$(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(o,s)=>{if(o.isTextblock&&!o.hasMarkup(n,i)&&Q$(r.doc,r.mapping.slice(a).map(s),n)){r.clearIncompatible(r.mapping.slice(a).map(s,1),n);let l=r.mapping.slice(a),u=l.map(s,1),c=l.map(s+o.nodeSize,1);return r.step(new Tt(u,c,u+1,c-1,new Z(j.from(n.create(i,null,o.marks)),0,0),1,!0)),!1}})}function Q$(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function Z$(r,e,t,n,i){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let o=t.create(n,null,i||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Tt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Z(j.from(o),0,0),1,!0))}function Aa(r,e,t=1,n){let i=r.resolve(e),a=i.depth-t,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>a;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=n&&n[c]||f;if(p!=f&&(h=h.replaceChild(0,p.type.create(p.attrs))),!f.canReplace(d+1,f.childCount)||!p.type.validContent(h))return!1}let s=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(s,s,l?l.type:i.node(a+1).type)}function eB(r,e,t=1,n){let i=r.doc.resolve(e),a=j.empty,o=j.empty;for(let s=i.depth,l=i.depth-t,u=t-1;s>l;s--,u--){a=j.from(i.node(s).copy(a));let c=n&&n[u];o=j.from(c?c.type.create(c.attrs,o):i.node(s).copy(o))}r.step(new Jt(e,e,new Z(a.append(o),t,t),!0))}function Lk(r,e){let t=r.resolve(e),n=t.index();return tB(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function tB(r,e){return!!(r&&e&&!r.isLeaf&&r.canAppend(e))}function rB(r,e,t){let n=new Jt(e-t,e+t,Z.empty,!0);r.step(n)}function nB(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,t))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,t))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function iB(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let o=n.depth;o>=0;o--){let s=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(s>0?1:0),u=n.node(o),c=!1;if(a==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?n.pos:s<0?n.before(o+1):n.after(o+1)}return null}function Jp(r,e,t=e,n=Z.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),a=r.resolve(t);return Ik(i,a,n)?new Jt(e,t,n):new aB(i,a,n).fit()}function Ik(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class aB{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=j.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=j.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,s=i.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new Z(a,o,s);return e>-1?new Tt(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Jt(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=xf(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,f=null;if(t==1&&(o?u.matchType(o.type)||(f=u.fillBefore(j.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:s,parent:a,inject:f};if(t==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:a,wrap:c};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=xf(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Z(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=xf(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new Z(Oo(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new Z(Oo(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let v=0;v<a.length;v++)this.openFrontierNode(a[v]);let o=this.unplaced,s=n?n.content:o.content,l=o.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let h=s.size+e-(o.content.size-o.openEnd);for(;u<s.childCount;){let v=s.child(u),m=f.matchType(v.type);if(!m)break;u++,(u>1||l==0||v.content.size)&&(f=m,c.push($k(v.mark(d.allowedMarks(v.marks)),u==1?l:0,u==s.childCount?h:-1)))}let p=u==s.childCount;p||(h=-1),this.placed=Mo(this.placed,t,j.from(c)),this.frontier[t].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,m=s;v<h;v++){let g=m.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),m=g.content}this.unplaced=p?e==0?Z.empty:new Z(Oo(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new Z(Oo(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Tf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Tf(e,t,i,n,a);if(!!o){for(let s=t-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=Tf(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Mo(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Mo(this.placed,this.depth,j.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(j.empty,!0);t.childCount&&(this.placed=Mo(this.placed,this.frontier.length,t))}}function Oo(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(Oo(r.firstChild.content,e-1,t)))}function Mo(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Mo(r.lastChild.content,e-1,t)))}function xf(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function $k(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,$k(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(j.empty,!0)))),r.copy(n)}function Tf(r,e,t,n,i){let a=r.node(e),o=i?r.indexAfter(e):r.index(e);if(o==a.childCount&&!t.compatibleContent(a.type))return null;let s=n.fillBefore(a.content,!0,o);return s&&!oB(t,a.content,o)?s:null}function oB(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function sB(r){return r.spec.defining||r.spec.definingForContent}function lB(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),a=r.doc.resolve(t);if(Ik(i,a,n))return r.step(new Jt(e,t,n));let o=Hk(i,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?s=d:i.before(d)==h&&o.splice(1,0,-d)}let l=o.indexOf(s),u=[],c=n.openStart;for(let d=n.content,h=0;;h++){let p=d.firstChild;if(u.push(p),h==n.openStart)break;d=p.content}for(let d=c-1;d>=0;d--){let h=u[d].type,p=sB(h);if(p&&i.node(l).type!=h)c=d;else if(p||!h.isTextblock)break}for(let d=n.openStart;d>=0;d--){let h=(d+c+1)%(n.openStart+1),p=u[h];if(!!p)for(let v=0;v<o.length;v++){let m=o[(v+l)%o.length],g=!0;m<0&&(g=!1,m=-m);let b=i.node(m-1),k=i.index(m-1);if(b.canReplaceWith(k,k,p.type,p.marks))return r.replace(i.before(m),g?a.after(m):t,new Z(Bk(n.content,0,n.openStart,h),h,n.openEnd))}}let f=r.steps.length;for(let d=o.length-1;d>=0&&(r.replace(e,t,n),!(r.steps.length>f));d--){let h=o[d];h<0||(e=i.before(h),t=a.after(h))}}function Bk(r,e,t,n,i){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(Bk(a.content,e+1,t,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(r).append(r);r=o.append(a.matchFragment(o).fillBefore(j.empty,!0))}return r}function uB(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=nB(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new Z(j.from(n),0,0))}function cB(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),a=Hk(n,i);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return r.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return r.delete(n.before(s),i.after(s))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&i.end(o)-t!=i.depth-o)return r.delete(n.before(o),t);r.delete(e,t)}function Hk(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let a=r.start(i);if(a<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class Pa extends vr{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return yt.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return yt.fromReplace(e,this.pos,this.pos+1,new Z(j.from(i),0,t.isLeaf?0:1))}getMap(){return kr.empty}invert(e){return new Pa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pa(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pa(t.pos,t.attr,t.value)}}vr.jsonID("attr",Pa);let Ha=class extends Error{};Ha=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};Ha.prototype=Object.create(Error.prototype);Ha.prototype.constructor=Ha;Ha.prototype.name="TransformError";class fB{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Da}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ha(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Z.empty){let i=Jp(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new Z(j.from(n),0,0))}delete(e,t){return this.replace(e,t,Z.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return lB(this,e,t,n),this}replaceRangeWith(e,t,n){return uB(this,e,t,n),this}deleteRange(e,t){return cB(this,e,t),this}lift(e,t){return j$(this,e,t),this}join(e,t=1){return rB(this,e,t),this}wrap(e,t){return X$(this,e,t),this}setBlockType(e,t=e,n,i=null){return J$(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return Z$(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new Pa(e,t,n)),this}addNodeMark(e,t){return this.step(new ri(e,t)),this}removeNodeMark(e,t){if(!(t instanceof De)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new Ba(e,t)),this}split(e,t=1,n){return eB(this,e,t,n),this}addMark(e,t,n){return V$(this,e,t,n),this}removeMark(e,t,n){return q$(this,e,t,n),this}clearIncompatible(e,t,n){return U$(this,e,t,n),this}}const _f=Object.create(null);class Ce{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Fk(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Z.empty){let n=t.content.lastChild,i=null;for(let s=0;s<t.openEnd;s++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],c=e.mapping.slice(a);e.replaceRange(c.map(l.pos),c.map(u.pos),s?Z.empty:t),s==0&&Yy(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:s}=i[a],l=e.mapping.slice(n),u=l.map(o.pos),c=l.map(s.pos);a?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),Yy(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new Le(e):wa(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=t<0?wa(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):wa(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new tr(e.node(0))}static atStart(e){return wa(e,e,0,0,1)||new tr(e)}static atEnd(e){return wa(e,e,e.content.size,e.childCount,-1)||new tr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=_f[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in _f)throw new RangeError("Duplicate use of selection JSON ID "+e);return _f[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Le.between(this.$anchor,this.$head).getBookmark()}}Ce.prototype.visible=!0;class Fk{constructor(e,t){this.$from=e,this.$to=t}}let Wy=!1;function jy(r){!Wy&&!r.parent.inlineContent&&(Wy=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class Le extends Ce{constructor(e,t=e){jy(e),jy(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Ce.near(n);let i=e.resolve(t.map(this.anchor));return new Le(i.parent.inlineContent?i:n,n)}replace(e,t=Z.empty){if(super.replace(e,t),t==Z.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Mc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Le(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let a=Ce.findFrom(t,n,!0)||Ce.findFrom(t,-n,!0);if(a)t=a.$head;else return Ce.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(Ce.findFrom(e,-n,!0)||Ce.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Le(e,t)}}Ce.jsonID("text",Le);class Mc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Mc(e.map(this.anchor),e.map(this.head))}resolve(e){return Le.between(e.resolve(this.anchor),e.resolve(this.head))}}class ye extends Ce{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?Ce.near(a):new ye(a)}content(){return new Z(j.from(this.node),0,0)}eq(e){return e instanceof ye&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Qp(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ye(e.resolve(t.anchor))}static create(e,t){return new ye(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ye.prototype.visible=!1;Ce.jsonID("node",ye);class Qp{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Mc(n,n):new Qp(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ye.isSelectable(n)?new ye(t):Ce.near(t)}}class tr extends Ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Z.empty){if(t==Z.empty){e.delete(0,e.doc.content.size);let n=Ce.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new tr(e)}map(e){return new tr(e)}eq(e){return e instanceof tr}getBookmark(){return dB}}Ce.jsonID("all",tr);const dB={map(){return this},resolve(r){return new tr(r)}};function wa(r,e,t,n,i,a=!1){if(e.inlineContent)return Le.create(r,t);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let s=e.child(o);if(s.isAtom){if(!a&&ye.isSelectable(s))return ye.create(r,t-(i<0?s.nodeSize:0))}else{let l=wa(r,s,t+i,i<0?s.childCount:0,i,a);if(l)return l}t+=s.nodeSize*i}return null}function Yy(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof Jt||i instanceof Tt))return;let a=r.mapping.maps[n],o;a.forEach((s,l,u,c)=>{o==null&&(o=c)}),r.setSelection(Ce.near(r.doc.resolve(o),t))}const Gy=1,Es=2,Ky=4;class hB extends fB{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Gy)&~Es,this.storedMarks=null,this}get selectionSet(){return(this.updated&Gy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Es,this}ensureMarks(e){return De.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Es)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Es,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||De.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n==null?t:n,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(t);a=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,a)),this.selection.empty||this.setSelection(Ce.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ky,this}get scrolledIntoView(){return(this.updated&Ky)>0}}function Xy(r,e){return!e||!r?r:r.bind(e)}class Eo{constructor(e,t,n){this.name=e,this.init=Xy(t.init,n),this.apply=Xy(t.apply,n)}}const pB=[new Eo("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Eo("selection",{init(r,e){return r.selection||Ce.atStart(e.doc)},apply(r){return r.selection}}),new Eo("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new Eo("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class Cf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pB.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Eo(n.key,n.spec.state,n))})}}class $i{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),a=!0}i&&(i[o]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new $i(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new hB(this)}static create(e){let t=new Cf(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new $i(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new Cf(this.schema,e.plugins),n=t.fields,i=new $i(t);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Cf(e.schema,e.plugins),a=new $i(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=Fr.fromJSON(e.schema,t.doc);else if(o.name=="selection")a.selection=Ce.fromJSON(a.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){a[o.name]=u.fromJSON.call(l,e,t[s],a);return}}a[o.name]=o.init(e,a)}}),a}}function zk(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=zk(i,e,{})),t[n]=i}return t}class mr{constructor(e){this.spec=e,this.props={},e.props&&zk(e.props,this,this.props),this.key=e.key?e.key.key:Vk("plugin")}getState(e){return e[this.key]}}const Sf=Object.create(null);function Vk(r){return r in Sf?r+"$"+ ++Sf[r]:(Sf[r]=0,r+"$")}class as{constructor(e="key"){this.key=Vk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wr=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Xo=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let Jy=null;const Sn=function(r,e,t){let n=Jy||(Jy=document.createRange());return n.setEnd(r,t==null?r.nodeValue.length:t),n.setStart(r,e||0),n},Ji=function(r,e,t,n){return t&&(Qy(r,e,t,n,-1)||Qy(r,e,t,n,1))},vB=/^(img|br|input|textarea|hr)$/i;function Qy(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:ln(r))){let a=r.parentNode;if(!a||a.nodeType!=1||gB(r)||vB.test(r.nodeName)||r.contentEditable=="false")return!1;e=wr(r)+(i<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.contentEditable=="false")return!1;e=i<0?ln(r):0}else return!1}}function ln(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function mB(r,e,t){for(let n=e==0,i=e==ln(r);n||i;){if(r==t)return!0;let a=wr(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,i=i&&a==ln(r)}}function gB(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Ec=function(r){return r.focusNode&&Ji(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Ri(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function yB(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const fi=typeof navigator<"u"?navigator:null,Zy=typeof document<"u"?document:null,gi=fi&&fi.userAgent||"",Ih=/Edge\/(\d+)/.exec(gi),qk=/MSIE \d/.exec(gi),$h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gi),dr=!!(qk||$h||Ih),oi=qk?document.documentMode:$h?+$h[1]:Ih?+Ih[1]:0,Wr=!dr&&/gecko\/(\d+)/i.test(gi);Wr&&+(/Firefox\/(\d+)/.exec(gi)||[0,0])[1];const Bh=!dr&&/Chrome\/(\d+)/.exec(gi),Zt=!!Bh,bB=Bh?+Bh[1]:0,nr=!dr&&!!fi&&/Apple Computer/.test(fi.vendor),Fa=nr&&(/Mobile\/\w+/.test(gi)||!!fi&&fi.maxTouchPoints>2),Er=Fa||(fi?/Mac/.test(fi.platform):!1),$r=/Android \d/.test(gi),Dc=!!Zy&&"webkitFontSmoothing"in Zy.documentElement.style,wB=Dc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kB(r){return{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Wn(r,e){return typeof r=="number"?r:r[e]}function xB(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function eb(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let o=t||r.dom;o;o=Xo(o)){if(o.nodeType!=1)continue;let s=o,l=s==a.body,u=l?kB(a):xB(s),c=0,f=0;if(e.top<u.top+Wn(n,"top")?f=-(u.top-e.top+Wn(i,"top")):e.bottom>u.bottom-Wn(n,"bottom")&&(f=e.bottom-u.bottom+Wn(i,"bottom")),e.left<u.left+Wn(n,"left")?c=-(u.left-e.left+Wn(i,"left")):e.right>u.right-Wn(n,"right")&&(c=e.right-u.right+Wn(i,"right")),c||f)if(l)a.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let p=s.scrollLeft-d,v=s.scrollTop-h;e={left:e.left-p,top:e.top-v,right:e.right-p,bottom:e.bottom-v}}if(l)break}}function TB(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let s=r.root.elementFromPoint(a,o);if(!s||s==r.dom||!r.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=t-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:Uk(r.dom)}}function Uk(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=Xo(n));return e}function _B({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;Wk(t,n==0?0:n-e)}function Wk(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:a}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let ma=null;function CB(r){if(r.setActive)return r.setActive();if(ma)return r.focus(ma);let e=Uk(r);r.focus(ma==null?{get preventScroll(){return ma={preventScroll:!0},!0}}:void 0),ma||(ma=!1,Wk(e,0))}function jk(r,e){let t,n=2e8,i,a=0,o=e.top,s=e.top;for(let l=r.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Sn(l).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=o&&d.bottom>=s){o=Math.max(d.bottom,o),s=Math.min(d.top,s);let h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<n){t=l,n=h,i=h&&t.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&h&&(a=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!t&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(a=u+1)}}return t&&t.nodeType==3?SB(t,i):!t||n&&t.nodeType==1?{node:r,offset:a}:jk(t,i)}function SB(r,e){let t=r.nodeValue.length,n=document.createRange();for(let i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);let a=Yn(n,1);if(a.top!=a.bottom&&Zp(e,a))return{node:r,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function Zp(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function OB(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function MB(r,e,t){let{node:n,offset:i}=jk(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,i,a)}function EB(r,e,t,n){let i=-1;for(let a=e;a!=r.dom;){let o=r.docView.nearestDesc(a,!0);if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)){let s=o.dom.getBoundingClientRect();if(o.node.isBlock&&o.parent&&(s.left>n.left||s.top>n.top?i=o.posBefore:(s.right<n.left||s.bottom<n.top)&&(i=o.posAfter)),!o.contentDOM&&i<0)return(o.node.isBlock?n.top<(s.top+s.bottom)/2:n.left<(s.left+s.right)/2)?o.posBefore:o.posAfter}a=o.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,-1)}function Yk(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let o=r.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(Zp(e,u))return Yk(o,e,u)}}if((a=(a+1)%n)==i)break}return r}function DB(r,e){let t=r.dom.ownerDocument,n,i=0;if(t.caretPositionFromPoint)try{let l=t.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:n,offset:i}=l)}catch{}if(!n&&t.caretRangeFromPoint){let l=t.caretRangeFromPoint(e.left,e.top);l&&({startContainer:n,startOffset:i}=l)}let a=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),o;if(!a||!r.dom.contains(a.nodeType!=1?a.parentNode:a)){let l=r.dom.getBoundingClientRect();if(!Zp(e,l)||(a=Yk(r.dom,e,l),!a))return null}if(nr)for(let l=a;n&&l;l=Xo(l))l.draggable&&(n=void 0);if(a=OB(a,e),n){if(Wr&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let l=n.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=EB(r,n,i,e))}o==null&&(o=MB(r,a,e));let s=r.docView.nearestDesc(a,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function Yn(r,e){let t=r.getClientRects();return t.length?t[e<0?0:t.length-1]:r.getBoundingClientRect()}const AB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Gk(r,e,t){let{node:n,offset:i,atom:a}=r.docView.domFromPos(e,t<0?-1:1),o=Dc||Wr;if(n.nodeType==3)if(o&&(AB.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let l=Yn(Sn(n,i,i),t);if(Wr&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Yn(Sn(n,i-1,i-1),-1);if(u.top==l.top){let c=Yn(Sn(n,i,i+1),-1);if(c.top!=l.top)return mo(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==n.nodeValue.length?(l--,c=1):t<0?l--:u++,mo(Yn(Sn(n,l,u),1),c<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==ln(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return Of(l.getBoundingClientRect(),!1)}if(a==null&&i<ln(n)){let l=n.childNodes[i];if(l.nodeType==1)return Of(l.getBoundingClientRect(),!0)}return Of(n.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==ln(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Sn(l,ln(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return mo(Yn(u,1),!1)}if(a==null&&i<ln(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Sn(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return mo(Yn(u,-1),!0)}return mo(Yn(n.nodeType==3?Sn(n):n,-t),t>=0)}function mo(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function Of(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function Kk(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function PB(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return Kk(r,e,()=>{let{node:a}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let s=r.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=Gk(r,i.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Sn(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const NB=/[\u0590-\u08ac]/;function RB(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,s=r.domSelection();return!NB.test(n.parent.textContent)||!s.modify?t=="left"||t=="backward"?a:o:Kk(r,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=r.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",t,"character");let h=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:p,focusOffset:v}=r.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==v;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),m})}let tb=null,rb=null,nb=!1;function LB(r,e,t){return tb==e&&rb==t?nb:(tb=e,rb=t,nb=t=="up"||t=="down"?PB(r,e,t):RB(r,e,t))}const zr=0,ib=1,_a=2,mn=3;class ss{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=zr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>wr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return(i==null?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!t||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],s=a+o.size;if(s>e||o instanceof Jk){i=e-a;break}a=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof Xk&&a.side>=0;n--);if(t<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&t&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?wr(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?wr(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,s=0;;s++){let l=this.children[s],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=o;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=wr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>t||s==this.children.length-1)){t=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){a=wr(f.dom);break}t+=f.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let d=0,h=0;d<this.children.length;d++){let p=this.children[d],v=h+p.size;if(a>h&&o<v)return p.setSelection(e-h-p.border,t-h-p.border,n,i);h=v}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),u=n.getSelection(),c=!1;if((Wr||nr)&&e==t){let{node:d,offset:h}=s;if(d.nodeType==3){if(c=!!(h&&d.nodeValue[h-1]==`
`),c&&h==d.nodeValue.length)for(let p=d,v;p;p=p.parentNode){if(v=p.nextSibling){v.nodeName=="BR"&&(s=l={node:v.parentNode,offset:wr(v)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=d.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Wr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&nr)&&Ji(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Ji(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==t)&&!c){u.collapse(s.node,s.offset);try{e!=t&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let h=s;s=l,l=h}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let s=n+a.border,l=o-a.border;if(e>=s&&t<=l){this.dirty=e==n||t==o?_a:ib,e==s&&t==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=mn:a.markDirty(e-s,t-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?_a:mn}n=o}this.dirty=_a}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?_a:ib;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Xk extends ss{constructor(e,t,n,i){let a,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==zr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class IB extends ss{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qi extends ss{constructor(e,t,n,i){super(e,[],n,i),this.mark=t}static create(e,t,n,i){let a=i.nodeViews[t.type.name],o=a&&a(t,i,n);return(!o||!o.dom)&&(o=Rn.renderSpec(document,t.type.spec.toDOM(t,n))),new Qi(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&mn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=mn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=zr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=zr}}slice(e,t,n){let i=Qi.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;t<o&&(a=zh(a,t,o,n)),e>0&&(a=zh(a,0,e,n));for(let s=0;s<a.length;s++)a[s].parent=i;return i.children=a,i}}class Zi extends ss{constructor(e,t,n,i,a,o,s,l,u){super(e,[],a,o),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s,o&&this.updateChildren(l,u)}static create(e,t,n,i,a,o){let s=a.nodeViews[t.type.name],l,u=s&&s(t,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,f=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=Rn.renderSpec(document,t.type.spec.toDOM(t)));!f&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=ex(c,n,t),u?l=new $B(e,t,n,i,c,f||null,d,u,a,o+1):t.isText?new Ac(e,t,n,i,c,d,a):new Zi(e,t,n,i,c,f||null,d,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,t,n){return this.dirty==zr&&e.eq(this.node)&&Fh(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new HB(this,o&&o.node,e);VB(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?De.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,n,e);let h;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,c,f,h,e)||l.updateNextNode(u,c,f,e,d)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==_a)&&(o&&this.protectLocalComposition(e,o),Qk(this.contentDOM,this.children,e),Fa&&qB(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Le)||n<t||i>t+this.node.content.size)return null;let a=e.domSelectionRange(),o=UB(a.focusNode,a.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=WB(this.node.content,s,n-t,i-t);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new IB(this,a,t,i);e.input.compositionNodes.push(o),this.children=zh(this.children,n,n+i.length,e,o)}update(e,t,n,i){return this.dirty==mn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=zr}updateOuterDeco(e){if(Fh(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Zk(this.dom,this.nodeDOM,Hh(this.outerDeco,this.node,t),Hh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function ab(r,e,t,n,i){return ex(n,e,r),new Zi(void 0,r,e,t,n,n,n,i,0)}class Ac extends Zi{constructor(e,t,n,i,a,o,s){super(e,t,n,i,a,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==mn||this.dirty!=zr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=zr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=zr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new Ac(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=mn)}get domAtom(){return!1}}class Jk extends ss{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==zr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $B extends Zi{constructor(e,t,n,i,a,o,s,l,u,c){super(e,t,n,i,a,o,s,u,c),this.spec=l}update(e,t,n,i){if(this.dirty==mn)return!1;if(this.spec.update){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Qk(r,e,t){let n=r.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],s=o.dom;if(s.parentNode==r){for(;s!=n;)n=ob(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(s,n);if(o instanceof Qi){let l=n?n.previousSibling:r.lastChild;Qk(o.contentDOM,o.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=ob(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}const zo=function(r){r&&(this.nodeName=r)};zo.prototype=Object.create(null);const Bi=[new zo];function Hh(r,e,t){if(r.length==0)return Bi;let n=t?Bi[0]:new zo,i=[n];for(let a=0;a<r.length;a++){let o=r[a].type.attrs;if(!!o){o.nodeName&&i.push(n=new zo(o.nodeName));for(let s in o){let l=o[s];l!=null&&(t&&i.length==1&&i.push(n=new zo(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function Zk(r,e,t,n){if(t==Bi&&n==Bi)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],s=t[a];if(a){let l;s&&s.nodeName==o.nodeName&&i!=r&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Bi[0]),i=l}BB(i,s||Bi[0],o)}return i}function BB(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&r.classList.add(i[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function ex(r,e,t){return Zk(r,r,Bi,Hh(e,t,r.nodeType!=1))}function Fh(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function ob(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class HB{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=FB(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=zr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[a])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Qi.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,t,n)&&!this.preMatch.matched.has(u)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,i,a){let o=this.top.children[i];return o.dirty==mn&&o.dom==o.contentDOM&&(o.dirty=_a),o.update(e,t,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,a){for(let o=this.index;o<this.top.children.length;o++){let s=this.top.children[o];if(s instanceof Zi){let l=this.preMatch.matched.get(s);if(l!=null&&l!=a)return!1;let u=s.dom;if(!(this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=mn&&Fh(t,s.outerDeco)))&&s.update(e,t,n,i))return this.destroyBetween(this.index,o),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,i,a){this.top.children.splice(this.index++,0,Zi.create(this.top,e,t,n,i,a)),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new Xk(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Qi;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ac)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((nr||Zt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new Jk(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function FB(r,e){let t=e,n=t.children.length,i=r.childCount,a=new Map,o=[];e:for(;i>0;){let s;for(;;)if(n){let u=t.children[n-1];if(u instanceof Qi)t=u,n=u.children.length;else{s=u,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=s.node;if(!!l){if(l!=r.child(i-1))break;--i,a.set(s,i),o.push(s)}}return{index:i,matched:a,matches:o.reverse()}}function zB(r,e){return r.type.side-e.type.side}function VB(r,e,t,n){let i=e.locals(r),a=0;if(i.length==0){for(let u=0;u<r.childCount;u++){let c=r.child(u);n(c,i,e.forChild(a,c),u),a+=c.nodeSize}return}let o=0,s=[],l=null;for(let u=0;;){if(o<i.length&&i[o].to==a){let p=i[o++],v;for(;o<i.length&&i[o].to==a;)(v||(v=[p])).push(i[o++]);if(v){v.sort(zB);for(let m=0;m<v.length;m++)t(v[m],u,!!l)}else t(p,u,!!l)}let c,f;if(l)f=-1,c=l,l=null;else if(u<r.childCount)f=u,c=r.child(u++);else break;for(let p=0;p<s.length;p++)s[p].to<=a&&s.splice(p--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)s.push(i[o++]);let d=a+c.nodeSize;if(c.isText){let p=d;o<i.length&&i[o].from<p&&(p=i[o].from);for(let v=0;v<s.length;v++)s[v].to<p&&(p=s[v].to);p<d&&(l=c.cut(p-a),c=c.cut(0,p-a),d=p,f=-1)}let h=c.isInline&&!c.isLeaf?s.filter(p=>!p.inline):s.slice();n(c,h,e.forChild(a,c),f),a=d}}function qB(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function UB(r,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0){if(r.childNodes.length>e&&r.childNodes[e].nodeType==3)return r.childNodes[e];r=r.childNodes[e-1],e=ln(r)}else if(r.nodeType==1&&e<r.childNodes.length)r=r.childNodes[e],e=0;else return null}}function WB(r,e,t,n){for(let i=0,a=0;i<r.childCount&&a<=n;){let o=r.child(i++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<r.childCount;){let u=r.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=t){let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=t)return s+u;if(t==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function zh(r,e,t,n,i){let a=[];for(let o=0,s=0;o<r.length;o++){let l=r[o],u=s,c=s+=l.size;u>=t||c<=e?a.push(l):(u<e&&a.push(l.slice(0,e-u,n)),i&&(a.push(i),i=void 0),c>t&&a.push(l.slice(t-u,l.size,n)))}return a}function ev(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),a=i&&i.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let s=n.resolve(o),l,u;if(Ec(t)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&ye.isSelectable(c)&&i.parent&&!(c.isInline&&mB(t.focusNode,t.focusOffset,i.dom))){let f=i.posBefore;u=new ye(o==f?s:n.resolve(f))}}else{let c=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null;l=n.resolve(c)}if(!u){let c=e=="pointer"||r.state.selection.head<s.pos&&!a?1:-1;u=tv(r,l,s,c)}return u}function tx(r){return r.editable?r.hasFocus():nx(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function In(r,e=!1){let t=r.state.selection;if(rx(r,t),!!tx(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Zt){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ji(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)YB(r);else{let{anchor:n,head:i}=t,a,o;sb&&!(t instanceof Le)&&(t.$from.parent.inlineContent||(a=lb(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=lb(r,t.to))),r.docView.setSelection(n,i,r.root,e),sb&&(a&&ub(a),o&&ub(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&jB(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const sb=nr||Zt&&bB<63;function lb(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(nr&&i&&i.contentEditable=="false")return Mf(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return Mf(i);if(a)return Mf(a)}}function Mf(r){return r.contentEditable="true",nr&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function ub(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function jB(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!tx(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function YB(r){let e=r.domSelection(),t=document.createRange(),n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setEnd(n.parentNode,wr(n)+1):t.setEnd(n,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&dr&&oi<=11&&(n.disabled=!0,n.disabled=!1)}function rx(r,e){if(e instanceof ye){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(cb(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else cb(r)}function cb(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function tv(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||Le.between(e,t,n)}function fb(r){return r.editable&&!r.hasFocus()?!1:nx(r)}function nx(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function GB(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Ji(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Vh(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),a=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Ce.findFrom(a,e)}function Li(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function db(r,e,t){let n=r.state.selection;if(n instanceof Le){if(!n.empty||t.indexOf("s")>-1)return!1;if(r.endOfTextblock(e>0?"right":"left")){let i=Vh(r.state,e);return i&&i instanceof ye?Li(r,i):!1}else if(!(Er&&t.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let s=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=r.docView.descAt(s))&&!o.contentDOM?ye.isSelectable(a)?Li(r,new ye(e<0?r.state.doc.resolve(i.pos-a.nodeSize):i)):Dc?Li(r,new Le(r.state.doc.resolve(e<0?s:s+a.nodeSize))):!1:!1}}else{if(n instanceof ye&&n.node.isInline)return Li(r,new Le(e>0?n.$to:n.$from));{let i=Vh(r.state,e);return i?Li(r,i):!1}}}function Ju(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Vo(r){let e=r.pmViewDesc;return e&&e.size==0&&(r.nextSibling||r.nodeName!="BR")}function Ef(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,a,o=!1;for(Wr&&t.nodeType==1&&n<Ju(t)&&Vo(t.childNodes[n])&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let s=t.childNodes[n-1];if(Vo(s))i=t,a=--n;else if(s.nodeType==3)t=s,n=t.nodeValue.length;else break}}else{if(ix(t))break;{let s=t.previousSibling;for(;s&&Vo(s);)i=t.parentNode,a=wr(s),s=s.previousSibling;if(s)t=s,n=Ju(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?qh(r,t,n):i&&qh(r,i,a)}function Df(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=Ju(t),a,o;for(;;)if(n<i){if(t.nodeType!=1)break;let s=t.childNodes[n];if(Vo(s))a=t,o=++n;else break}else{if(ix(t))break;{let s=t.nextSibling;for(;s&&Vo(s);)a=s.parentNode,o=wr(s)+1,s=s.nextSibling;if(s)t=s,n=0,i=Ju(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}a&&qh(r,a,o)}function ix(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function qh(r,e,t){let n=r.domSelection();if(Ec(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&In(r)},50)}function hb(r,e,t){let n=r.state.selection;if(n instanceof Le&&!n.empty||t.indexOf("s")>-1||Er&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=Vh(r.state,e);if(o&&o instanceof ye)return Li(r,o)}if(!i.parent.inlineContent){let o=e<0?i:a,s=n instanceof tr?Ce.near(o,e):Ce.findFrom(o,e);return s?Li(r,s):!1}return!1}function pb(r,e){if(!(r.state.selection instanceof Le))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let o=r.state.tr;return e<0?o.delete(t.pos-a.nodeSize,t.pos):o.delete(t.pos,t.pos+a.nodeSize),r.dispatch(o),!0}return!1}function vb(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function KB(r){if(!nr||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;vb(r,n,"true"),setTimeout(()=>vb(r,n,"false"),20)}return!1}function XB(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function JB(r,e){let t=e.keyCode,n=XB(e);return t==8||Er&&t==72&&n=="c"?pb(r,-1)||Ef(r):t==46||Er&&t==68&&n=="c"?pb(r,1)||Df(r):t==13||t==27?!0:t==37||Er&&t==66&&n=="c"?db(r,-1,n)||Ef(r):t==39||Er&&t==70&&n=="c"?db(r,1,n)||Df(r):t==38||Er&&t==80&&n=="c"?hb(r,-1,n)||Ef(r):t==40||Er&&t==78&&n=="c"?KB(r)||hb(r,1,n)||Df(r):n==(Er?"m":"c")&&(t==66||t==73||t==89||t==90)}function ax(r,e){r.someProp("transformCopied",h=>{e=h(e,r)});let t=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let h=n.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let o=r.someProp("clipboardSerializer")||Rn.fromSchema(r.state.schema),s=fx(),l=s.createElement("div");l.appendChild(o.serializeFragment(n,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=cx[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${f?` -${f}`:""} ${JSON.stringify(t)}`);let d=r.someProp("clipboardTextSerializer",h=>h(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function ox(r,e,t,n,i){let a=i.parent.type.spec.code,o,s;if(!t&&!e)return null;let l=e&&(n||a||!t);if(l){if(r.someProp("transformPastedText",d=>{e=d(e,a||n,r)}),a)return e?new Z(j.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Z.empty;let f=r.someProp("clipboardTextParser",d=>d(e,i,n,r));if(f)s=f;else{let d=i.marks(),{schema:h}=r.state,p=Rn.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let m=o.appendChild(document.createElement("p"));v&&m.appendChild(p.serializeNode(h.text(v,d)))})}}else r.someProp("transformPastedHTML",f=>{t=f(t,r)}),o=e2(t),Dc&&t2(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(s||(s=(r.someProp("clipboardParser")||r.someProp("domParser")||Xi.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!QB.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=r2(mb(s,+c[1],+c[2]),c[4]);else if(s=Z.maxOpen(ZB(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=mb(s,f,d)}return r.someProp("transformPasted",f=>{s=f(s,r)}),s}const QB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ZB(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,o=[];if(r.forEach(s=>{if(!o)return;let l=i.findWrapping(s.type),u;if(!l)return o=null;if(u=o.length&&a.length&&lx(l,a,s,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=ux(o[o.length-1],a.length));let c=sx(s,l);o.push(c),i=i.matchType(c.type),a=l}}),o)return j.from(o)}return r}function sx(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,j.from(r));return r}function lx(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let a=lx(r,e,t,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(j.from(sx(t,r,i+1))))}}function ux(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,ux(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(j.empty,!0);return r.copy(t.append(n))}function Uh(r,e,t,n,i,a){let o=e<0?r.firstChild:r.lastChild,s=o.content;return i<n-1&&(s=Uh(s,e,t,n,i+1,a)),i>=t&&(s=e<0?o.contentMatchAt(0).fillBefore(s,r.childCount>1||a<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(j.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(s))}function mb(r,e,t){return e<r.openStart&&(r=new Z(Uh(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Z(Uh(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const cx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let gb=null;function fx(){return gb||(gb=document.implementation.createHTMLDocument("title"))}function e2(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=fx().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&cx[n[1].toLowerCase()])&&(r=i.map(a=>"<"+a+">").join("")+r+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=r,i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function t2(r){let e=r.querySelectorAll(Zt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function r2(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:a,openEnd:o}=r;for(let s=n.length-2;s>=0;s-=2){let l=t.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=j.from(l.create(n[s+1],i)),a++,o++}return new Z(i,a,o)}const ir={},ar={},n2={touchstart:!0,touchmove:!0};class i2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function a2(r){for(let e in ir){let t=ir[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{s2(r,n)&&!rv(r,n)&&(r.editable||!(n.type in ar))&&t(r,n)},n2[e]?{passive:!0}:void 0)}nr&&r.dom.addEventListener("input",()=>null),Wh(r)}function ni(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function o2(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function Wh(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>rv(r,n))})}function rv(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function s2(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function l2(r,e){!rv(r,e)&&ir[e.type]&&(r.editable||!(e.type in ar))&&ir[e.type](r,e)}ar.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!hx(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!($r&&Zt&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),Fa&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,Ri(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||JB(r,t)?t.preventDefault():ni(r,"key")};ar.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};ar.keypress=(r,e)=>{let t=e;if(hx(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Er&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof Le)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!r.someProp("handleTextInput",a=>a(r,n.$from.pos,n.$to.pos,i))&&r.dispatch(r.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function Pc(r){return{left:r.clientX,top:r.clientY}}function u2(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function nv(r,e,t,n,i){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(r.someProp(e,s=>o>a.depth?s(r,t,a.nodeAfter,a.before(o),i,!0):s(r,t,a.node(o),a.before(o),i,!1)))return!0;return!1}function Na(r,e,t){r.focused||r.focus();let n=r.state.tr.setSelection(e);t=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function c2(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&ye.isSelectable(n)?(Na(r,new ye(t),"pointer"),!0):!1}function f2(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof ye&&(n=t.node);let a=r.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(ye.isSelectable(s)){n&&t.$from.depth>0&&o>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(o);break}}return i!=null?(Na(r,ye.create(r.state.doc,i),"pointer"),!0):!1}function d2(r,e,t,n,i){return nv(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(i?f2(r,t):c2(r,t))}function h2(r,e,t,n){return nv(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function p2(r,e,t,n){return nv(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||v2(r,t,n)}function v2(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(Na(r,Le.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(o.inlineContent)Na(r,Le.create(n,s+1,s+1+o.content.size),"pointer");else if(ye.isSelectable(o))Na(r,ye.create(n,s),"pointer");else continue;return!0}}function iv(r){return Qu(r)}const dx=Er?"metaKey":"ctrlKey";ir.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=iv(r),i=Date.now(),a="singleClick";i-r.input.lastClick.time<500&&u2(t,r.input.lastClick)&&!t[dx]&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a};let o=r.posAtCoords(Pc(t));!o||(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new m2(r,o,t,!!n)):(a=="doubleClick"?h2:p2)(r,o.pos,o.inside,t)?t.preventDefault():ni(r,"pointer"))};class m2{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[dx],this.allowDefault=n.shiftKey;let a,o;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),o=t.inside;else{let c=e.state.doc.resolve(t.pos);a=c.parent,o=c.depth?c.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof ye&&u.from<=o&&u.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ni(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>In(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Pc(e))),this.updateAllowDefault(e),this.allowDefault||!t?ni(this.view,"pointer"):d2(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||nr&&this.mightDrag&&!this.mightDrag.node.isAtom||Zt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Na(this.view,Ce.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):ni(this.view,"pointer")}move(e){this.updateAllowDefault(e),ni(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ir.touchstart=r=>{r.input.lastTouch=Date.now(),iv(r),ni(r,"pointer")};ir.touchmove=r=>{r.input.lastTouch=Date.now(),ni(r,"pointer")};ir.contextmenu=r=>iv(r);function hx(r,e){return r.composing?!0:nr&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const g2=$r?5e3:-1;ar.compositionstart=ar.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),Qu(r,!0),r.markCursor=null;else if(Qu(r),Wr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){r.domSelection().collapse(o,o.nodeValue.length);break}else i=o,a=-1}}r.input.composing=!0}px(r,g2)};ar.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,px(r,20))};function px(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Qu(r),e))}function vx(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=y2());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function y2(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Qu(r,e=!1){if(!($r&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),vx(r),e||r.docView&&r.docView.dirty){let t=ev(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):r.updateState(r.state),!0}return!1}}function b2(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const za=dr&&oi<15||Fa&&wB<604;ir.copy=ar.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let a=za?null:t.clipboardData,o=n.content(),{dom:s,text:l}=ax(r,o);a?(t.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):b2(r,s),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function w2(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function k2(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Jo(r,n.value,null,r.input.shiftKey,e):Jo(r,n.textContent,n.innerHTML,r.input.shiftKey,e)},50)}function Jo(r,e,t,n,i){let a=ox(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,i,a||Z.empty)))return!0;if(!a)return!1;let o=w2(a),s=o?r.state.tr.replaceSelectionWith(o,r.input.shiftKey):r.state.tr.replaceSelection(a);return r.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ar.paste=(r,e)=>{let t=e;if(r.composing&&!$r)return;let n=za?null:t.clipboardData;n&&Jo(r,n.getData("text/plain"),n.getData("text/html"),r.input.shiftKey,t)?t.preventDefault():k2(r,t)};class x2{constructor(e,t){this.slice=e,this.move=t}}const mx=Er?"altKey":"ctrlKey";ir.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,a=i.empty?null:r.posAtCoords(Pc(t));if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof ye?i.to-1:i.to))){if(n&&n.mightDrag)r.dispatch(r.state.tr.setSelection(ye.create(r.state.doc,n.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let u=r.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=r.docView&&r.dispatch(r.state.tr.setSelection(ye.create(r.state.doc,u.posBefore)))}}let o=r.state.selection.content(),{dom:s,text:l}=ax(r,o);t.dataTransfer.clearData(),t.dataTransfer.setData(za?"Text":"text/html",s.innerHTML),t.dataTransfer.effectAllowed="copyMove",za||t.dataTransfer.setData("text/plain",l),r.dragging=new x2(o,!t[mx])};ir.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};ar.dragover=ar.dragenter=(r,e)=>e.preventDefault();ar.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let i=r.posAtCoords(Pc(t));if(!i)return;let a=r.state.doc.resolve(i.pos),o=n&&n.slice;o?r.someProp("transformPasted",p=>{o=p(o,r)}):o=ox(r,t.dataTransfer.getData(za?"Text":"text/plain"),za?null:t.dataTransfer.getData("text/html"),!1,a);let s=!!(n&&!t[mx]);if(r.someProp("handleDrop",p=>p(r,t,o||Z.empty,s))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?iB(r.state.doc,a.pos,o):a.pos;l==null&&(l=a.pos);let u=r.state.tr;s&&u.deleteSelection();let c=u.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&ye.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new ye(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((v,m,g,b)=>p=b),u.setSelection(tv(r,h,u.doc.resolve(p)))}r.focus(),r.dispatch(u.setMeta("uiEvent","drop"))};ir.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&In(r)},20))};ir.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};ir.beforeinput=(r,e)=>{if(Zt&&$r&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,Ri(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in ar)ir[r]=ar[r];function Qo(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class av{constructor(e,t){this.toDOM=e,this.spec=t||qi,this.side=this.spec.side||0}map(e,t,n,i){let{pos:a,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new fr(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof av&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Qo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class si{constructor(e,t){this.attrs=e,this.spec=t||qi}map(e,t,n,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new fr(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof si&&Qo(this.attrs,e.attrs)&&Qo(this.spec,e.spec)}static is(e){return e.type instanceof si}destroy(){}}class ov{constructor(e,t){this.attrs=e,this.spec=t||qi}map(e,t,n,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=a.pos?null:new fr(a.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(n)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof ov&&Qo(this.attrs,e.attrs)&&Qo(this.spec,e.spec)}destroy(){}}class fr{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new fr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new fr(e,e,new av(t,n))}static inline(e,t,n,i){return new fr(e,t,new si(n,i))}static node(e,t,n,i){return new fr(e,t,new ov(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof si}}const ka=[],qi={};class ut{constructor(e,t){this.local=e.length?e:ka,this.children=t.length?t:ka}static create(e,t){return t.length?Zu(t,e,0,qi):qt}find(e,t,n){let i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,n),i}findInner(e,t,n,i,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!a||a(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,i+s,a)}}map(e,t,n){return this==qt||e.maps.length==0?this:this.mapInner(e,t,0,0,n||qi)}mapInner(e,t,n,i,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?T2(this.children,o||[],e,t,n,i,a):o?new ut(o.sort(Ui),ka):qt}add(e,t){return t.length?this==qt?ut.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,a=0;e.forEach((s,l)=>{let u=l+n,c;if(!!(c=yx(t,s,u))){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(s,c,u+1):i.splice(a,0,l,l+s.nodeSize,Zu(c,s,u+1,qi)),a+=3}});let o=gx(a?bx(t):t,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new ut(o.length?this.local.concat(o).sort(Ui):this.local,i||this.children)}remove(e){return e.length==0||this==qt?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,s=n[a]+t,l=n[a+1]+t;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(o||(o=[])).push(f));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(o,s+1);u!=qt?n[a+2]=u:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let s=0;s<i.length;s++)i[s].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new ut(i,n):qt}forChild(e,t){if(this==qt)return this;if(t.isLeaf)return ut.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let a=e+1,o=a+t.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof si){let u=Math.max(a,l.from)-a,c=Math.min(o,l.to)-a;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new ut(i.sort(Ui),ka);return n?new Xn([s,n]):s}return n||qt}eq(e){if(this==e)return!0;if(!(e instanceof ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return sv(this.localsInner(e))}localsInner(e){if(this==qt)return ka;if(e.inlineContent||!this.local.some(si.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof si||t.push(this.local[n]);return t}}ut.empty=new ut([],[]);ut.removeOverlap=sv;const qt=ut.empty;class Xn{constructor(e){this.members=e}map(e,t){const n=this.members.map(i=>i.map(e,t,qi));return Xn.from(n)}forChild(e,t){if(t.isLeaf)return ut.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=qt&&(a instanceof Xn?n=n.concat(a.members):n.push(a))}return Xn.from(n)}eq(e){if(!(e instanceof Xn)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(!!a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let o=0;o<a.length;o++)t.push(a[o])}}return t?sv(n?t:t.sort(Ui)):ka}static from(e){switch(e.length){case 0:return qt;case 1:return e[0];default:return new Xn(e.every(t=>t instanceof ut)?e:e.reduce((t,n)=>t.concat(n instanceof ut?n:n.members),[]))}}}function T2(r,e,t,n,i,a,o){let s=r.slice();for(let u=0,c=a;u<t.maps.length;u++){let f=0;t.maps[u].forEach((d,h,p,v)=>{let m=v-p-(h-d);for(let g=0;g<s.length;g+=3){let b=s[g+1];if(b<0||d>b+c-f)continue;let k=s[g]+c-f;h>=k?s[g+1]=d<=k?-2:-1:p>=i&&m&&(s[g]+=m,s[g+1]+=m)}f+=m}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=t.map(r[u]+a),f=c-i;if(f<0||f>=n.content.size){l=!0;continue}let d=t.map(r[u+1]+a,-1),h=d-i,{index:p,offset:v}=n.content.findIndex(f),m=n.maybeChild(p);if(m&&v==f&&v+m.nodeSize==h){let g=s[u+2].mapInner(t,m,c+1,r[u]+a+1,o);g!=qt?(s[u]=f,s[u+1]=h,s[u+2]=g):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=_2(s,r,e,t,i,a,o),c=Zu(u,n,0,o);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new ut(e.sort(Ui),s)}function gx(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new fr(i.from+e,i.to+e,i.type))}return t}function _2(r,e,t,n,i,a,o){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(n,i,u);f?t.push(f):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&s(r[l+2],e[l]+a+1);return t}function yx(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let a=0,o;a<r.length;a++)(o=r[a])&&o.from>t&&o.to<n&&((i||(i=[])).push(o),r[a]=null);return i}function bx(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function Zu(r,e,t,n){let i=[],a=!1;e.forEach((s,l)=>{let u=yx(r,s,l+t);if(u){a=!0;let c=Zu(u,s,t+l+1,n);c!=qt&&i.push(l,l+s.nodeSize,c)}});let o=gx(a?bx(r):r,-t).sort(Ui);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||(n.onRemove&&n.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new ut(o,i):qt}function Ui(r,e){return r.from-e.from||r.to-e.to}function sv(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[i]=a.copy(a.from,n.to),yb(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),yb(e,i,n.copy(a.from,n.to)));break}}}return e}function yb(r,e,t){for(;e<r.length&&Ui(t,r[e])>0;)e++;r.splice(e,0,t)}function Af(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=qt&&e.push(n)}),r.cursorWrapper&&e.push(ut.create(r.state.doc,[r.cursorWrapper.deco])),Xn.from(e)}const C2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},S2=dr&&oi<=11;class O2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class M2{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new O2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);dr&&oi<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),S2&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,C2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!fb(this.view)){if(this.suppressingSelectionUpdates)return In(this.view);if(dr&&oi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ji(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=Xo(a))t.add(a);for(let a=e.anchorNode;a;a=Xo(a))if(t.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&fb(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,s=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let f=this.registerMutation(t[c],l);f&&(a=a<0?f.from:Math.min(f.from,a),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(s=!0))}if(Wr&&l.length>1){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ec(n)&&(u=ev(e))&&u.eq(Ce.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,In(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),E2(e)),this.handleDOMChange(a,o,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||In(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)t.push(e.addedNodes[c]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(dr&&oi<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(a=d)}let o=i&&i.parentNode==e.target?wr(i)+1:0,s=n.localPosFromDOM(e.target,o,-1),l=a&&a.parentNode==e.target?wr(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let bb=new WeakMap,wb=!1;function E2(r){if(!bb.has(r)&&(bb.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Wr,wb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),wb=!0}}function D2(r){let e;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}r.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",t,!0);let n=e.startContainer,i=e.startOffset,a=e.endContainer,o=e.endOffset,s=r.domAtPos(r.state.selection.anchor);return Ji(s.node,s.offset,a,o)&&([n,i,a,o]=[a,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o}}function A2(r,e,t){let{node:n,fromOffset:i,toOffset:a,from:o,to:s}=r.docView.parseRange(e,t),l=r.domSelectionRange(),u,c=l.anchorNode;if(c&&r.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Ec(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Zt&&r.input.lastKeyCode===8)for(let m=a;m>i;m--){let g=n.childNodes[m-1],b=g.pmViewDesc;if(g.nodeName=="BR"&&!b){a=m;break}if(!b||b.size)break}let f=r.state.doc,d=r.someProp("domParser")||Xi.fromSchema(r.state.schema),h=f.resolve(o),p=null,v=d.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:a,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:P2,context:h});if(u&&u[0].pos!=null){let m=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=m),p={anchor:m+o,head:g+o}}return{doc:v,sel:p,from:o,to:s}}function P2(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(nr&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||nr&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}function N2(r,e,t,n,i){if(e<0){let C=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,H=ev(r,C);if(H&&!r.state.selection.eq(H)){if(Zt&&$r&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",N=>N(r,Ri(13,"Enter"))))return;let V=r.state.tr.setSelection(H);C=="pointer"?V.setMeta("pointer",!0):C=="key"&&V.scrollIntoView(),r.dispatch(V)}return}let a=r.state.doc.resolve(e),o=a.sharedDepth(t);e=a.before(o+1),t=r.state.doc.resolve(t).after(o+1);let s=r.state.selection,l=A2(r,e,t),u=r.state.doc,c=u.slice(l.from,l.to),f,d;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(f=r.state.selection.to,d="end"):(f=r.state.selection.from,d="start"),r.input.lastKeyCode=null;let h=I2(c.content,l.doc.content,l.from,f,d);if((Fa&&r.input.lastIOSEnter>Date.now()-225||$r)&&i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"||C.nodeName=="LI")&&(!h||h.endA>=h.endB)&&r.someProp("handleKeyDown",C=>C(r,Ri(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!h)if(n&&s instanceof Le&&!s.empty&&s.$head.sameParent(s.$anchor)&&!r.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:s.from,endA:s.to,endB:s.to};else{if(l.sel){let C=kb(r,r.state.doc,l.sel);C&&!C.eq(r.state.selection)&&r.dispatch(r.state.tr.setSelection(C))}return}if(Zt&&r.cursorWrapper&&l.sel&&l.sel.anchor==r.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let C=h.endB-h.start;l.sel={anchor:l.sel.anchor+C,head:l.sel.anchor+C}}r.input.domChangeCount++,r.state.selection.from<r.state.selection.to&&h.start==h.endB&&r.state.selection instanceof Le&&(h.start>r.state.selection.from&&h.start<=r.state.selection.from+2&&r.state.selection.from>=l.from?h.start=r.state.selection.from:h.endA<r.state.selection.to&&h.endA>=r.state.selection.to-2&&r.state.selection.to<=l.to&&(h.endB+=r.state.selection.to-h.endA,h.endA=r.state.selection.to)),dr&&oi<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let p=l.doc.resolveNoCache(h.start-l.from),v=l.doc.resolveNoCache(h.endB-l.from),m=u.resolve(h.start),g=p.sameParent(v)&&p.parent.inlineContent&&m.end()>=h.endA,b;if((Fa&&r.input.lastIOSEnter>Date.now()-225&&(!g||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!g&&p.pos<l.doc.content.size&&(b=Ce.findFrom(l.doc.resolve(p.pos+1),1,!0))&&b.head==v.pos)&&r.someProp("handleKeyDown",C=>C(r,Ri(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>h.start&&L2(u,h.start,h.endA,p,v)&&r.someProp("handleKeyDown",C=>C(r,Ri(8,"Backspace")))){$r&&Zt&&r.domObserver.suppressSelectionUpdates();return}Zt&&$r&&h.endB==h.start&&(r.input.lastAndroidDelete=Date.now()),$r&&!g&&p.start()!=v.start()&&v.parentOffset==0&&p.depth==v.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,v=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{r.someProp("handleKeyDown",function(C){return C(r,Ri(13,"Enter"))})},20));let k=h.start,T=h.endA,x,w,_;if(g){if(p.pos==v.pos)dr&&oi<=11&&p.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>In(r),20)),x=r.state.tr.delete(k,T),w=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(_=R2(p.parent.content.cut(p.parentOffset,v.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))x=r.state.tr,_.type=="add"?x.addMark(k,T,_.mark):x.removeMark(k,T,_.mark);else if(p.parent.child(p.index()).isText&&p.index()==v.index()-(v.textOffset?0:1)){let C=p.parent.textBetween(p.parentOffset,v.parentOffset);if(r.someProp("handleTextInput",H=>H(r,k,T,C)))return;x=r.state.tr.insertText(C,k,T)}}if(x||(x=r.state.tr.replace(k,T,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let C=kb(r,x.doc,l.sel);C&&!(Zt&&$r&&r.composing&&C.empty&&(h.start!=h.endB||r.input.lastAndroidDelete<Date.now()-100)&&(C.head==k||C.head==x.mapping.map(T)-1)||dr&&C.empty&&C.head==k)&&x.setSelection(C)}w&&x.ensureMarks(w),r.dispatch(x.scrollIntoView())}function kb(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:tv(r,e.resolve(t.anchor),e.resolve(t.head))}function R2(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,a=n,o,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<t.length;c++)a=t[c].removeFromSet(a);if(i.length==1&&a.length==0)s=i[0],o="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&a.length==1)s=a[0],o="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(j.from(u).eq(r))return{mark:s,type:o}}function L2(r,e,t,n,i){if(!n.parent.isTextblock||t-e<=i.pos-n.pos||Pf(n,!0,!1)<i.pos)return!1;let a=r.resolve(e);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=r.resolve(Pf(a,!0,!0));return!o.parent.isTextblock||o.pos>t||Pf(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Pf(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function I2(r,e,t,n,i){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:o,b:s}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(o,s));n-=o+l-a}return o<a&&r.size<e.size?(a-=n<=a&&n>=o?a-n:0,s=a+(s-o),o=a):s<a&&(a-=n<=a&&n>=s?a-n:0,o=a+(o-s),s=a),{start:a,endA:o,endB:s}}class lv{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new i2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Sb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=_b(this),Tb(this),this.nodeViews=Cb(this),this.docView=ab(this.state.doc,xb(this),Af(this),this.dom,this),this.domObserver=new M2(this,(n,i,a,o)=>N2(this,n,i,a,o)),this.domObserver.start(),a2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Wh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Sb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(vx(this),a=!0),this.state=e;let o=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let d=Cb(this);B2(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&Wh(this),this.editable=_b(this),Tb(this);let s=Af(this),l=xb(this),u=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(n.selection))&&(a=!0);let f=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&TB(this);if(a){this.domObserver.stop();let d=c&&(dr||Zt)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&$2(n.selection,e.selection);if(c){let h=Zt?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ab(e.doc,l,s,this.dom,this)),h&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&GB(this))?In(this,d):(rx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&_B(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ye){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&eb(this,t.getBoundingClientRect(),e)}else eb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[e];if(s!=null&&(i=t?t(s):s))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[e];if(s!=null&&(i=t?t(s):s))return i}}hasFocus(){if(dr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&CB(this.dom),In(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}posAtCoords(e){return DB(this,e)}coordsAtPos(e,t=1){return Gk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return LB(this,t||this.state,e)}pasteHTML(e,t){return Jo(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Jo(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){!this.docView||(o2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Af(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return l2(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return nr&&this.root.nodeType===11&&yB(this.dom.ownerDocument)==this.dom?D2(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function xb(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),e.translate="no",r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"&&(e.class+=" "+t[n]),n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),[fr.node(0,r.state.doc.content.size,e)]}function Tb(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:fr.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function _b(r){return!r.someProp("editable",e=>e(r.state)===!1)}function $2(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Cb(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function B2(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function Sb(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var di={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ec={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ob=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var H2=typeof navigator<"u"&&/Mac/.test(navigator.platform),F2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),z2=H2||Ob&&+Ob[1]<57;for(var Pt=0;Pt<10;Pt++)di[48+Pt]=di[96+Pt]=String(Pt);for(var Pt=1;Pt<=24;Pt++)di[Pt+111]="F"+Pt;for(var Pt=65;Pt<=90;Pt++)di[Pt]=String.fromCharCode(Pt+32),ec[Pt]=String.fromCharCode(Pt);for(var Nf in di)ec.hasOwnProperty(Nf)||(ec[Nf]=di[Nf]);function V2(r){var e=z2&&(r.ctrlKey||r.altKey||r.metaKey)||F2&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?ec:di)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const q2=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function U2(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,a,o;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))q2?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function W2(r){let e=Object.create(null);for(let t in r)e[U2(t)]=r[t];return e}function Rf(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}function Zo(r){return new mr({props:{handleKeyDown:j2(r)}})}function j2(r){let e=W2(r);return function(t,n){let i=V2(n),a=i.length==1&&i!=" ",o,s=e[Rf(i,n,!a)];if(s&&s(t.state,t.dispatch,t))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=di[n.keyCode])&&o!=i){let l=e[Rf(o,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(a&&n.shiftKey){let l=e[Rf(i,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}const uv=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function Y2(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const G2=(r,e,t)=>{let n=Y2(r,t);if(!n)return!1;let i=wx(n);if(!i){let o=n.blockRange(),s=o&&Oc(o);return s==null?!1:(e&&e(r.tr.lift(o,s).scrollIntoView()),!0)}let a=i.nodeBefore;if(!a.type.spec.isolating&&Cx(r,i,e))return!0;if(n.parent.content.size==0&&(Va(a,"end")||ye.isSelectable(a))){let o=Jp(r.doc,n.before(),n.after(),Z.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Va(a,"end")?Ce.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):ye.create(s.doc,i.pos-a.nodeSize)),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Va(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const K2=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=wx(n)}let o=a&&a.nodeBefore;return!o||!ye.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ye.create(r.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function wx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function X2(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const kx=(r,e,t)=>{let n=X2(r,t);if(!n)return!1;let i=xx(n);if(!i)return!1;let a=i.nodeAfter;if(Cx(r,i,e))return!0;if(n.parent.content.size==0&&(Va(a,"start")||ye.isSelectable(a))){let o=Jp(r.doc,n.before(),n.after(),Z.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Va(a,"start")?Ce.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):ye.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},J2=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=xx(n)}let o=a&&a.nodeAfter;return!o||!ye.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ye.create(r.doc,a.pos)).scrollIntoView()),!0)};function xx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const Tx=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function cv(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const fv=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),a=t.indexAfter(-1),o=cv(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let s=t.after(),l=r.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Ce.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Q2=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof tr||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=cv(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=r.tr.insert(o,a.createAndFill());s.setSelection(Le.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},Z2=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Aa(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),i=n&&Oc(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)};function eH(r){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof ye&&e.selection.node.isBlock)return!n.parentOffset||!Aa(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let a=i.parentOffset==i.parent.content.size,o=e.tr;(e.selection instanceof Le||e.selection instanceof tr)&&o.deleteSelection();let s=n.depth==0?null:cv(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=r&&r(i.parent,a),u=l?[l]:a&&s?[{type:s}]:void 0,c=Aa(o.doc,o.mapping.map(n.pos),1,u);if(!u&&!c&&Aa(o.doc,o.mapping.map(n.pos),1,s?[{type:s}]:void 0)&&(s&&(u=[{type:s}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,u),!a&&!n.parentOffset&&n.parent.type!=s)){let f=o.mapping.map(n.before()),d=o.doc.resolve(f);s&&n.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&o.setNodeMarkup(o.mapping.map(n.before()),s)}t(o.scrollIntoView())}return!0}}const tH=eH(),_x=(r,e)=>(e&&e(r.tr.setSelection(new tr(r.doc))),!0);function rH(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||Lk(r.doc,e.pos))?!1:(t&&t(r.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function Cx(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a,o;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(rH(r,e,t))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(a=(o=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&o.matchType(a[0]||i.type).validEnd){if(t){let f=e.pos+i.nodeSize,d=j.empty;for(let v=a.length-1;v>=0;v--)d=j.from(a[v].create(null,d));d=j.from(n.copy(d));let h=r.tr.step(new Tt(e.pos-1,f,e.pos,f,new Z(d,1,0),a.length,!0)),p=f+2*a.length;Lk(h.doc,p)&&h.join(p),t(h.scrollIntoView())}return!0}let l=Ce.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Oc(u);if(c!=null&&c>=e.depth)return t&&t(r.tr.lift(u,c).scrollIntoView()),!0;if(s&&Va(i,"start",!0)&&Va(n,"end")){let f=n,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(t){let v=j.empty;for(let g=d.length-1;g>=0;g--)v=j.from(d[g].copy(v));let m=r.tr.step(new Tt(e.pos-d.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new Z(v,d.length,0),0,!0));t(m.scrollIntoView())}return!0}}return!1}function Sx(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(Le.create(e.doc,r<0?i.start(a):i.end(a)))),!0):!1}}const nH=Sx(-1),iH=Sx(1);function aH(r,e=null){return function(t,n){let{$from:i,$to:a}=t.selection,o=i.blockRange(a),s=o&&Y$(o,r,e);return s?(n&&n(t.tr.wrap(o,s).scrollIntoView()),!0):!1}}function dv(r,e=null){return function(t,n){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:s}}=t.selection.ranges[a];t.doc.nodesBetween(o,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)i=!0;else{let c=t.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,r)}})}if(!i)return!1;if(n){let a=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=t.selection.ranges[o];a.setBlockType(s,l,r,e)}n(a.scrollIntoView())}return!0}}function oH(r,e,t){for(let n=0;n<e.length;n++){let{$from:i,$to:a}=e[n],o=i.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(i.pos,a.pos,s=>{if(o)return!1;o=s.inlineContent&&s.type.allowsMarkType(t)}),o)return!0}return!1}function ls(r,e=null){return function(t,n){let{empty:i,$cursor:a,ranges:o}=t.selection;if(i&&!a||!oH(t.doc,o,r))return!1;if(n)if(a)r.isInSet(t.storedMarks||a.marks())?n(t.tr.removeStoredMark(r)):n(t.tr.addStoredMark(r.create(e)));else{let s=!1,l=t.tr;for(let u=0;!s&&u<o.length;u++){let{$from:c,$to:f}=o[u];s=t.doc.rangeHasMark(c.pos,f.pos,r)}for(let u=0;u<o.length;u++){let{$from:c,$to:f}=o[u];if(s)l.removeMark(c.pos,f.pos,r);else{let d=c.pos,h=f.pos,p=c.nodeAfter,v=f.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,g=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;d+m<h&&(d+=m,h-=g),l.addMark(d,h,r.create(e))}}n(l.scrollIntoView())}return!0}}function Nc(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}let Lf=Nc(uv,G2,K2),Mb=Nc(uv,kx,J2);const Mn={Enter:Nc(Tx,Q2,Z2,tH),"Mod-Enter":fv,Backspace:Lf,"Mod-Backspace":Lf,"Shift-Backspace":Lf,Delete:Mb,"Mod-Delete":Mb,"Mod-a":_x},Ox={"Ctrl-h":Mn.Backspace,"Alt-Backspace":Mn["Mod-Backspace"],"Ctrl-d":Mn.Delete,"Ctrl-Alt-Backspace":Mn["Mod-Delete"],"Alt-Delete":Mn["Mod-Delete"],"Alt-d":Mn["Mod-Delete"],"Ctrl-a":nH,"Ctrl-e":iH};for(let r in Mn)Ox[r]=Mn[r];const sH=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Eb=sH?Ox:Mn;class yi{constructor(e,t){this.match=e,this.match=e,this.handler=typeof t=="string"?lH(t):t}}function lH(r){return function(e,t,n,i){let a=r;if(t[1]){let o=t[0].lastIndexOf(t[1]);a+=t[0].slice(o+t[1].length),n+=o;let s=n-i;s>0&&(a=t[0].slice(o-s,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const uH=500;function Mx({rules:r}){let e=new mr({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,a){return Db(t,n,i,a,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&Db(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function Db(r,e,t,n,i,a){if(r.composing)return!1;let o=r.state,s=o.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-uH),s.parentOffset,null,"\uFFFC")+n;for(let u=0;u<i.length;u++){let c=i[u].match.exec(l),f=c&&i[u].handler(o,c,e-(c[0].length-n.length),t);if(!!f)return r.dispatch(f.setMeta(a,{transform:f,from:e,to:t,text:n})),!0}return!1}const cH=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],a;if(i.spec.isInputRules&&(a=i.getState(r))){if(e){let o=r.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l--)o.step(s.steps[l].invert(s.docs[l]));if(a.text){let l=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,r.schema.text(a.text,l))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new yi(/--$/,"\u2014");new yi(/\.\.\.$/,"\u2026");new yi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new yi(/"$/,"\u201D");new yi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new yi(/'$/,"\u2019");var tc=200,It=function(){};It.prototype.append=function(e){return e.length?(e=It.from(e),!this.length&&e||e.length<tc&&this.leafAppend(e)||this.length<tc&&e.leafPrepend(this)||this.appendInner(e)):this};It.prototype.prepend=function(e){return e.length?It.from(e).append(this):this};It.prototype.appendInner=function(e){return new fH(this,e)};It.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?It.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};It.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};It.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};It.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},t,n),i};It.from=function(e){return e instanceof It?e:e&&e.length?new Ex(e):It.empty};var Ex=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,s){for(var l=a;l<o;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,s){for(var l=a-1;l>=o;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=tc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=tc)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(It);It.empty=new Ex([]);var fH=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(n,Math.min(i,s),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(It),Dx=It;const dH=500;class Br{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;t&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),a=i.maps.length),a--,c.push(f);return}if(i){c.push(new nn(f.map));let h=f.step.map(i.slice(a)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new nn(p,void 0,void 0,u.length+c.length))),a--,p&&i.appendMap(p,a)}else o.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(a)):f.selection,l=new Br(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,t,n,i){let a=[],o=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new nn(e.mapping.maps[c],f,t),h;(h=l&&l.merge(d))&&(d=h,c?a.pop():s=s.slice(0,s.length-1)),a.push(d),t&&(o++,t=void 0),i||(l=d)}let u=o-n.depth;return u>pH&&(s=hH(s,u),o-=u),new Br(s.append(a),o)}remapping(e,t){let n=new Da;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new Br(this.items.append(e.map(t=>new nn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=t;this.items.forEach(d=>{let h=a.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=a.maps[h];if(d.step){let v=e.steps[h].invert(e.docs[h]),m=d.selection&&d.selection.map(a.slice(l+1,h));m&&s++,n.push(new nn(p,v,m))}else n.push(new nn(p))},i);let u=[];for(let d=t;d<o;d++)u.push(new nn(a.maps[d]));let c=this.items.slice(0,i).append(u).append(n),f=new Br(c,s);return f.emptyItemCount()>dH&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],a=0;return this.items.forEach((o,s)=>{if(s>=e)i.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(t.slice(n)),u=l&&l.getMap();if(n--,u&&t.appendMap(u,n),l){let c=o.selection&&o.selection.map(t.slice(n));c&&a++;let f=new nn(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else o.map&&n--},this.items.length,0),new Br(Dx.from(i.reverse()),a)}}Br.empty=new Br(Dx.empty,0);function hH(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}class nn{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new nn(t.getMap().invert(),t,this.selection)}}}class Kn{constructor(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i}}const pH=20;function vH(r,e,t,n){let i=t.getMeta($n),a;if(i)return i.historyState;t.getMeta(gH)&&(r=new Kn(r.done,r.undone,null,0));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta($n))return o.getMeta($n).redo?new Kn(r.done.addTransform(t,void 0,n,$l(e)),r.undone,Ab(t.mapping.maps[t.steps.length-1]),r.prevTime):new Kn(r.done,r.undone.addTransform(t,void 0,n,$l(e)),null,r.prevTime);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=r.prevTime==0||!o&&(r.prevTime<(t.time||0)-n.newGroupDelay||!mH(t,r.prevRanges)),l=o?If(r.prevRanges,t.mapping):Ab(t.mapping.maps[t.steps.length-1]);return new Kn(r.done.addTransform(t,s?e.selection.getBookmark():void 0,n,$l(e)),Br.empty,l,t.time)}else return(a=t.getMeta("rebased"))?new Kn(r.done.rebased(t,a),r.undone.rebased(t,a),If(r.prevRanges,t.mapping),r.prevTime):new Kn(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),If(r.prevRanges,t.mapping),r.prevTime)}function mH(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function Ab(r){let e=[];return r.forEach((t,n,i,a)=>e.push(i,a)),e}function If(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),a=e.map(r[n+1],-1);i<=a&&t.push(i,a)}return t}function Ax(r,e,t,n){let i=$l(e),a=$n.get(e).spec.config,o=(n?r.undone:r.done).popEvent(e,i);if(!o)return;let s=o.selection.resolve(o.transform.doc),l=(n?r.done:r.undone).addTransform(o.transform,e.selection.getBookmark(),a,i),u=new Kn(n?l:o.remaining,n?o.remaining:l,null,0);t(o.transform.setSelection(s).setMeta($n,{redo:n,historyState:u}).scrollIntoView())}let $f=!1,Pb=null;function $l(r){let e=r.plugins;if(Pb!=e){$f=!1,Pb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){$f=!0;break}}return $f}const $n=new as("history"),gH=new as("closeHistory");function Px(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new mr({key:$n,state:{init(){return new Kn(Br.empty,Br.empty,null,0)},apply(e,t,n){return vH(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?qo:n=="historyRedo"?hv:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const qo=(r,e)=>{let t=$n.getState(r);return!t||t.done.eventCount==0?!1:(e&&Ax(t,r,e,!1),!0)},hv=(r,e)=>{let t=$n.getState(r);return!t||t.undone.eventCount==0?!1:(e&&Ax(t,r,e,!0),!0)};function yH(r){let e=$n.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.1 | Thu Sep 29 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jh=function(r,e){return jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},jh(r,e)};function ee(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var I=function(){return I=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},I.apply(this,arguments)};function hr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function Pe(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function bH(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var qa=bH;function wH(r,e){var t=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var pv=wH;function kH(r){return typeof r=="string"||r instanceof String}var zn=kH;function xH(r){return r instanceof Array}var no=xH;function TH(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var Ua=TH,_H=no,CH=Ua,SH=qa;function OH(r,e,t){_H(r)?CH(r,e,t):SH(r,e,t)}var Rc=OH,MH=zn,EH=Rc;function DH(r,e,t){var n=r.style;if(MH(e)){n[e]=t;return}EH(e,function(i,a){n[a]=i})}var gn=DH,AH=no;function PH(r,e,t){var n,i;if(t=t||0,!AH(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var ea=PH;function NH(r){return r===void 0}var jr=NH,RH=jr;function LH(r){return!r||!r.className?"":RH(r.className.baseVal)?r.className:r.className.baseVal}var vv=LH,IH=no,$H=jr;function BH(r,e){if(e=IH(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),$H(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var Nx=BH,Nb=Rc,HH=ea,FH=vv,zH=Nx;function VH(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){Nb(e,function(a){r.classList.add(a)});return}i=FH(r),i&&(e=[].concat(i.split(/\s+/),e)),Nb(e,function(a){HH(a,n)<0&&n.push(a)}),zH(r,n)}var hn=VH,Rb=Ua,qH=ea,UH=vv,WH=Nx;function jH(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){Rb(e,function(a){t.remove(a)});return}n=UH(r).split(/\s+/),i=[],Rb(n,function(a){qH(a,e)<0&&i.push(a)}),WH(r,i)}var Hr=jH;function YH(r){return typeof r=="number"||r instanceof Number}var En=YH;function GH(r){return r===null}var rc=GH,KH=qa;function XH(r,e){var t=document.createElement("img"),n="";return KH(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var JH=XH,QH=jr,ZH=JH,eF=7*24*60*60*1e3;function tF(r){var e=new Date().getTime();return e-r>eF}function rF(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+r+" for "+n+": Statistics",s=window.localStorage.getItem(o);!QH(window.tui)&&window.tui.usageStatistics===!1||s&&!tF(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&ZH(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:a})},1e3))}var nF=rF;/Mac/.test(navigator.platform);var iF=/[\u0020]+/g,aF=/[>(){}[\]+-.!#|]/g,Lb=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Ib=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,oF=/[*_~`]/g,$b=/!\[.*\]\(.*\)/g,sF=/[[\]]/g,Bb=/(?:^|[^\\])\\(?!\\)/g,lF='[&<>"]',Hb=new RegExp(lF,"g");function uF(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Ca(r){return Hb.test(r)?r.replace(Hb,uF):r}function cF(){nF("editor","UA-129966929-1")}function Bt(r,e){return r.indexOf(e)!==-1}var fF=["rel","target","hreflang","type"],dF={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Rx(r){if(!r)return null;var e={};return fF.forEach(function(t){jr(r[t])||(e[t]=r[t])}),e}function nc(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function hF(r){var e=!1;return qa(dF,function(t){return t.test(r)&&(e=!0),!e}),e}function ic(r){for(var e=[],t=$b.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=$b.exec(r);return r.replace(sF,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function pF(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(iF," ");return Ib.test(n)&&(n=n.replace(Ib,e)),Bb.test(n)&&(n=n.replace(Bb,t)),n=n.replace(oF,e),Lb.test(n)&&(n=n.replace(Lb,e)),hF(n)&&(n=n.replace(aF,e)),n}function vF(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function Yh(r){return rc(r)||jr(r)}function mv(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||Yh(r)||Yh(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function Wt(r){return r[r.length-1]}function mF(r,e,t){return r>=e&&r<=t}function gv(r){return typeof r=="object"&&r!==null}function ac(r,e){var t=I({},r);return r&&e&&Object.keys(e).forEach(function(n){gv(t[n])?Array.isArray(e[n])?t[n]=yv(e[n]):t.hasOwnProperty(n)?t[n]=ac(t[n],e[n]):t[n]=bv(e[n]):t[n]=e[n]}),t}function yv(r){return r.map(function(e){return gv(e)?Array.isArray(e)?yv(e):bv(e):e})}function bv(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return gv(r[n])?t[n]=Array.isArray(r[n])?yv(r[n]):bv(r[n]):t[n]=r[n],t},{}):r}function wv(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:wv(r[t],e[t]):r[t]=e[t]}),r}function Fb(r,e){return r>e?[e,r]:[r,e]}function gF(r){var e=/^\s(\S*)/g;return e.test(r)}function yF(r){var e=/(\S*)\s$/g;return e.test(r)}var bF=Ua;function wF(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],bF(r,function(n){e.push(n)})}return e}var yn=wF;function oc(r,e){var t=r.nodes.paragraph;return e?t.create(null,zn(e)?r.text(e):e):t.createAndFill()}function $t(r,e,t){return r.text(e,t)}function tt(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return Le.create(r.doc,Math.min(e,i),Math.min(t,i))}function kv(r,e,t){var n=e.pos;return r.replaceWith(n,n,oc(t)),r.setSelection(tt(r,n+1))}function sc(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,a=r.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=i;u+=1){var c=s.child(u),f=c.nodeSize,d=c.textContent,h=c.content,p=a(d),v=p?$t(l,p):j.empty,m=o.mapping.map(t),g=m+h.size;o.replaceWith(m,g,v),t+=f}return o}function xv(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(tt(r,r.mapping.map(e)-i))}function us(r){return r.sourcepos[0][0]}function Lc(r){return r.sourcepos[1][0]}function Ic(r){return r.sourcepos[0][1]}function li(r){return r.sourcepos[1][1]}function kF(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function xF(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function TF(r){return r&&r.type==="codeBlock"}function ta(r){return r&&(r.type==="item"||r.type==="list")}function Lx(r){return ta(r)&&r.listData.type==="ordered"}function _F(r){return ta(r)&&r.listData.type!=="ordered"}function zb(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function CF(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Wa(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function SF(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function kt(r,e){return[r[0],r[1]+e]}function ui(r,e){return[r[0],e]}function OF(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,a=r.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function MF(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function EF(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var es=[],Ix={},Vb=/\$\$widget\d+\s/;function $c(r){var e=r.search(Vb);if(e!==-1){var t=r.substring(e),n=t.replace(Vb,"").replace("$$","");r=r.substring(0,e),r+=$c(n)}return r}function $x(r,e){return"$$"+r+" "+e+"$$"}function Bx(r,e){var t=Ix[r],n=t.rule,i=t.toDOM,a=$c(e).match(n);return a&&(e=a[0]),i(e)}function DF(){return es}function AF(r){es=r,es.forEach(function(e,t){Ix["widget"+t]=e})}function Bf(r,e,t,n){return r.concat(Wi(e,t,n))}function Wi(r,e,t){t===void 0&&(t=0);var n=[],i=(es[t]||{}).rule,a=t+1;if(r=$c(r),i&&i.test(r)){for(var o=void 0;(o=r.search(i))!==-1;){var s=r.substring(0,o);s&&(n=Bf(n,s,e,a)),r=r.substring(o);var l=r.match(i)[0],u="widget"+t;n.push(e.nodes.widget.create({info:u},e.text($x(u,l)))),r=r.substring(l.length)}r&&(n=Bf(n,r,e,a))}else r&&(n=t<es.length-1?Bf(n,r,e,a):[e.text(r)]);return n}function Hx(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==r&&i.type!=="text"?(t+=OF(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function Fx(){return{deleteSelection:function(){return uv},selectAll:function(){return _x},undo:function(){return qo},redo:function(){return hv}}}function PF(r){return new mr({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return hn(n,"placeholder"),r.className&&hn(n,r.className),n.textContent=r.text,ut.create(t,[fr.widget(1,n)])}return null}}})}var NF=ea,RF=vv;function LF(r,e){var t;return r.classList?r.classList.contains(e):(t=RF(r).split(/\s+/),NF(e,t)>-1)}var zx=LF,IF=ea,$F=yn,Ds=Element.prototype,BF=Ds.matches||Ds.webkitMatchesSelector||Ds.mozMatchesSelector||Ds.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return IF(this,$F(e.querySelectorAll(r)))>-1};function HF(r,e){return BF.call(r,e)}var FF=HF,Vx="[A-Za-z][A-Za-z0-9-]*",zF="[a-zA-Z_:][a-zA-Z0-9:._-]*",VF="[^\"'=<>`\\x00-\\x20]+",qF="'[^']*'",UF='"[^"]*"',WF="(?:"+VF+"|"+qF+"|"+UF+")",jF="(?:\\s*=\\s*"+WF+")",qx="(?:\\s+"+zF+jF+"?)",Ux="<("+Vx+")("+qx+")*\\s*/?>",YF="</("+Vx+")\\s*[>]",Wx="(?:"+Ux+"|"+YF+")",ja=new RegExp("^"+Wx,"i"),Gh=/<br\s*\/*>/i,GF=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,jx="</p><p>",qb="a";function Tv(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),a=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),o=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+a&&t>=i&&t<=i+o}var Yx="toastui-editor-";function ie(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&t.push(""+Yx+o)}return t.join(" ")}function wt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return Yx+"md-"+t}).join(" ")}function KF(r){return(r==null?void 0:r.nodeType)===Node.TEXT_NODE}function Bc(r){return r&&r.nodeType===Node.ELEMENT_NODE}function XF(r,e){var t=yn(r.querySelectorAll(e));return t.length?t:[]}function JF(r,e){e=no(e)?yn(e):[e],e.forEach(function(t){r.appendChild(t)})}function QF(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function ra(r){r.parentNode&&r.parentNode.removeChild(r)}function ZF(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return ra(r),e}function _v(r,e,t){jr(t)&&(t=!zx(r,e));var n=t?hn:Hr;n(r,e)}function Gx(r,e){var t=document.createElement("div");zn(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function Cv(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function pn(r,e){var t;for(zn(e)?t=function(n){return FF(n,e)}:t=function(n){return n===e};r&&r!==document;){if(Bc(r)&&t(r))return r;r=r.parentNode}return null}function Kx(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,a=r.offsetLeft,o=r.offsetParent;if(t+=i,n+=a,o===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function Sv(r,e){Object.keys(r).forEach(function(t){Yh(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function ez(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(Wx,"ig"),n=e.match(t);return n==null||n.forEach(function(i,a){if(Gh.test(i)){var o=jx;if(a){var s=n[a-1],l=s.match(Ux);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(Gh,o)}}),e}function Ov(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var Xx=new as("widget"),Ub=5,tz=function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=pn(e.dom.parentElement,"."+ie("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=Xx.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,a=e.coordsAtPos(t.pos),o=a.top,s=a.left,l=a.bottom,u=l-o,c=this.rootEl.getBoundingClientRect(),f=o-c.top;gn(n,{opacity:"0"}),this.rootEl.appendChild(n),gn(n,{position:"absolute",left:s-c.left+Ub+"px",top:(i==="bottom"?f+u-Ub:f-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r}();function rz(r){return new mr({key:Xx,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new tz(e,r)}})}function nz(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var a=i.target;return t(a.result)},n.readAsDataURL(e)})}function Mv(r,e,t){var n=function(i,a){r.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function Jx(r){var e=yn(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function iz(r){var e=r.eventEmitter;return new mr({props:{handleDOMEvents:{drop:function(t,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&Ua(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Mv(e,o,n.type),!1):!0}),!0}}}})}var Ke=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function Qx(r){var e=document.createElement("span"),t=Bx(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function Kh(r){return r.type.name==="widget"}var Zx=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(Ke),eT=function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return $i.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=hr(hr([],this.keymaps),[Zo(I({"Shift-Enter":Eb.Enter},Eb)),Px(),PF(this.placeholder),rz(this.eventEmitter),iz(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=DF(),t=e.map(function(n){var i=n.rule;return new yi(i,function(a,o,s,l){var u=a.schema,c=a.tr,f=a.doc,d=o.input.match(new RegExp(i,"g")),h=f.resolve(s),p=h.parent,v=0;if(Kh(p)&&(p=h.node(h.depth-1)),p.forEach(function(b){return Kh(b)&&(v+=1)}),d.length>v){var m=Wt(d),g=Wi(m,u);return c.replaceWith(l-m.length+1,l,g)}return null})});return t.length?Mx({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new Ok({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=Fx(),n=t.undo,i=t.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(Zo(o)):a},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(tt(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(tt(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){gn(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){gn(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r}();function az(r){return r instanceof Function}var Pr=az,oz=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function As(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var tT=function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return I(I({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return I(I({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var s={},l=o.commands();return Pr(l)?s[o.name]=function(u){return As(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return As(e,l[u],c)}}),I(I({},a),s)},{}),i=Fx();return Object.keys(i).forEach(function(a){n[a]=function(o){return As(e,i[a],o)}}),t&&Object.keys(t).forEach(function(a){n[a]=function(o){return As(e,t[a],o)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){Bt(oz,i)||delete n[i]}),Zo(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r}();function rT(r){var e=r.from,t=r.to;return r instanceof tr?[e+1,t-1]:[e,t]}function Wb(r){return r.index(0)+1}function Ya(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,a){Kh(i)&&a+2<e&&(n+=2*t)}),n}function Bl(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),a=Wb(i),o=a,s=i.start(1),l=s;if(!n){var u=r.resolve(t===r.content.size?t-1:t);l=u.start(1),o=Wb(u),u.pos===r.content.size&&(t=r.content.size-2)}var c=Math.max(e-s+1,1),f=Math.max(t-l+1,1);return[[a,c+Ya(r.child(a-1),c,-1)],[o,f+Ya(r.child(o-1),f,-1)]]}function nT(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var a=r.child(n);t[n]=i,i+=a.nodeSize}return t}function Pi(r,e,t){var n=nT(r,t[0]),i=e[0]-1,a=t[0]-1,o=r.child(i),s=r.child(a),l=n[i],u=n[a];return l+=e[1]+Ya(o,e[1]-1),u+=t[1]+Ya(s,t[1]-1),[l,Math.min(u,r.content.size)]}function gt(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,a=e.doc;return r instanceof tr&&(e=a.resolve(n+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function lc(r,e){for(var t=1,n=1,i=0,a=0;i<r.childCount;i+=1){var o=r.child(i).nodeSize;if(t=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:t,endOffset:n}}var jb="heading",sz="blockQuote",lz="listItem",uz="table",cz="tableCell",fz="codeBlock",dz="thematicBreak",Hl="link",Ps="code",Hc="meta",na="delimiter",hz="taskDelimiter",Ev="markedText",pz="html",vz="customBlock",Yb={strong:2,emph:1,strike:2};function Fe(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function mz(r,e,t){var n=r.level,i=r.headingType,a=[Fe(e,t,jb,{level:n})];return i==="atx"?a.push(Fe(e,kt(e,n),na)):a.push(Fe(ui(t,0),t,jb,{seText:!0})),a}function Hf(r,e,t){var n=r.type,i=kt(e,Yb[n]),a=kt(t,-Yb[n]);return[Fe(i,a,n),Fe(e,i,na),Fe(a,t,na)]}function iT(r,e,t,n){return[Fe(r,e,Hl),Fe(ui(r,t[1]+1),ui(e,n),Hl,{desc:!0}),Fe(ui(e,n+2),kt(e,-1),Hl,{url:!0})]}function gz(r,e,t){var n=r.lastChild,i=n?li(n)+1:3,a=kt(e,1);return hr([Fe(e,a,Hc)],iT(e,t,a,i))}function yz(r,e,t){var n=r.lastChild,i=r.extendedAutolink,a=n?li(n)+1:2;return i?[Fe(e,t,Hl,{desc:!0})]:iT(e,t,e,a)}function bz(r,e,t){var n=r.tickCount,i=kt(e,n),a=kt(t,-n);return[Fe(e,t,Ps),Fe(e,i,Ps,{start:!0}),Fe(i,a,Ps,{marked:!0}),Fe(a,t,Ps,{end:!0})]}function aT(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[I(I({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),I(I({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function wz(r,e,t,n){var i=r.fenceOffset,a=r.fenceLength,o=r.fenceChar,s=r.info,l=r.infoPadding,u=r.parent,c=i+a,f=[Fe(ui(e,1),t,fz)];o&&f.push(Fe(e,kt(e,c),na)),s&&f.push(Fe(kt(e,a),kt(e,a+l+s.length),Hc));var d="^(\\s{0,4})("+o+"{"+a+",})",h=new RegExp(d);h.test(n)&&f.push(Fe(ui(t,1),t,na));var p=aT(u,e,t,"code-block");return p?f.concat(p):f}function kz(r,e,t){var n=r,i=n.offset,a=n.syntaxLength,o=n.info,s=n.parent,l=i+a,u=[Fe(ui(e,1),t,vz)];u.push(Fe(e,kt(e,l),na)),o&&u.push(Fe(kt(e,l),kt(e,a+o.length),Hc)),u.push(Fe(ui(t,1),t,na));var c=aT(s,e,t,"custom-block");return c?u.concat(c):u}function oT(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(Fe([us(r),Ic(r)-1],[Lc(r),li(r)+1],e)),r=r.next}return t}function xz(r){for(var e=[];r;)e.push(Fe([us(r),Ic(r)],[Lc(r),li(r)+1],Ev)),r=r.next;return e}function Tz(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[Fe(e,t,sz)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=xz(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=oT(r.firstChild,Ev)),n=hr(hr([],n),i)}return n}function _z(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[lz,I(I({},t),{listStyle:!0})]}function Cz(r,e){var t=r.listData,n=t.padding,i=t.task,a=_z(r),o=[Fe.apply(void 0,hr([e,kt(e,n)],a))];return i&&(o.push(Fe(kt(e,n),kt(e,n+3),hz)),o.push(Fe(kt(e,n+1),kt(e,n+2),Hc))),o.concat(oT(r.firstChild,Ev))}var Gb={heading:mz,strong:Hf,emph:Hf,strike:Hf,link:yz,image:gz,code:bz,codeBlock:wz,blockQuote:Tz,item:Cz,customBlock:kz},Kb={thematicBreak:dz,table:uz,tableCell:cz,htmlInline:pz};function Sz(r,e,t,n){var i=r.type;return Pr(Gb[i])?Gb[i](r,e,t,n):Kb[i]?[Fe(e,t,Kb[i])]:null}var ts={};function Oz(r){var e=r.schema,t=r.toastMark;return new mr({appendTransaction:function(n,i,a){var o=n[0],s=a.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(c){var f=c.nodes,d=c.removedNodeRange;if(f.length){l=l.concat(Nz(s,f));for(var h=0,p=f;h<p.length;h++)for(var v=p[h],m=v.walker(),g=m.next();g;){var b=g.node,k=g.entering;k&&(l=l.concat(Rz(b,t))),g=m.next()}}else if(d)for(var T=s.doc.childCount-1,x=d.line,w=x[0],_=x[1],C=Math.min(w,T),H=Math.min(_,T),V=C;V<=H;V+=1)ts[V]=!0}),Dz(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function Mz(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function Ez(r,e,t,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,c=a;c<=o;c+=1)delete ts[c],u=Mz(e,c,i);u&&r.setBlockType(s,l,t,i)}function Dz(r,e,t){var n=r.doc,i=e.nodes.paragraph,a=nT(n,n.childCount);t.forEach(function(o){var s=o.start,l=o.end,u=o.spec,c=o.lineBackground,f=Math.min(s[0],n.childCount)-1,d=Math.min(l[0],n.childCount)-1,h=n.child(f),p=n.child(d),v=a[f],m=a[d];if(v+=s[1]+Ya(h,s[1]-1),m+=l[1]+Ya(p,l[1]-1),u)if(c){var g={from:v,to:m,startIndex:f,endIndex:d};Ez(r,n,i,g,u.attrs)}else r.addMark(v,m,e.mark(u.type,u.attrs));else r.removeMark(v,m)}),Az(r,a,i)}function Az(r,e,t){Object.keys(ts).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,r.doc.childCount-1),o=e[i],s=e[a]-1;i===a&&(s+=2),r.setBlockType(o,s,t)})}function Pz(r,e,t){var n=[];ts={};for(var i=e[0]-1;i<t[0];i+=1){var a=r.child(i),o=a.attrs.codeEnd,s=a.attrs.codeStart;if(s&&o&&!Bt(n,s)){n.push(s),o=Math.min(o,r.childCount);for(var l=s-1,u=t[0],c=l;c<u;c+=1)ts[c]=!0}}}function Nz(r,e){var t=r.doc,n=e[0].sourcepos[0],i=Wt(e).sourcepos,a=i[1],o=[n[0],n[1]],s=[a[0],a[1]+1],l=[];return Pz(t,n,a),l.push({start:o,end:s}),l}function Rz(r,e){var t=e.getLineTexts(),n=[us(r),Ic(r)],i=[Lc(r),li(r)+1],a=Sz(r,n,i,t[i[0]-1]);return a!=null?a:[]}var Lz=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Iz(r){var e=r.type;return ta(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":Bt(Lz,e)?e:null}function $z(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return SF(r,function(n){var i=Iz(n);!i||(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function Bz(r){var e=r.toastMark,t=r.eventEmitter;return new mr({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,s=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(s))){var l=s.from,u=a.doc.resolve(l).start(),c=a.doc.content.findIndex(l).index+1,f=l-u;l===u&&(f+=1);var d=[c,f],h=e.findNodeAtPosition(d),p=$z(h);t.emit("changeToolbarState",{cursorPos:d,mdNode:h,toolbarState:p}),t.emit("setFocusedNode",h)}}}}})}var Hz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Ke),rt=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function xr(r,e){return hi(r,e-1)}function hi(r,e){return r.child(e).textContent}var Do=/^\s*> ?/,Fz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(Do,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema,u=gt(a),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,h=u.to,p=hi(o,d),v=Do.test(p);if(v&&h>c&&a.empty){var m=!p.replace(Do,"").trim();if(m)s.deleteRange(c,f).split(s.mapping.map(f));else{var g=p.slice(h-c).trim(),b=$t(l,t.createBlockQuoteText(g));xv(s,f,g,b)}return i(s),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var a=n.selection,o=n.doc,s=gt(a),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=Do.test(hi(o,c)),h=sc({state:n,startIndex:c,endIndex:f,from:l,createText:function(p){return t.createBlockQuoteText(p,d)}});return i(h.setSelection(tt(h,h.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(rt),ia=/(^\s*)([-*+] |[\d]+\. )/,Dv=/(^\s*)([\d])+\.( \[[ xX]])? /,Bn=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,uc=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,zz=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Vz=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,qz=/(^\s*)([-*+])( \[[ xX]]) /;function Av(r){return Dv.test(r)?"ordered":"bullet"}function Pv(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function Xh(r,e,t,n){for(var i=r.getLineTexts(),a=i.length,o=[],s=e;n?s<a:s>1;){s=n?s+1:s-1;var l=r.findFirstNodeAtLine(s),u=Pv(l);if(u===t)o.push({line:s,depth:t,mdNode:l});else if(u<t)break}return o}function Uz(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=Pv(t),a=Xh(e,n,i,!1).reverse(),o=Xh(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:t}]).concat(o)}function Wz(r){if(!ia.test(r))return"* "+r;var e=Av(r);return e==="bullet"&&uc.test(r)?r=r.replace(qz,"$1$2 "):e==="ordered"&&(r=r.replace(Dv,"$1* ")),r}function jz(r,e){if(!ia.test(r))return e+". "+r;var t=Av(r);if(t==="bullet"||t==="ordered"&&uc.test(r))r=r.replace(uc,"$1"+e+". ");else if(t==="ordered"){var n=Bn.exec(r)[3];Number(n)!==e&&(r=r.replace(Dv,"$1"+e+". "))}return r}function sT(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),a=Math.max(u-1,a);var c=xr(r,u);return c=t==="bullet"?Wz(c):jz(c,l+1+n),{text:c,line:u}});return{changedResults:o,firstIndex:i,lastIndex:a}}function Xb(r,e){var t=Uz(e);return sT(e.doc,t,r)}var Yz={bullet:function(r){return Xb("bullet",r)},ordered:function(r){return Xb("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=xr(t,n);return e.listData.task?i=i.replace(Vz,"$1$2"):ta(e)&&(i=i.replace(ia,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},Gz={bullet:function(r){var e=r.doc,t=r.line,n=xr(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,a=xr(t,n),o=1,s=i,l=0,u=i-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),f=xr(t,u),d=f&&!!Wa(c,function(k){return ta(k)}),h=Bn.exec(xr(t,u));if(!h&&!d)break;if(!h&&d){l+=1;continue}var p=h,v=p[1],m=p[3];if(!v){o=Number(m),s=u;break}}var g=o+n-s-l,b=[{text:g+". "+a,line:n}];return{changedResults:b}},task:function(r){var e=r.doc,t=r.line,n=xr(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},Kz={bullet:function(r){var e=r.line,t=r.doc,n=xr(t,e),i=zz.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,a=Pv(n),o=xr(i,t),s=Bn.exec(o),l=s[1],u=s[3],c=s[4],f=Number(u)+1,d=""+l+f+c,h=Xh(e,t,a,!0),p=h.filter(function(v){var m=Bn.exec(xr(i,v.line));return m&&m[1].length===l.length&&!!Wa(v.mdNode,function(g){return Lx(g)})});return I({listSyntax:d},sT(i,p,"ordered",f))}};function lT(r,e,t,n,i){for(var a=[],o=xr(r,t),s=Bn.exec(o);s;){var l=s[1],u=s[4],c=s[5],f=l.length;if(f===i)a.push($t(e,""+l+n+u+c)),n+=1,t+=1;else if(f>i){var d=lT(r,e,t,1,f);t=d.line,a=a.concat(d.nodes)}if(f<i||t>r.childCount)break;o=xr(r,t),s=Bn.exec(o)}return{nodes:a,line:t}}var Jb=/(^\s{1,4})(.*)/;function Qb(r,e,t){return r<e||ia.test(t)||Do.test(t)}function Zb(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function e0(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return tt(r,t,n)}var Xz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:wt(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,a=i.view,o=i.toastMark,s=i.schema,l=a.state,u=l.tr,c=l.selection,f=l.doc,d=o.findFirstNodeAtLine(t),h=d;d&&!_F(d)&&d.parent.type!=="document";)if(d=d.parent,Lx(d)){h=d;break}h&&(t=h.sourcepos[0][0]);var p=Bn.exec(xr(f,t)),v=p[1],m=p[3],g=v.length,b=lT(f,s,t,Number(m),g),k=b.line,T=b.nodes;n=Math.max(n,k-1);for(var x=lc(f,t-1).startOffset,w=t-1;w<=n-1;w+=1){var _=f.child(w),C=_.nodeSize,H=_.content,V=u.mapping.map(x),N=V+H.size;u.replaceWith(V,N,T[w-t+1]),x+=C}var U=tt(u,c.from,c.to);a.dispatch(u.setSelection(U))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.schema,s=i.selection,l=i.doc,u=gt(s),c=u.from,f=u.to,d=u.startFromOffset,h=u.startIndex,p=u.endIndex;if(t&&Zb(l,o,s))return!1;var v=hi(l,h);if(t&&Qb(c,f,v)||!t&&ia.test(v)){var m=sc({state:i,from:d,startIndex:h,endIndex:p,createText:function(b){return"    "+b}}),g={type:"indent",from:c,to:f,lineLen:p-h};a(m.setSelection(e0(m,g))),Bn.test(v)&&n.reorderList(h+1,p+1)}else t&&a(i.tr.insert(f,$t(o,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.selection,s=i.doc,l=i.schema,u=gt(o),c=u.from,f=u.to,d=u.startFromOffset,h=u.startIndex,p=u.endIndex;if(t&&Zb(s,l,o))return!1;var v=hi(s,h);if(t&&Qb(c,f,v)||!t&&ia.test(v)){var m=[],g=sc({state:i,from:d,startIndex:h,endIndex:p,createText:function(w){var _=Jb.exec(w);return m.push(_?_[1].length:0),w.replace(Jb,"$2")}}),b={type:"outdent",from:c,to:f,spaceLenList:m};a(g.setSelection(e0(g,b))),Bn.test(v)&&n.reorderList(h+1,p+1)}else if(t){var k=v.slice(0,f-d),T=k.replace(/\s{1,4}$/,""),x=f-(k.length-T.length);a(i.tr.delete(x,f))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var a=t.context.view,o=gt(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return i(n.tr.deleteRange(s,l)),!0};return Nc(u,kx)(n,i,a)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,a=t.tr,o=t.selection,s=t.schema,l=gt(o),u=l.startFromOffset,c=l.endToOffset,f=l.endIndex;if(f<i.content.childCount-1){var d=i.child(f+1),h=d.nodeSize,p=d.textContent;return a.delete(c,c+h).split(u).insert(a.mapping.map(u)-2,$t(s,p)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,a=t.doc,o=t.selection,s=t.schema,l=gt(o),u=l.startFromOffset,c=l.endToOffset,f=l.startIndex;if(f>0){var d=a.child(f-1),h=d.nodeSize,p=d.textContent;return i.delete(u-h,u).split(i.mapping.map(c)).insert(i.mapping.map(c),$t(s,p)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Ke),Jz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Ke),Qz=/^#{1,6}\s/,Zz=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:wt.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var a=n.replace(i,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+a},e.prototype.commands=function(){var t=this;return function(n){return function(i,a){var o=n.level,s=gt(i.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=sc({state:i,from:l,startIndex:c,endIndex:f,createText:function(h){var p=h.match(Qz),v=p?p[0]:"";return t.createHeadingText(o,h,v)}});return a(d.setSelection(tt(d,d.mapping.map(u)))),!0}}},e}(rt),Ff="```",e3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,s=gt(i),l=s.startFromOffset,u=s.endToOffset,c=$t(a,Ff);return o.insert(l,c).split(l+Ff.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),c),n(o.setSelection(tt(o,o.mapping.map(u)-(Ff.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=gt(a),f=c.startFromOffset,d=c.endToOffset,h=c.endIndex,p=c.from,v=c.to,m=hi(s,h);if(p===v&&m.trim()){var g=m.match(/^\s+/),b=u.findFirstNodeAtLine(h+1);if(TF(b)&&g){var k=g[0],T=m.slice(v-f),x=$t(l,k+T);return xv(o,d,T,x),i(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(rt),t3=/\||\s/g;function r3(r){return[cc(r),cc(r,!0)]}function n3(r,e){for(var t=[],n=0;n<e;n+=1)t.push(cc(r));return t}function cc(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function i3(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var a3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!a.empty)return!1;var u=gt(a),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,h=u.to,p=hi(o,d),v=[d+1,h-c+1],m=t.context.toastMark.findNodeAtPosition(v),g=Wa(m,function(w){return zb(w)&&(w.parent.type==="tableDelimRow"||w.parent.parent.type==="tableBody")});if(g){var b=!p.replace(t3,"").trim(),k=g.parent,T=k.parent.parent.columns.length,x=cc(T);return b?s.deleteRange(c,f).split(s.mapping.map(f)):s.split(f).insert(s.mapping.map(f),$t(l,x)).setSelection(tt(s,s.mapping.map(f)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=gt(o),u=l.endFromOffset,c=l.endIndex,f=l.to,d=[c+1,f-u],h=n.context.toastMark.findNodeAtPosition(d),p=Wa(h,function(_){return zb(_)});if(p){var v=p.parent,m=i3(t),g=m.type,b=m.parentType,k=m.childType,T=li(p);if(p[g])T=li(p[g])-1;else{var x=!v[g]&&v.parent.type===b?v.parent[g][k]:v[g];if(g==="next"){var w=x?li(x[k]):0;T+=w+2}else g==="prev"&&(T=x?-4:0)}return a(s.setSelection(tt(s,u+T))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=t,u=l.columnCount,c=l.rowCount,f=gt(a).endToOffset,d=r3(u),h=n3(u,c-1),p=hr(hr([],d),h);return p.forEach(function(v){o.split(o.mapping.map(f)).insert(o.mapping.map(f),$t(s,v))}),i(o.setSelection(tt(o,f+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(rt),o3="***",s3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,s=gt(i),l=s.from,u=s.to,c=s.endToOffset,f=$t(a,o3);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),f).split(o.mapping.map(u)).setSelection(tt(o,o.mapping.map(c))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(rt);function l3(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var u3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,a=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),a&&(s+="|list-item-even"),["span",{class:wt.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.schema,l=n.tr,u=t.context.toastMark,c=gt(a),f=c.to,d=c.startFromOffset,h=c.endFromOffset,p=c.endIndex,v=c.endToOffset,m=hi(o,p),g=ia.test(m);if(!g||a.from===d||!a.empty)return!1;var b=!m.replace(uc,"").trim();if(b)l.deleteRange(h,v).split(l.mapping.map(v));else{var k=Av(m),T=u.findFirstNodeAtLine(p+1),x=m.slice(f-h),w={toastMark:u,mdNode:T,doc:o,line:p+1},_=Kz[k](w),C=_.listSyntax,H=_.changedResults;if(H!=null&&H.length){l.split(f),H.unshift({text:C+x,line:p+1}),t.changeToListPerLine(l,H,{from:f,startLine:H[0].line,endLine:Wt(H).line});var V=l.mapping.map(v)-x.length;l.setSelection(tt(l,V))}else{var N=$t(s,C+x);xv(l,v,x,N)}}return i(l),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,a){for(var o=i.doc,s=i.tr,l=i.selection,u=n.context.toastMark,c=gt(l),f=c.startIndex+1,d=c.endIndex+1,h=c.endToOffset,p=[],v=f;v<=d;v+=1){var m=u.findFirstNodeAtLine(v);if(m&&l3(m,v))break;if(p.indexOf(v)===-1){var g={toastMark:u,mdNode:m,doc:o,line:v,startLine:f},b=(ta(m)?Yz[t](g):Gz[t](g)).changedResults,k=n.changeToListPerLine(s,b,{from:lc(o,b[0].line-1).startOffset,startLine:b[0].line,endLine:Wt(b).line,indexDiff:1});h=Math.max(k,h),b&&(p=p.concat(b.map(function(T){return T.line})))}}return a(s.setSelection(tt(s,s.mapping.map(h)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var a=i.from,o=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,c=0,f=function(p){var v=t.doc.child(p),m=v.nodeSize,g=v.content,b=t.mapping.map(a),k=b+g.size,T=n.filter(function(x){return x.line-u===p})[0];T&&(t.replaceWith(b,k,$t(d.context.schema,T.text)),c=Math.max(c,a+g.size)),a+=m},d=this,h=o-u;h<=s-u;h+=1)f(h);return c},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=gt(a),f=c.startIndex,d=c.endIndex,h=null,p=f;p<=d;p+=1){var v=u.findFirstNodeAtLine(p+1);if(ta(v)&&v.listData.task){var m=v.listData,g=m.checked,b=m.padding,k=g?" ":"x",T=v.sourcepos[0],x=lc(s,T[0]-1).startOffset;x+=T[1]+b,h=o.replaceWith(x,x+1,l.text(k))}}return h?(i(h),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(rt);function Fc(r,e){return function(){return function(t,n){var i=t.tr,a=t.selection,o=Pr(r)?r:function(k){return r.test(k)},s=e.length,l=i.doc,u=rT(a),c=u[0],f=u[1],d=Math.max(c-s,1),h=Math.min(f+s,l.content.size-1),p=a.content(),v=p.content.textBetween(0,p.content.size,`
`),m=l.textBetween(d,c,`
`),g=l.textBetween(f,h,`
`);if(v=""+m+v+g,m&&g&&o(v))i.delete(h-s,h).delete(d,d+s);else{i.insertText(e,f).insertText(e,c);var b=a.empty?tt(i,c+s):tt(i,c+s,f+s);i.setSelection(b)}return n(i),!0}}}var c3=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,f3="**",d3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Fc(c3,f3)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(rt),h3=/^(~{2}).*([\s\S]*)\1$/m,p3="~~",v3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Fc(h3,p3)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(rt),m3=/^(\*|_).*([\s\S]*)\1$/m,g3="*",y3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Fc(m3,g3)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(rt),b3=/^(`).*([\s\S]*)\1$/m,w3="`",k3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,a=n.end,o=n.marked,s="code";return i&&(s+="|delimiter|start"),a&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:wt.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Fc(b3,w3)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(rt),x3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:wt.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,a){var o=i.selection,s=i.tr,l=i.schema,u=rT(o),c=u[0],f=u[1],d=n,h=d.linkText,p=d.altText,v=d.linkUrl,m=d.imageUrl,g=h,b=v,k="";return t==="image"&&(g=p,b=m,k="!"),g=ic(g),k+="["+g+"]("+b+")",a(s.replaceWith(c,f,$t(l,k))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(rt),T3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(rt),_3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(rt),C3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("meta")},0]}}},enumerable:!1,configurable:!0}),e}(rt),S3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(rt),O3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(rt),M3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("html")},0]}}},enumerable:!1,configurable:!0}),e}(rt),zf="$$",E3=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:wt("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=gt(a),u=l.startFromOffset,c=l.endToOffset;if(!(t!=null&&t.info))return!1;var f=""+zf+t.info,d=$t(o,f),h=$t(o,zf);return s.insert(u,d).split(u+f.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),h),i(s.setSelection(tt(s,s.mapping.map(c)-(zf.length+2)))),!0}}},e}(rt),D3=/x|backspace/i,A3=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function P3(r){var e=r.schema,t=r.toastMark;return new mr({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&D3.test(i.key)){var c=gt(u),f=c.startIndex,d=c.startFromOffset,h=c.from,p=[f+1,h-d+1],v=t.findNodeAtPosition(p),m=Wa(v,function(N){var U;return N.type==="paragraph"&&((U=N.parent)===null||U===void 0?void 0:U.type)==="item"});if(!((a=m==null?void 0:m.firstChild)===null||a===void 0)&&a.literal){var g=m.firstChild,b=g.literal.match(A3);if(b){var k=g.sourcepos[0],T=b[1],x=b[2],w=b[3],_=T.length+w.length,C=lc(s,k[0]-1).startOffset,H=k[1]+C;if(x){var V=_?_+1:0;l.replaceWith(H,V+H,e.text(x)),n.dispatch(l)}else _||(l.insertText(" ",H),n.dispatch(l))}}}return!1}}}})}var Vf="cut",t0=/\r\n|\n|\r/,N3=function(r){ee(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(I(I({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(c){return i.toggleActive(!0,c)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){_v(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=ie("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=yn(a).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=Jx(a);s&&(n.preventDefault(),Mv(t.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new tT([new Hz,new Xz,new Zx,new Jz,new Zz,new Fz,new e3,new E3,new a3,new O3,new s3,new u3,new d3,new v3,new y3,new k3,new x3,new _3,new T3,new S3,new C3,new M3])},e.prototype.createPlugins=function(){return hr([Oz(this.context),Bz(this.context),P3(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new lv(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,Vf)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:Qx}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var s=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===Vf&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Vf)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof Tt)){var o=t.docs[a],s=[i.from,i.to],l=s[0],u=s[1],c=Bl(o,l,u),f=c[0],d=c[1],h=n.getChanged(i.slice);f[0]===d[0]&&f[1]===d[1]&&h===""&&(h=`
`);var p=n.toastMark.editMarkdown(f,d,h);n.eventEmitter.emit("updatePreview",p),t.setMeta("editResult",p).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(o,s){o.isText?n+=o.text.slice(Math.max(i,s)-s,a-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=Pi(i.doc,t,n),o=a[0],s=a[1];this.view.dispatch(i.setSelection(tt(i,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var a,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,c=t.split(t0),f=c.map(function(m){return oc(l,Wi(m,l))}),d=new Z(j.from(f),1,1);if(this.focus(),n&&i){var h=Pi(u,n,i),p=h[0],v=h[1];a=s.replaceRange(p,v,d)}else a=s.replaceSelection(d);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,a=this.view.state,o=a.tr,s=a.doc;if(t&&n){var l=Pi(s,t,n),u=l[0],c=l[1];i=o.deleteRange(u,c)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;if(t&&n){var u=Pi(a,t,n);s=u[0],l=u[1]}return a.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return Bl(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(t0),a=this.view.state,o=a.tr,s=a.doc,l=a.schema,u=i.map(function(c){return oc(l,Wi(c,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.doc,l=a.selection,u=i?Pi(s,i,i)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=a.doc,u=Pi(l,t,n),c=Wi(i,s);this.view.dispatch(o.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t||Bl(i,a.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return $c(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(eT),r0="_feEventKey";function R3(r,e){var t=r[r0],n;return t||(t=r[r0]={}),n=t[e],n||(n=t[e]=[]),n}var uT=R3,L3=zn,fc=Rc,I3=uT;function $3(r,e,t){if(L3(e)){fc(e.split(/\s+/g),function(n){n0(r,n,t)});return}fc(e,function(n,i){n0(r,i,n)})}function n0(r,e,t){var n=I3(r,e),i;t?(fc(n,function(a,o){return t===a.handler?(i0(r,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(fc(n,function(a){i0(r,e,a.wrappedHandler)}),n.splice(0,n.length))}function i0(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var cT=$3,B3=zn,Jh=Rc,H3=uT;function F3(r,e,t,n){if(B3(e)){Jh(e.split(/\s+/g),function(i){a0(r,i,t,n)});return}Jh(e,function(i,a){a0(r,a,i,t)})}function a0(r,e,t,n){function i(a){t.call(n||r,a||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),z3(r,e,t,i)}function z3(r,e,t,n){var i=H3(r,e),a=!1;Jh(i,function(o){return o.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:n})}var fT=F3;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qh=function(r,e){return Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Qh(r,e)};function Nr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var At=function(){return At=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},At.apply(this,arguments)};function Zh(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o0={};function V3(r){var e,t,n=o0[r];if(n)return n;for(n=o0[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function zc(r,e,t){var n,i,a,o,s,l="";for(typeof e!="string"&&(t=e,e=zc.defaultChars),typeof t>"u"&&(t=!0),s=V3(e),n=0,i=r.length;n<i;n++){if(a=r.charCodeAt(n),t&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){l+=r.slice(n,n+3),n+=2;continue}if(a<128){l+=s[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=r.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(r[n]+r[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(r[n])}return l}zc.defaultChars=";/?:@&=+$,-_.!~*'()#";zc.componentChars="-_.!~*'()";var q3=zc,Nv={},Hn={},U3="\xC1",W3="\xE1",j3="\u0102",Y3="\u0103",G3="\u223E",K3="\u223F",X3="\u223E\u0333",J3="\xC2",Q3="\xE2",Z3="\xB4",eV="\u0410",tV="\u0430",rV="\xC6",nV="\xE6",iV="\u2061",aV="\u{1D504}",oV="\u{1D51E}",sV="\xC0",lV="\xE0",uV="\u2135",cV="\u2135",fV="\u0391",dV="\u03B1",hV="\u0100",pV="\u0101",vV="\u2A3F",mV="&",gV="&",yV="\u2A55",bV="\u2A53",wV="\u2227",kV="\u2A5C",xV="\u2A58",TV="\u2A5A",_V="\u2220",CV="\u29A4",SV="\u2220",OV="\u29A8",MV="\u29A9",EV="\u29AA",DV="\u29AB",AV="\u29AC",PV="\u29AD",NV="\u29AE",RV="\u29AF",LV="\u2221",IV="\u221F",$V="\u22BE",BV="\u299D",HV="\u2222",FV="\xC5",zV="\u237C",VV="\u0104",qV="\u0105",UV="\u{1D538}",WV="\u{1D552}",jV="\u2A6F",YV="\u2248",GV="\u2A70",KV="\u224A",XV="\u224B",JV="'",QV="\u2061",ZV="\u2248",eq="\u224A",tq="\xC5",rq="\xE5",nq="\u{1D49C}",iq="\u{1D4B6}",aq="\u2254",oq="*",sq="\u2248",lq="\u224D",uq="\xC3",cq="\xE3",fq="\xC4",dq="\xE4",hq="\u2233",pq="\u2A11",vq="\u224C",mq="\u03F6",gq="\u2035",yq="\u223D",bq="\u22CD",wq="\u2216",kq="\u2AE7",xq="\u22BD",Tq="\u2305",_q="\u2306",Cq="\u2305",Sq="\u23B5",Oq="\u23B6",Mq="\u224C",Eq="\u0411",Dq="\u0431",Aq="\u201E",Pq="\u2235",Nq="\u2235",Rq="\u2235",Lq="\u29B0",Iq="\u03F6",$q="\u212C",Bq="\u212C",Hq="\u0392",Fq="\u03B2",zq="\u2136",Vq="\u226C",qq="\u{1D505}",Uq="\u{1D51F}",Wq="\u22C2",jq="\u25EF",Yq="\u22C3",Gq="\u2A00",Kq="\u2A01",Xq="\u2A02",Jq="\u2A06",Qq="\u2605",Zq="\u25BD",eU="\u25B3",tU="\u2A04",rU="\u22C1",nU="\u22C0",iU="\u290D",aU="\u29EB",oU="\u25AA",sU="\u25B4",lU="\u25BE",uU="\u25C2",cU="\u25B8",fU="\u2423",dU="\u2592",hU="\u2591",pU="\u2593",vU="\u2588",mU="=\u20E5",gU="\u2261\u20E5",yU="\u2AED",bU="\u2310",wU="\u{1D539}",kU="\u{1D553}",xU="\u22A5",TU="\u22A5",_U="\u22C8",CU="\u29C9",SU="\u2510",OU="\u2555",MU="\u2556",EU="\u2557",DU="\u250C",AU="\u2552",PU="\u2553",NU="\u2554",RU="\u2500",LU="\u2550",IU="\u252C",$U="\u2564",BU="\u2565",HU="\u2566",FU="\u2534",zU="\u2567",VU="\u2568",qU="\u2569",UU="\u229F",WU="\u229E",jU="\u22A0",YU="\u2518",GU="\u255B",KU="\u255C",XU="\u255D",JU="\u2514",QU="\u2558",ZU="\u2559",eW="\u255A",tW="\u2502",rW="\u2551",nW="\u253C",iW="\u256A",aW="\u256B",oW="\u256C",sW="\u2524",lW="\u2561",uW="\u2562",cW="\u2563",fW="\u251C",dW="\u255E",hW="\u255F",pW="\u2560",vW="\u2035",mW="\u02D8",gW="\u02D8",yW="\xA6",bW="\u{1D4B7}",wW="\u212C",kW="\u204F",xW="\u223D",TW="\u22CD",_W="\u29C5",CW="\\",SW="\u27C8",OW="\u2022",MW="\u2022",EW="\u224E",DW="\u2AAE",AW="\u224F",PW="\u224E",NW="\u224F",RW="\u0106",LW="\u0107",IW="\u2A44",$W="\u2A49",BW="\u2A4B",HW="\u2229",FW="\u22D2",zW="\u2A47",VW="\u2A40",qW="\u2145",UW="\u2229\uFE00",WW="\u2041",jW="\u02C7",YW="\u212D",GW="\u2A4D",KW="\u010C",XW="\u010D",JW="\xC7",QW="\xE7",ZW="\u0108",e5="\u0109",t5="\u2230",r5="\u2A4C",n5="\u2A50",i5="\u010A",a5="\u010B",o5="\xB8",s5="\xB8",l5="\u29B2",u5="\xA2",c5="\xB7",f5="\xB7",d5="\u{1D520}",h5="\u212D",p5="\u0427",v5="\u0447",m5="\u2713",g5="\u2713",y5="\u03A7",b5="\u03C7",w5="\u02C6",k5="\u2257",x5="\u21BA",T5="\u21BB",_5="\u229B",C5="\u229A",S5="\u229D",O5="\u2299",M5="\xAE",E5="\u24C8",D5="\u2296",A5="\u2295",P5="\u2297",N5="\u25CB",R5="\u29C3",L5="\u2257",I5="\u2A10",$5="\u2AEF",B5="\u29C2",H5="\u2232",F5="\u201D",z5="\u2019",V5="\u2663",q5="\u2663",U5=":",W5="\u2237",j5="\u2A74",Y5="\u2254",G5="\u2254",K5=",",X5="@",J5="\u2201",Q5="\u2218",Z5="\u2201",ej="\u2102",tj="\u2245",rj="\u2A6D",nj="\u2261",ij="\u222E",aj="\u222F",oj="\u222E",sj="\u{1D554}",lj="\u2102",uj="\u2210",cj="\u2210",fj="\xA9",dj="\xA9",hj="\u2117",pj="\u2233",vj="\u21B5",mj="\u2717",gj="\u2A2F",yj="\u{1D49E}",bj="\u{1D4B8}",wj="\u2ACF",kj="\u2AD1",xj="\u2AD0",Tj="\u2AD2",_j="\u22EF",Cj="\u2938",Sj="\u2935",Oj="\u22DE",Mj="\u22DF",Ej="\u21B6",Dj="\u293D",Aj="\u2A48",Pj="\u2A46",Nj="\u224D",Rj="\u222A",Lj="\u22D3",Ij="\u2A4A",$j="\u228D",Bj="\u2A45",Hj="\u222A\uFE00",Fj="\u21B7",zj="\u293C",Vj="\u22DE",qj="\u22DF",Uj="\u22CE",Wj="\u22CF",jj="\xA4",Yj="\u21B6",Gj="\u21B7",Kj="\u22CE",Xj="\u22CF",Jj="\u2232",Qj="\u2231",Zj="\u232D",e6="\u2020",t6="\u2021",r6="\u2138",n6="\u2193",i6="\u21A1",a6="\u21D3",o6="\u2010",s6="\u2AE4",l6="\u22A3",u6="\u290F",c6="\u02DD",f6="\u010E",d6="\u010F",h6="\u0414",p6="\u0434",v6="\u2021",m6="\u21CA",g6="\u2145",y6="\u2146",b6="\u2911",w6="\u2A77",k6="\xB0",x6="\u2207",T6="\u0394",_6="\u03B4",C6="\u29B1",S6="\u297F",O6="\u{1D507}",M6="\u{1D521}",E6="\u2965",D6="\u21C3",A6="\u21C2",P6="\xB4",N6="\u02D9",R6="\u02DD",L6="`",I6="\u02DC",$6="\u22C4",B6="\u22C4",H6="\u22C4",F6="\u2666",z6="\u2666",V6="\xA8",q6="\u2146",U6="\u03DD",W6="\u22F2",j6="\xF7",Y6="\xF7",G6="\u22C7",K6="\u22C7",X6="\u0402",J6="\u0452",Q6="\u231E",Z6="\u230D",e4="$",t4="\u{1D53B}",r4="\u{1D555}",n4="\xA8",i4="\u02D9",a4="\u20DC",o4="\u2250",s4="\u2251",l4="\u2250",u4="\u2238",c4="\u2214",f4="\u22A1",d4="\u2306",h4="\u222F",p4="\xA8",v4="\u21D3",m4="\u21D0",g4="\u21D4",y4="\u2AE4",b4="\u27F8",w4="\u27FA",k4="\u27F9",x4="\u21D2",T4="\u22A8",_4="\u21D1",C4="\u21D5",S4="\u2225",O4="\u2913",M4="\u2193",E4="\u2193",D4="\u21D3",A4="\u21F5",P4="\u0311",N4="\u21CA",R4="\u21C3",L4="\u21C2",I4="\u2950",$4="\u295E",B4="\u2956",H4="\u21BD",F4="\u295F",z4="\u2957",V4="\u21C1",q4="\u21A7",U4="\u22A4",W4="\u2910",j4="\u231F",Y4="\u230C",G4="\u{1D49F}",K4="\u{1D4B9}",X4="\u0405",J4="\u0455",Q4="\u29F6",Z4="\u0110",eY="\u0111",tY="\u22F1",rY="\u25BF",nY="\u25BE",iY="\u21F5",aY="\u296F",oY="\u29A6",sY="\u040F",lY="\u045F",uY="\u27FF",cY="\xC9",fY="\xE9",dY="\u2A6E",hY="\u011A",pY="\u011B",vY="\xCA",mY="\xEA",gY="\u2256",yY="\u2255",bY="\u042D",wY="\u044D",kY="\u2A77",xY="\u0116",TY="\u0117",_Y="\u2251",CY="\u2147",SY="\u2252",OY="\u{1D508}",MY="\u{1D522}",EY="\u2A9A",DY="\xC8",AY="\xE8",PY="\u2A96",NY="\u2A98",RY="\u2A99",LY="\u2208",IY="\u23E7",$Y="\u2113",BY="\u2A95",HY="\u2A97",FY="\u0112",zY="\u0113",VY="\u2205",qY="\u2205",UY="\u25FB",WY="\u2205",jY="\u25AB",YY="\u2004",GY="\u2005",KY="\u2003",XY="\u014A",JY="\u014B",QY="\u2002",ZY="\u0118",e8="\u0119",t8="\u{1D53C}",r8="\u{1D556}",n8="\u22D5",i8="\u29E3",a8="\u2A71",o8="\u03B5",s8="\u0395",l8="\u03B5",u8="\u03F5",c8="\u2256",f8="\u2255",d8="\u2242",h8="\u2A96",p8="\u2A95",v8="\u2A75",m8="=",g8="\u2242",y8="\u225F",b8="\u21CC",w8="\u2261",k8="\u2A78",x8="\u29E5",T8="\u2971",_8="\u2253",C8="\u212F",S8="\u2130",O8="\u2250",M8="\u2A73",E8="\u2242",D8="\u0397",A8="\u03B7",P8="\xD0",N8="\xF0",R8="\xCB",L8="\xEB",I8="\u20AC",$8="!",B8="\u2203",H8="\u2203",F8="\u2130",z8="\u2147",V8="\u2147",q8="\u2252",U8="\u0424",W8="\u0444",j8="\u2640",Y8="\uFB03",G8="\uFB00",K8="\uFB04",X8="\u{1D509}",J8="\u{1D523}",Q8="\uFB01",Z8="\u25FC",e7="\u25AA",t7="fj",r7="\u266D",n7="\uFB02",i7="\u25B1",a7="\u0192",o7="\u{1D53D}",s7="\u{1D557}",l7="\u2200",u7="\u2200",c7="\u22D4",f7="\u2AD9",d7="\u2131",h7="\u2A0D",p7="\xBD",v7="\u2153",m7="\xBC",g7="\u2155",y7="\u2159",b7="\u215B",w7="\u2154",k7="\u2156",x7="\xBE",T7="\u2157",_7="\u215C",C7="\u2158",S7="\u215A",O7="\u215D",M7="\u215E",E7="\u2044",D7="\u2322",A7="\u{1D4BB}",P7="\u2131",N7="\u01F5",R7="\u0393",L7="\u03B3",I7="\u03DC",$7="\u03DD",B7="\u2A86",H7="\u011E",F7="\u011F",z7="\u0122",V7="\u011C",q7="\u011D",U7="\u0413",W7="\u0433",j7="\u0120",Y7="\u0121",G7="\u2265",K7="\u2267",X7="\u2A8C",J7="\u22DB",Q7="\u2265",Z7="\u2267",eG="\u2A7E",tG="\u2AA9",rG="\u2A7E",nG="\u2A80",iG="\u2A82",aG="\u2A84",oG="\u22DB\uFE00",sG="\u2A94",lG="\u{1D50A}",uG="\u{1D524}",cG="\u226B",fG="\u22D9",dG="\u22D9",hG="\u2137",pG="\u0403",vG="\u0453",mG="\u2AA5",gG="\u2277",yG="\u2A92",bG="\u2AA4",wG="\u2A8A",kG="\u2A8A",xG="\u2A88",TG="\u2269",_G="\u2A88",CG="\u2269",SG="\u22E7",OG="\u{1D53E}",MG="\u{1D558}",EG="`",DG="\u2265",AG="\u22DB",PG="\u2267",NG="\u2AA2",RG="\u2277",LG="\u2A7E",IG="\u2273",$G="\u{1D4A2}",BG="\u210A",HG="\u2273",FG="\u2A8E",zG="\u2A90",VG="\u2AA7",qG="\u2A7A",UG=">",WG=">",jG="\u226B",YG="\u22D7",GG="\u2995",KG="\u2A7C",XG="\u2A86",JG="\u2978",QG="\u22D7",ZG="\u22DB",e9="\u2A8C",t9="\u2277",r9="\u2273",n9="\u2269\uFE00",i9="\u2269\uFE00",a9="\u02C7",o9="\u200A",s9="\xBD",l9="\u210B",u9="\u042A",c9="\u044A",f9="\u2948",d9="\u2194",h9="\u21D4",p9="\u21AD",v9="^",m9="\u210F",g9="\u0124",y9="\u0125",b9="\u2665",w9="\u2665",k9="\u2026",x9="\u22B9",T9="\u{1D525}",_9="\u210C",C9="\u210B",S9="\u2925",O9="\u2926",M9="\u21FF",E9="\u223B",D9="\u21A9",A9="\u21AA",P9="\u{1D559}",N9="\u210D",R9="\u2015",L9="\u2500",I9="\u{1D4BD}",$9="\u210B",B9="\u210F",H9="\u0126",F9="\u0127",z9="\u224E",V9="\u224F",q9="\u2043",U9="\u2010",W9="\xCD",j9="\xED",Y9="\u2063",G9="\xCE",K9="\xEE",X9="\u0418",J9="\u0438",Q9="\u0130",Z9="\u0415",eK="\u0435",tK="\xA1",rK="\u21D4",nK="\u{1D526}",iK="\u2111",aK="\xCC",oK="\xEC",sK="\u2148",lK="\u2A0C",uK="\u222D",cK="\u29DC",fK="\u2129",dK="\u0132",hK="\u0133",pK="\u012A",vK="\u012B",mK="\u2111",gK="\u2148",yK="\u2110",bK="\u2111",wK="\u0131",kK="\u2111",xK="\u22B7",TK="\u01B5",_K="\u21D2",CK="\u2105",SK="\u221E",OK="\u29DD",MK="\u0131",EK="\u22BA",DK="\u222B",AK="\u222C",PK="\u2124",NK="\u222B",RK="\u22BA",LK="\u22C2",IK="\u2A17",$K="\u2A3C",BK="\u2063",HK="\u2062",FK="\u0401",zK="\u0451",VK="\u012E",qK="\u012F",UK="\u{1D540}",WK="\u{1D55A}",jK="\u0399",YK="\u03B9",GK="\u2A3C",KK="\xBF",XK="\u{1D4BE}",JK="\u2110",QK="\u2208",ZK="\u22F5",eX="\u22F9",tX="\u22F4",rX="\u22F3",nX="\u2208",iX="\u2062",aX="\u0128",oX="\u0129",sX="\u0406",lX="\u0456",uX="\xCF",cX="\xEF",fX="\u0134",dX="\u0135",hX="\u0419",pX="\u0439",vX="\u{1D50D}",mX="\u{1D527}",gX="\u0237",yX="\u{1D541}",bX="\u{1D55B}",wX="\u{1D4A5}",kX="\u{1D4BF}",xX="\u0408",TX="\u0458",_X="\u0404",CX="\u0454",SX="\u039A",OX="\u03BA",MX="\u03F0",EX="\u0136",DX="\u0137",AX="\u041A",PX="\u043A",NX="\u{1D50E}",RX="\u{1D528}",LX="\u0138",IX="\u0425",$X="\u0445",BX="\u040C",HX="\u045C",FX="\u{1D542}",zX="\u{1D55C}",VX="\u{1D4A6}",qX="\u{1D4C0}",UX="\u21DA",WX="\u0139",jX="\u013A",YX="\u29B4",GX="\u2112",KX="\u039B",XX="\u03BB",JX="\u27E8",QX="\u27EA",ZX="\u2991",eJ="\u27E8",tJ="\u2A85",rJ="\u2112",nJ="\xAB",iJ="\u21E4",aJ="\u291F",oJ="\u2190",sJ="\u219E",lJ="\u21D0",uJ="\u291D",cJ="\u21A9",fJ="\u21AB",dJ="\u2939",hJ="\u2973",pJ="\u21A2",vJ="\u2919",mJ="\u291B",gJ="\u2AAB",yJ="\u2AAD",bJ="\u2AAD\uFE00",wJ="\u290C",kJ="\u290E",xJ="\u2772",TJ="{",_J="[",CJ="\u298B",SJ="\u298F",OJ="\u298D",MJ="\u013D",EJ="\u013E",DJ="\u013B",AJ="\u013C",PJ="\u2308",NJ="{",RJ="\u041B",LJ="\u043B",IJ="\u2936",$J="\u201C",BJ="\u201E",HJ="\u2967",FJ="\u294B",zJ="\u21B2",VJ="\u2264",qJ="\u2266",UJ="\u27E8",WJ="\u21E4",jJ="\u2190",YJ="\u2190",GJ="\u21D0",KJ="\u21C6",XJ="\u21A2",JJ="\u2308",QJ="\u27E6",ZJ="\u2961",eQ="\u2959",tQ="\u21C3",rQ="\u230A",nQ="\u21BD",iQ="\u21BC",aQ="\u21C7",oQ="\u2194",sQ="\u2194",lQ="\u21D4",uQ="\u21C6",cQ="\u21CB",fQ="\u21AD",dQ="\u294E",hQ="\u21A4",pQ="\u22A3",vQ="\u295A",mQ="\u22CB",gQ="\u29CF",yQ="\u22B2",bQ="\u22B4",wQ="\u2951",kQ="\u2960",xQ="\u2958",TQ="\u21BF",_Q="\u2952",CQ="\u21BC",SQ="\u2A8B",OQ="\u22DA",MQ="\u2264",EQ="\u2266",DQ="\u2A7D",AQ="\u2AA8",PQ="\u2A7D",NQ="\u2A7F",RQ="\u2A81",LQ="\u2A83",IQ="\u22DA\uFE00",$Q="\u2A93",BQ="\u2A85",HQ="\u22D6",FQ="\u22DA",zQ="\u2A8B",VQ="\u22DA",qQ="\u2266",UQ="\u2276",WQ="\u2276",jQ="\u2AA1",YQ="\u2272",GQ="\u2A7D",KQ="\u2272",XQ="\u297C",JQ="\u230A",QQ="\u{1D50F}",ZQ="\u{1D529}",eZ="\u2276",tZ="\u2A91",rZ="\u2962",nZ="\u21BD",iZ="\u21BC",aZ="\u296A",oZ="\u2584",sZ="\u0409",lZ="\u0459",uZ="\u21C7",cZ="\u226A",fZ="\u22D8",dZ="\u231E",hZ="\u21DA",pZ="\u296B",vZ="\u25FA",mZ="\u013F",gZ="\u0140",yZ="\u23B0",bZ="\u23B0",wZ="\u2A89",kZ="\u2A89",xZ="\u2A87",TZ="\u2268",_Z="\u2A87",CZ="\u2268",SZ="\u22E6",OZ="\u27EC",MZ="\u21FD",EZ="\u27E6",DZ="\u27F5",AZ="\u27F5",PZ="\u27F8",NZ="\u27F7",RZ="\u27F7",LZ="\u27FA",IZ="\u27FC",$Z="\u27F6",BZ="\u27F6",HZ="\u27F9",FZ="\u21AB",zZ="\u21AC",VZ="\u2985",qZ="\u{1D543}",UZ="\u{1D55D}",WZ="\u2A2D",jZ="\u2A34",YZ="\u2217",GZ="_",KZ="\u2199",XZ="\u2198",JZ="\u25CA",QZ="\u25CA",ZZ="\u29EB",eee="(",tee="\u2993",ree="\u21C6",nee="\u231F",iee="\u21CB",aee="\u296D",oee="\u200E",see="\u22BF",lee="\u2039",uee="\u{1D4C1}",cee="\u2112",fee="\u21B0",dee="\u21B0",hee="\u2272",pee="\u2A8D",vee="\u2A8F",mee="[",gee="\u2018",yee="\u201A",bee="\u0141",wee="\u0142",kee="\u2AA6",xee="\u2A79",Tee="<",_ee="<",Cee="\u226A",See="\u22D6",Oee="\u22CB",Mee="\u22C9",Eee="\u2976",Dee="\u2A7B",Aee="\u25C3",Pee="\u22B4",Nee="\u25C2",Ree="\u2996",Lee="\u294A",Iee="\u2966",$ee="\u2268\uFE00",Bee="\u2268\uFE00",Hee="\xAF",Fee="\u2642",zee="\u2720",Vee="\u2720",qee="\u21A6",Uee="\u21A6",Wee="\u21A7",jee="\u21A4",Yee="\u21A5",Gee="\u25AE",Kee="\u2A29",Xee="\u041C",Jee="\u043C",Qee="\u2014",Zee="\u223A",ete="\u2221",tte="\u205F",rte="\u2133",nte="\u{1D510}",ite="\u{1D52A}",ate="\u2127",ote="\xB5",ste="*",lte="\u2AF0",ute="\u2223",cte="\xB7",fte="\u229F",dte="\u2212",hte="\u2238",pte="\u2A2A",vte="\u2213",mte="\u2ADB",gte="\u2026",yte="\u2213",bte="\u22A7",wte="\u{1D544}",kte="\u{1D55E}",xte="\u2213",Tte="\u{1D4C2}",_te="\u2133",Cte="\u223E",Ste="\u039C",Ote="\u03BC",Mte="\u22B8",Ete="\u22B8",Dte="\u2207",Ate="\u0143",Pte="\u0144",Nte="\u2220\u20D2",Rte="\u2249",Lte="\u2A70\u0338",Ite="\u224B\u0338",$te="\u0149",Bte="\u2249",Hte="\u266E",Fte="\u2115",zte="\u266E",Vte="\xA0",qte="\u224E\u0338",Ute="\u224F\u0338",Wte="\u2A43",jte="\u0147",Yte="\u0148",Gte="\u0145",Kte="\u0146",Xte="\u2247",Jte="\u2A6D\u0338",Qte="\u2A42",Zte="\u041D",ere="\u043D",tre="\u2013",rre="\u2924",nre="\u2197",ire="\u21D7",are="\u2197",ore="\u2260",sre="\u2250\u0338",lre="\u200B",ure="\u200B",cre="\u200B",fre="\u200B",dre="\u2262",hre="\u2928",pre="\u2242\u0338",vre="\u226B",mre="\u226A",gre=`
`,yre="\u2204",bre="\u2204",wre="\u{1D511}",kre="\u{1D52B}",xre="\u2267\u0338",Tre="\u2271",_re="\u2271",Cre="\u2267\u0338",Sre="\u2A7E\u0338",Ore="\u2A7E\u0338",Mre="\u22D9\u0338",Ere="\u2275",Dre="\u226B\u20D2",Are="\u226F",Pre="\u226F",Nre="\u226B\u0338",Rre="\u21AE",Lre="\u21CE",Ire="\u2AF2",$re="\u220B",Bre="\u22FC",Hre="\u22FA",Fre="\u220B",zre="\u040A",Vre="\u045A",qre="\u219A",Ure="\u21CD",Wre="\u2025",jre="\u2266\u0338",Yre="\u2270",Gre="\u219A",Kre="\u21CD",Xre="\u21AE",Jre="\u21CE",Qre="\u2270",Zre="\u2266\u0338",ene="\u2A7D\u0338",tne="\u2A7D\u0338",rne="\u226E",nne="\u22D8\u0338",ine="\u2274",ane="\u226A\u20D2",one="\u226E",sne="\u22EA",lne="\u22EC",une="\u226A\u0338",cne="\u2224",fne="\u2060",dne="\xA0",hne="\u{1D55F}",pne="\u2115",vne="\u2AEC",mne="\xAC",gne="\u2262",yne="\u226D",bne="\u2226",wne="\u2209",kne="\u2260",xne="\u2242\u0338",Tne="\u2204",_ne="\u226F",Cne="\u2271",Sne="\u2267\u0338",One="\u226B\u0338",Mne="\u2279",Ene="\u2A7E\u0338",Dne="\u2275",Ane="\u224E\u0338",Pne="\u224F\u0338",Nne="\u2209",Rne="\u22F5\u0338",Lne="\u22F9\u0338",Ine="\u2209",$ne="\u22F7",Bne="\u22F6",Hne="\u29CF\u0338",Fne="\u22EA",zne="\u22EC",Vne="\u226E",qne="\u2270",Une="\u2278",Wne="\u226A\u0338",jne="\u2A7D\u0338",Yne="\u2274",Gne="\u2AA2\u0338",Kne="\u2AA1\u0338",Xne="\u220C",Jne="\u220C",Qne="\u22FE",Zne="\u22FD",eie="\u2280",tie="\u2AAF\u0338",rie="\u22E0",nie="\u220C",iie="\u29D0\u0338",aie="\u22EB",oie="\u22ED",sie="\u228F\u0338",lie="\u22E2",uie="\u2290\u0338",cie="\u22E3",fie="\u2282\u20D2",die="\u2288",hie="\u2281",pie="\u2AB0\u0338",vie="\u22E1",mie="\u227F\u0338",gie="\u2283\u20D2",yie="\u2289",bie="\u2241",wie="\u2244",kie="\u2247",xie="\u2249",Tie="\u2224",_ie="\u2226",Cie="\u2226",Sie="\u2AFD\u20E5",Oie="\u2202\u0338",Mie="\u2A14",Eie="\u2280",Die="\u22E0",Aie="\u2280",Pie="\u2AAF\u0338",Nie="\u2AAF\u0338",Rie="\u2933\u0338",Lie="\u219B",Iie="\u21CF",$ie="\u219D\u0338",Bie="\u219B",Hie="\u21CF",Fie="\u22EB",zie="\u22ED",Vie="\u2281",qie="\u22E1",Uie="\u2AB0\u0338",Wie="\u{1D4A9}",jie="\u{1D4C3}",Yie="\u2224",Gie="\u2226",Kie="\u2241",Xie="\u2244",Jie="\u2244",Qie="\u2224",Zie="\u2226",eae="\u22E2",tae="\u22E3",rae="\u2284",nae="\u2AC5\u0338",iae="\u2288",aae="\u2282\u20D2",oae="\u2288",sae="\u2AC5\u0338",lae="\u2281",uae="\u2AB0\u0338",cae="\u2285",fae="\u2AC6\u0338",dae="\u2289",hae="\u2283\u20D2",pae="\u2289",vae="\u2AC6\u0338",mae="\u2279",gae="\xD1",yae="\xF1",bae="\u2278",wae="\u22EA",kae="\u22EC",xae="\u22EB",Tae="\u22ED",_ae="\u039D",Cae="\u03BD",Sae="#",Oae="\u2116",Mae="\u2007",Eae="\u224D\u20D2",Dae="\u22AC",Aae="\u22AD",Pae="\u22AE",Nae="\u22AF",Rae="\u2265\u20D2",Lae=">\u20D2",Iae="\u2904",$ae="\u29DE",Bae="\u2902",Hae="\u2264\u20D2",Fae="<\u20D2",zae="\u22B4\u20D2",Vae="\u2903",qae="\u22B5\u20D2",Uae="\u223C\u20D2",Wae="\u2923",jae="\u2196",Yae="\u21D6",Gae="\u2196",Kae="\u2927",Xae="\xD3",Jae="\xF3",Qae="\u229B",Zae="\xD4",eoe="\xF4",toe="\u229A",roe="\u041E",noe="\u043E",ioe="\u229D",aoe="\u0150",ooe="\u0151",soe="\u2A38",loe="\u2299",uoe="\u29BC",coe="\u0152",foe="\u0153",doe="\u29BF",hoe="\u{1D512}",poe="\u{1D52C}",voe="\u02DB",moe="\xD2",goe="\xF2",yoe="\u29C1",boe="\u29B5",woe="\u03A9",koe="\u222E",xoe="\u21BA",Toe="\u29BE",_oe="\u29BB",Coe="\u203E",Soe="\u29C0",Ooe="\u014C",Moe="\u014D",Eoe="\u03A9",Doe="\u03C9",Aoe="\u039F",Poe="\u03BF",Noe="\u29B6",Roe="\u2296",Loe="\u{1D546}",Ioe="\u{1D560}",$oe="\u29B7",Boe="\u201C",Hoe="\u2018",Foe="\u29B9",zoe="\u2295",Voe="\u21BB",qoe="\u2A54",Uoe="\u2228",Woe="\u2A5D",joe="\u2134",Yoe="\u2134",Goe="\xAA",Koe="\xBA",Xoe="\u22B6",Joe="\u2A56",Qoe="\u2A57",Zoe="\u2A5B",ese="\u24C8",tse="\u{1D4AA}",rse="\u2134",nse="\xD8",ise="\xF8",ase="\u2298",ose="\xD5",sse="\xF5",lse="\u2A36",use="\u2A37",cse="\u2297",fse="\xD6",dse="\xF6",hse="\u233D",pse="\u203E",vse="\u23DE",mse="\u23B4",gse="\u23DC",yse="\xB6",bse="\u2225",wse="\u2225",kse="\u2AF3",xse="\u2AFD",Tse="\u2202",_se="\u2202",Cse="\u041F",Sse="\u043F",Ose="%",Mse=".",Ese="\u2030",Dse="\u22A5",Ase="\u2031",Pse="\u{1D513}",Nse="\u{1D52D}",Rse="\u03A6",Lse="\u03C6",Ise="\u03D5",$se="\u2133",Bse="\u260E",Hse="\u03A0",Fse="\u03C0",zse="\u22D4",Vse="\u03D6",qse="\u210F",Use="\u210E",Wse="\u210F",jse="\u2A23",Yse="\u229E",Gse="\u2A22",Kse="+",Xse="\u2214",Jse="\u2A25",Qse="\u2A72",Zse="\xB1",ele="\xB1",tle="\u2A26",rle="\u2A27",nle="\xB1",ile="\u210C",ale="\u2A15",ole="\u{1D561}",sle="\u2119",lle="\xA3",ule="\u2AB7",cle="\u2ABB",fle="\u227A",dle="\u227C",hle="\u2AB7",ple="\u227A",vle="\u227C",mle="\u227A",gle="\u2AAF",yle="\u227C",ble="\u227E",wle="\u2AAF",kle="\u2AB9",xle="\u2AB5",Tle="\u22E8",_le="\u2AAF",Cle="\u2AB3",Sle="\u227E",Ole="\u2032",Mle="\u2033",Ele="\u2119",Dle="\u2AB9",Ale="\u2AB5",Ple="\u22E8",Nle="\u220F",Rle="\u220F",Lle="\u232E",Ile="\u2312",$le="\u2313",Ble="\u221D",Hle="\u221D",Fle="\u2237",zle="\u221D",Vle="\u227E",qle="\u22B0",Ule="\u{1D4AB}",Wle="\u{1D4C5}",jle="\u03A8",Yle="\u03C8",Gle="\u2008",Kle="\u{1D514}",Xle="\u{1D52E}",Jle="\u2A0C",Qle="\u{1D562}",Zle="\u211A",eue="\u2057",tue="\u{1D4AC}",rue="\u{1D4C6}",nue="\u210D",iue="\u2A16",aue="?",oue="\u225F",sue='"',lue='"',uue="\u21DB",cue="\u223D\u0331",fue="\u0154",due="\u0155",hue="\u221A",pue="\u29B3",vue="\u27E9",mue="\u27EB",gue="\u2992",yue="\u29A5",bue="\u27E9",wue="\xBB",kue="\u2975",xue="\u21E5",Tue="\u2920",_ue="\u2933",Cue="\u2192",Sue="\u21A0",Oue="\u21D2",Mue="\u291E",Eue="\u21AA",Due="\u21AC",Aue="\u2945",Pue="\u2974",Nue="\u2916",Rue="\u21A3",Lue="\u219D",Iue="\u291A",$ue="\u291C",Bue="\u2236",Hue="\u211A",Fue="\u290D",zue="\u290F",Vue="\u2910",que="\u2773",Uue="}",Wue="]",jue="\u298C",Yue="\u298E",Gue="\u2990",Kue="\u0158",Xue="\u0159",Jue="\u0156",Que="\u0157",Zue="\u2309",ece="}",tce="\u0420",rce="\u0440",nce="\u2937",ice="\u2969",ace="\u201D",oce="\u201D",sce="\u21B3",lce="\u211C",uce="\u211B",cce="\u211C",fce="\u211D",dce="\u211C",hce="\u25AD",pce="\xAE",vce="\xAE",mce="\u220B",gce="\u21CB",yce="\u296F",bce="\u297D",wce="\u230B",kce="\u{1D52F}",xce="\u211C",Tce="\u2964",_ce="\u21C1",Cce="\u21C0",Sce="\u296C",Oce="\u03A1",Mce="\u03C1",Ece="\u03F1",Dce="\u27E9",Ace="\u21E5",Pce="\u2192",Nce="\u2192",Rce="\u21D2",Lce="\u21C4",Ice="\u21A3",$ce="\u2309",Bce="\u27E7",Hce="\u295D",Fce="\u2955",zce="\u21C2",Vce="\u230B",qce="\u21C1",Uce="\u21C0",Wce="\u21C4",jce="\u21CC",Yce="\u21C9",Gce="\u219D",Kce="\u21A6",Xce="\u22A2",Jce="\u295B",Qce="\u22CC",Zce="\u29D0",efe="\u22B3",tfe="\u22B5",rfe="\u294F",nfe="\u295C",ife="\u2954",afe="\u21BE",ofe="\u2953",sfe="\u21C0",lfe="\u02DA",ufe="\u2253",cfe="\u21C4",ffe="\u21CC",dfe="\u200F",hfe="\u23B1",pfe="\u23B1",vfe="\u2AEE",mfe="\u27ED",gfe="\u21FE",yfe="\u27E7",bfe="\u2986",wfe="\u{1D563}",kfe="\u211D",xfe="\u2A2E",Tfe="\u2A35",_fe="\u2970",Cfe=")",Sfe="\u2994",Ofe="\u2A12",Mfe="\u21C9",Efe="\u21DB",Dfe="\u203A",Afe="\u{1D4C7}",Pfe="\u211B",Nfe="\u21B1",Rfe="\u21B1",Lfe="]",Ife="\u2019",$fe="\u2019",Bfe="\u22CC",Hfe="\u22CA",Ffe="\u25B9",zfe="\u22B5",Vfe="\u25B8",qfe="\u29CE",Ufe="\u29F4",Wfe="\u2968",jfe="\u211E",Yfe="\u015A",Gfe="\u015B",Kfe="\u201A",Xfe="\u2AB8",Jfe="\u0160",Qfe="\u0161",Zfe="\u2ABC",ede="\u227B",tde="\u227D",rde="\u2AB0",nde="\u2AB4",ide="\u015E",ade="\u015F",ode="\u015C",sde="\u015D",lde="\u2ABA",ude="\u2AB6",cde="\u22E9",fde="\u2A13",dde="\u227F",hde="\u0421",pde="\u0441",vde="\u22A1",mde="\u22C5",gde="\u2A66",yde="\u2925",bde="\u2198",wde="\u21D8",kde="\u2198",xde="\xA7",Tde=";",_de="\u2929",Cde="\u2216",Sde="\u2216",Ode="\u2736",Mde="\u{1D516}",Ede="\u{1D530}",Dde="\u2322",Ade="\u266F",Pde="\u0429",Nde="\u0449",Rde="\u0428",Lde="\u0448",Ide="\u2193",$de="\u2190",Bde="\u2223",Hde="\u2225",Fde="\u2192",zde="\u2191",Vde="\xAD",qde="\u03A3",Ude="\u03C3",Wde="\u03C2",jde="\u03C2",Yde="\u223C",Gde="\u2A6A",Kde="\u2243",Xde="\u2243",Jde="\u2A9E",Qde="\u2AA0",Zde="\u2A9D",ehe="\u2A9F",the="\u2246",rhe="\u2A24",nhe="\u2972",ihe="\u2190",ahe="\u2218",ohe="\u2216",she="\u2A33",lhe="\u29E4",uhe="\u2223",che="\u2323",fhe="\u2AAA",dhe="\u2AAC",hhe="\u2AAC\uFE00",phe="\u042C",vhe="\u044C",mhe="\u233F",ghe="\u29C4",yhe="/",bhe="\u{1D54A}",whe="\u{1D564}",khe="\u2660",xhe="\u2660",The="\u2225",_he="\u2293",Che="\u2293\uFE00",She="\u2294",Ohe="\u2294\uFE00",Mhe="\u221A",Ehe="\u228F",Dhe="\u2291",Ahe="\u228F",Phe="\u2291",Nhe="\u2290",Rhe="\u2292",Lhe="\u2290",Ihe="\u2292",$he="\u25A1",Bhe="\u25A1",Hhe="\u2293",Fhe="\u228F",zhe="\u2291",Vhe="\u2290",qhe="\u2292",Uhe="\u2294",Whe="\u25AA",jhe="\u25A1",Yhe="\u25AA",Ghe="\u2192",Khe="\u{1D4AE}",Xhe="\u{1D4C8}",Jhe="\u2216",Qhe="\u2323",Zhe="\u22C6",epe="\u22C6",tpe="\u2606",rpe="\u2605",npe="\u03F5",ipe="\u03D5",ape="\xAF",ope="\u2282",spe="\u22D0",lpe="\u2ABD",upe="\u2AC5",cpe="\u2286",fpe="\u2AC3",dpe="\u2AC1",hpe="\u2ACB",ppe="\u228A",vpe="\u2ABF",mpe="\u2979",gpe="\u2282",ype="\u22D0",bpe="\u2286",wpe="\u2AC5",kpe="\u2286",xpe="\u228A",Tpe="\u2ACB",_pe="\u2AC7",Cpe="\u2AD5",Spe="\u2AD3",Ope="\u2AB8",Mpe="\u227B",Epe="\u227D",Dpe="\u227B",Ape="\u2AB0",Ppe="\u227D",Npe="\u227F",Rpe="\u2AB0",Lpe="\u2ABA",Ipe="\u2AB6",$pe="\u22E9",Bpe="\u227F",Hpe="\u220B",Fpe="\u2211",zpe="\u2211",Vpe="\u266A",qpe="\xB9",Upe="\xB2",Wpe="\xB3",jpe="\u2283",Ype="\u22D1",Gpe="\u2ABE",Kpe="\u2AD8",Xpe="\u2AC6",Jpe="\u2287",Qpe="\u2AC4",Zpe="\u2283",eve="\u2287",tve="\u27C9",rve="\u2AD7",nve="\u297B",ive="\u2AC2",ave="\u2ACC",ove="\u228B",sve="\u2AC0",lve="\u2283",uve="\u22D1",cve="\u2287",fve="\u2AC6",dve="\u228B",hve="\u2ACC",pve="\u2AC8",vve="\u2AD4",mve="\u2AD6",gve="\u2926",yve="\u2199",bve="\u21D9",wve="\u2199",kve="\u292A",xve="\xDF",Tve="	",_ve="\u2316",Cve="\u03A4",Sve="\u03C4",Ove="\u23B4",Mve="\u0164",Eve="\u0165",Dve="\u0162",Ave="\u0163",Pve="\u0422",Nve="\u0442",Rve="\u20DB",Lve="\u2315",Ive="\u{1D517}",$ve="\u{1D531}",Bve="\u2234",Hve="\u2234",Fve="\u2234",zve="\u0398",Vve="\u03B8",qve="\u03D1",Uve="\u03D1",Wve="\u2248",jve="\u223C",Yve="\u205F\u200A",Gve="\u2009",Kve="\u2009",Xve="\u2248",Jve="\u223C",Qve="\xDE",Zve="\xFE",eme="\u02DC",tme="\u223C",rme="\u2243",nme="\u2245",ime="\u2248",ame="\u2A31",ome="\u22A0",sme="\xD7",lme="\u2A30",ume="\u222D",cme="\u2928",fme="\u2336",dme="\u2AF1",hme="\u22A4",pme="\u{1D54B}",vme="\u{1D565}",mme="\u2ADA",gme="\u2929",yme="\u2034",bme="\u2122",wme="\u2122",kme="\u25B5",xme="\u25BF",Tme="\u25C3",_me="\u22B4",Cme="\u225C",Sme="\u25B9",Ome="\u22B5",Mme="\u25EC",Eme="\u225C",Dme="\u2A3A",Ame="\u20DB",Pme="\u2A39",Nme="\u29CD",Rme="\u2A3B",Lme="\u23E2",Ime="\u{1D4AF}",$me="\u{1D4C9}",Bme="\u0426",Hme="\u0446",Fme="\u040B",zme="\u045B",Vme="\u0166",qme="\u0167",Ume="\u226C",Wme="\u219E",jme="\u21A0",Yme="\xDA",Gme="\xFA",Kme="\u2191",Xme="\u219F",Jme="\u21D1",Qme="\u2949",Zme="\u040E",ege="\u045E",tge="\u016C",rge="\u016D",nge="\xDB",ige="\xFB",age="\u0423",oge="\u0443",sge="\u21C5",lge="\u0170",uge="\u0171",cge="\u296E",fge="\u297E",dge="\u{1D518}",hge="\u{1D532}",pge="\xD9",vge="\xF9",mge="\u2963",gge="\u21BF",yge="\u21BE",bge="\u2580",wge="\u231C",kge="\u231C",xge="\u230F",Tge="\u25F8",_ge="\u016A",Cge="\u016B",Sge="\xA8",Oge="_",Mge="\u23DF",Ege="\u23B5",Dge="\u23DD",Age="\u22C3",Pge="\u228E",Nge="\u0172",Rge="\u0173",Lge="\u{1D54C}",Ige="\u{1D566}",$ge="\u2912",Bge="\u2191",Hge="\u2191",Fge="\u21D1",zge="\u21C5",Vge="\u2195",qge="\u2195",Uge="\u21D5",Wge="\u296E",jge="\u21BF",Yge="\u21BE",Gge="\u228E",Kge="\u2196",Xge="\u2197",Jge="\u03C5",Qge="\u03D2",Zge="\u03D2",eye="\u03A5",tye="\u03C5",rye="\u21A5",nye="\u22A5",iye="\u21C8",aye="\u231D",oye="\u231D",sye="\u230E",lye="\u016E",uye="\u016F",cye="\u25F9",fye="\u{1D4B0}",dye="\u{1D4CA}",hye="\u22F0",pye="\u0168",vye="\u0169",mye="\u25B5",gye="\u25B4",yye="\u21C8",bye="\xDC",wye="\xFC",kye="\u29A7",xye="\u299C",Tye="\u03F5",_ye="\u03F0",Cye="\u2205",Sye="\u03D5",Oye="\u03D6",Mye="\u221D",Eye="\u2195",Dye="\u21D5",Aye="\u03F1",Pye="\u03C2",Nye="\u228A\uFE00",Rye="\u2ACB\uFE00",Lye="\u228B\uFE00",Iye="\u2ACC\uFE00",$ye="\u03D1",Bye="\u22B2",Hye="\u22B3",Fye="\u2AE8",zye="\u2AEB",Vye="\u2AE9",qye="\u0412",Uye="\u0432",Wye="\u22A2",jye="\u22A8",Yye="\u22A9",Gye="\u22AB",Kye="\u2AE6",Xye="\u22BB",Jye="\u2228",Qye="\u22C1",Zye="\u225A",ebe="\u22EE",tbe="|",rbe="\u2016",nbe="|",ibe="\u2016",abe="\u2223",obe="|",sbe="\u2758",lbe="\u2240",ube="\u200A",cbe="\u{1D519}",fbe="\u{1D533}",dbe="\u22B2",hbe="\u2282\u20D2",pbe="\u2283\u20D2",vbe="\u{1D54D}",mbe="\u{1D567}",gbe="\u221D",ybe="\u22B3",bbe="\u{1D4B1}",wbe="\u{1D4CB}",kbe="\u2ACB\uFE00",xbe="\u228A\uFE00",Tbe="\u2ACC\uFE00",_be="\u228B\uFE00",Cbe="\u22AA",Sbe="\u299A",Obe="\u0174",Mbe="\u0175",Ebe="\u2A5F",Dbe="\u2227",Abe="\u22C0",Pbe="\u2259",Nbe="\u2118",Rbe="\u{1D51A}",Lbe="\u{1D534}",Ibe="\u{1D54E}",$be="\u{1D568}",Bbe="\u2118",Hbe="\u2240",Fbe="\u2240",zbe="\u{1D4B2}",Vbe="\u{1D4CC}",qbe="\u22C2",Ube="\u25EF",Wbe="\u22C3",jbe="\u25BD",Ybe="\u{1D51B}",Gbe="\u{1D535}",Kbe="\u27F7",Xbe="\u27FA",Jbe="\u039E",Qbe="\u03BE",Zbe="\u27F5",e0e="\u27F8",t0e="\u27FC",r0e="\u22FB",n0e="\u2A00",i0e="\u{1D54F}",a0e="\u{1D569}",o0e="\u2A01",s0e="\u2A02",l0e="\u27F6",u0e="\u27F9",c0e="\u{1D4B3}",f0e="\u{1D4CD}",d0e="\u2A06",h0e="\u2A04",p0e="\u25B3",v0e="\u22C1",m0e="\u22C0",g0e="\xDD",y0e="\xFD",b0e="\u042F",w0e="\u044F",k0e="\u0176",x0e="\u0177",T0e="\u042B",_0e="\u044B",C0e="\xA5",S0e="\u{1D51C}",O0e="\u{1D536}",M0e="\u0407",E0e="\u0457",D0e="\u{1D550}",A0e="\u{1D56A}",P0e="\u{1D4B4}",N0e="\u{1D4CE}",R0e="\u042E",L0e="\u044E",I0e="\xFF",$0e="\u0178",B0e="\u0179",H0e="\u017A",F0e="\u017D",z0e="\u017E",V0e="\u0417",q0e="\u0437",U0e="\u017B",W0e="\u017C",j0e="\u2128",Y0e="\u200B",G0e="\u0396",K0e="\u03B6",X0e="\u{1D537}",J0e="\u2128",Q0e="\u0416",Z0e="\u0436",ewe="\u21DD",twe="\u{1D56B}",rwe="\u2124",nwe="\u{1D4B5}",iwe="\u{1D4CF}",awe="\u200D",owe="\u200C",dT={Aacute:U3,aacute:W3,Abreve:j3,abreve:Y3,ac:G3,acd:K3,acE:X3,Acirc:J3,acirc:Q3,acute:Z3,Acy:eV,acy:tV,AElig:rV,aelig:nV,af:iV,Afr:aV,afr:oV,Agrave:sV,agrave:lV,alefsym:uV,aleph:cV,Alpha:fV,alpha:dV,Amacr:hV,amacr:pV,amalg:vV,amp:mV,AMP:gV,andand:yV,And:bV,and:wV,andd:kV,andslope:xV,andv:TV,ang:_V,ange:CV,angle:SV,angmsdaa:OV,angmsdab:MV,angmsdac:EV,angmsdad:DV,angmsdae:AV,angmsdaf:PV,angmsdag:NV,angmsdah:RV,angmsd:LV,angrt:IV,angrtvb:$V,angrtvbd:BV,angsph:HV,angst:FV,angzarr:zV,Aogon:VV,aogon:qV,Aopf:UV,aopf:WV,apacir:jV,ap:YV,apE:GV,ape:KV,apid:XV,apos:JV,ApplyFunction:QV,approx:ZV,approxeq:eq,Aring:tq,aring:rq,Ascr:nq,ascr:iq,Assign:aq,ast:oq,asymp:sq,asympeq:lq,Atilde:uq,atilde:cq,Auml:fq,auml:dq,awconint:hq,awint:pq,backcong:vq,backepsilon:mq,backprime:gq,backsim:yq,backsimeq:bq,Backslash:wq,Barv:kq,barvee:xq,barwed:Tq,Barwed:_q,barwedge:Cq,bbrk:Sq,bbrktbrk:Oq,bcong:Mq,Bcy:Eq,bcy:Dq,bdquo:Aq,becaus:Pq,because:Nq,Because:Rq,bemptyv:Lq,bepsi:Iq,bernou:$q,Bernoullis:Bq,Beta:Hq,beta:Fq,beth:zq,between:Vq,Bfr:qq,bfr:Uq,bigcap:Wq,bigcirc:jq,bigcup:Yq,bigodot:Gq,bigoplus:Kq,bigotimes:Xq,bigsqcup:Jq,bigstar:Qq,bigtriangledown:Zq,bigtriangleup:eU,biguplus:tU,bigvee:rU,bigwedge:nU,bkarow:iU,blacklozenge:aU,blacksquare:oU,blacktriangle:sU,blacktriangledown:lU,blacktriangleleft:uU,blacktriangleright:cU,blank:fU,blk12:dU,blk14:hU,blk34:pU,block:vU,bne:mU,bnequiv:gU,bNot:yU,bnot:bU,Bopf:wU,bopf:kU,bot:xU,bottom:TU,bowtie:_U,boxbox:CU,boxdl:SU,boxdL:OU,boxDl:MU,boxDL:EU,boxdr:DU,boxdR:AU,boxDr:PU,boxDR:NU,boxh:RU,boxH:LU,boxhd:IU,boxHd:$U,boxhD:BU,boxHD:HU,boxhu:FU,boxHu:zU,boxhU:VU,boxHU:qU,boxminus:UU,boxplus:WU,boxtimes:jU,boxul:YU,boxuL:GU,boxUl:KU,boxUL:XU,boxur:JU,boxuR:QU,boxUr:ZU,boxUR:eW,boxv:tW,boxV:rW,boxvh:nW,boxvH:iW,boxVh:aW,boxVH:oW,boxvl:sW,boxvL:lW,boxVl:uW,boxVL:cW,boxvr:fW,boxvR:dW,boxVr:hW,boxVR:pW,bprime:vW,breve:mW,Breve:gW,brvbar:yW,bscr:bW,Bscr:wW,bsemi:kW,bsim:xW,bsime:TW,bsolb:_W,bsol:CW,bsolhsub:SW,bull:OW,bullet:MW,bump:EW,bumpE:DW,bumpe:AW,Bumpeq:PW,bumpeq:NW,Cacute:RW,cacute:LW,capand:IW,capbrcup:$W,capcap:BW,cap:HW,Cap:FW,capcup:zW,capdot:VW,CapitalDifferentialD:qW,caps:UW,caret:WW,caron:jW,Cayleys:YW,ccaps:GW,Ccaron:KW,ccaron:XW,Ccedil:JW,ccedil:QW,Ccirc:ZW,ccirc:e5,Cconint:t5,ccups:r5,ccupssm:n5,Cdot:i5,cdot:a5,cedil:o5,Cedilla:s5,cemptyv:l5,cent:u5,centerdot:c5,CenterDot:f5,cfr:d5,Cfr:h5,CHcy:p5,chcy:v5,check:m5,checkmark:g5,Chi:y5,chi:b5,circ:w5,circeq:k5,circlearrowleft:x5,circlearrowright:T5,circledast:_5,circledcirc:C5,circleddash:S5,CircleDot:O5,circledR:M5,circledS:E5,CircleMinus:D5,CirclePlus:A5,CircleTimes:P5,cir:N5,cirE:R5,cire:L5,cirfnint:I5,cirmid:$5,cirscir:B5,ClockwiseContourIntegral:H5,CloseCurlyDoubleQuote:F5,CloseCurlyQuote:z5,clubs:V5,clubsuit:q5,colon:U5,Colon:W5,Colone:j5,colone:Y5,coloneq:G5,comma:K5,commat:X5,comp:J5,compfn:Q5,complement:Z5,complexes:ej,cong:tj,congdot:rj,Congruent:nj,conint:ij,Conint:aj,ContourIntegral:oj,copf:sj,Copf:lj,coprod:uj,Coproduct:cj,copy:fj,COPY:dj,copysr:hj,CounterClockwiseContourIntegral:pj,crarr:vj,cross:mj,Cross:gj,Cscr:yj,cscr:bj,csub:wj,csube:kj,csup:xj,csupe:Tj,ctdot:_j,cudarrl:Cj,cudarrr:Sj,cuepr:Oj,cuesc:Mj,cularr:Ej,cularrp:Dj,cupbrcap:Aj,cupcap:Pj,CupCap:Nj,cup:Rj,Cup:Lj,cupcup:Ij,cupdot:$j,cupor:Bj,cups:Hj,curarr:Fj,curarrm:zj,curlyeqprec:Vj,curlyeqsucc:qj,curlyvee:Uj,curlywedge:Wj,curren:jj,curvearrowleft:Yj,curvearrowright:Gj,cuvee:Kj,cuwed:Xj,cwconint:Jj,cwint:Qj,cylcty:Zj,dagger:e6,Dagger:t6,daleth:r6,darr:n6,Darr:i6,dArr:a6,dash:o6,Dashv:s6,dashv:l6,dbkarow:u6,dblac:c6,Dcaron:f6,dcaron:d6,Dcy:h6,dcy:p6,ddagger:v6,ddarr:m6,DD:g6,dd:y6,DDotrahd:b6,ddotseq:w6,deg:k6,Del:x6,Delta:T6,delta:_6,demptyv:C6,dfisht:S6,Dfr:O6,dfr:M6,dHar:E6,dharl:D6,dharr:A6,DiacriticalAcute:P6,DiacriticalDot:N6,DiacriticalDoubleAcute:R6,DiacriticalGrave:L6,DiacriticalTilde:I6,diam:$6,diamond:B6,Diamond:H6,diamondsuit:F6,diams:z6,die:V6,DifferentialD:q6,digamma:U6,disin:W6,div:j6,divide:Y6,divideontimes:G6,divonx:K6,DJcy:X6,djcy:J6,dlcorn:Q6,dlcrop:Z6,dollar:e4,Dopf:t4,dopf:r4,Dot:n4,dot:i4,DotDot:a4,doteq:o4,doteqdot:s4,DotEqual:l4,dotminus:u4,dotplus:c4,dotsquare:f4,doublebarwedge:d4,DoubleContourIntegral:h4,DoubleDot:p4,DoubleDownArrow:v4,DoubleLeftArrow:m4,DoubleLeftRightArrow:g4,DoubleLeftTee:y4,DoubleLongLeftArrow:b4,DoubleLongLeftRightArrow:w4,DoubleLongRightArrow:k4,DoubleRightArrow:x4,DoubleRightTee:T4,DoubleUpArrow:_4,DoubleUpDownArrow:C4,DoubleVerticalBar:S4,DownArrowBar:O4,downarrow:M4,DownArrow:E4,Downarrow:D4,DownArrowUpArrow:A4,DownBreve:P4,downdownarrows:N4,downharpoonleft:R4,downharpoonright:L4,DownLeftRightVector:I4,DownLeftTeeVector:$4,DownLeftVectorBar:B4,DownLeftVector:H4,DownRightTeeVector:F4,DownRightVectorBar:z4,DownRightVector:V4,DownTeeArrow:q4,DownTee:U4,drbkarow:W4,drcorn:j4,drcrop:Y4,Dscr:G4,dscr:K4,DScy:X4,dscy:J4,dsol:Q4,Dstrok:Z4,dstrok:eY,dtdot:tY,dtri:rY,dtrif:nY,duarr:iY,duhar:aY,dwangle:oY,DZcy:sY,dzcy:lY,dzigrarr:uY,Eacute:cY,eacute:fY,easter:dY,Ecaron:hY,ecaron:pY,Ecirc:vY,ecirc:mY,ecir:gY,ecolon:yY,Ecy:bY,ecy:wY,eDDot:kY,Edot:xY,edot:TY,eDot:_Y,ee:CY,efDot:SY,Efr:OY,efr:MY,eg:EY,Egrave:DY,egrave:AY,egs:PY,egsdot:NY,el:RY,Element:LY,elinters:IY,ell:$Y,els:BY,elsdot:HY,Emacr:FY,emacr:zY,empty:VY,emptyset:qY,EmptySmallSquare:UY,emptyv:WY,EmptyVerySmallSquare:jY,emsp13:YY,emsp14:GY,emsp:KY,ENG:XY,eng:JY,ensp:QY,Eogon:ZY,eogon:e8,Eopf:t8,eopf:r8,epar:n8,eparsl:i8,eplus:a8,epsi:o8,Epsilon:s8,epsilon:l8,epsiv:u8,eqcirc:c8,eqcolon:f8,eqsim:d8,eqslantgtr:h8,eqslantless:p8,Equal:v8,equals:m8,EqualTilde:g8,equest:y8,Equilibrium:b8,equiv:w8,equivDD:k8,eqvparsl:x8,erarr:T8,erDot:_8,escr:C8,Escr:S8,esdot:O8,Esim:M8,esim:E8,Eta:D8,eta:A8,ETH:P8,eth:N8,Euml:R8,euml:L8,euro:I8,excl:$8,exist:B8,Exists:H8,expectation:F8,exponentiale:z8,ExponentialE:V8,fallingdotseq:q8,Fcy:U8,fcy:W8,female:j8,ffilig:Y8,fflig:G8,ffllig:K8,Ffr:X8,ffr:J8,filig:Q8,FilledSmallSquare:Z8,FilledVerySmallSquare:e7,fjlig:t7,flat:r7,fllig:n7,fltns:i7,fnof:a7,Fopf:o7,fopf:s7,forall:l7,ForAll:u7,fork:c7,forkv:f7,Fouriertrf:d7,fpartint:h7,frac12:p7,frac13:v7,frac14:m7,frac15:g7,frac16:y7,frac18:b7,frac23:w7,frac25:k7,frac34:x7,frac35:T7,frac38:_7,frac45:C7,frac56:S7,frac58:O7,frac78:M7,frasl:E7,frown:D7,fscr:A7,Fscr:P7,gacute:N7,Gamma:R7,gamma:L7,Gammad:I7,gammad:$7,gap:B7,Gbreve:H7,gbreve:F7,Gcedil:z7,Gcirc:V7,gcirc:q7,Gcy:U7,gcy:W7,Gdot:j7,gdot:Y7,ge:G7,gE:K7,gEl:X7,gel:J7,geq:Q7,geqq:Z7,geqslant:eG,gescc:tG,ges:rG,gesdot:nG,gesdoto:iG,gesdotol:aG,gesl:oG,gesles:sG,Gfr:lG,gfr:uG,gg:cG,Gg:fG,ggg:dG,gimel:hG,GJcy:pG,gjcy:vG,gla:mG,gl:gG,glE:yG,glj:bG,gnap:wG,gnapprox:kG,gne:xG,gnE:TG,gneq:_G,gneqq:CG,gnsim:SG,Gopf:OG,gopf:MG,grave:EG,GreaterEqual:DG,GreaterEqualLess:AG,GreaterFullEqual:PG,GreaterGreater:NG,GreaterLess:RG,GreaterSlantEqual:LG,GreaterTilde:IG,Gscr:$G,gscr:BG,gsim:HG,gsime:FG,gsiml:zG,gtcc:VG,gtcir:qG,gt:UG,GT:WG,Gt:jG,gtdot:YG,gtlPar:GG,gtquest:KG,gtrapprox:XG,gtrarr:JG,gtrdot:QG,gtreqless:ZG,gtreqqless:e9,gtrless:t9,gtrsim:r9,gvertneqq:n9,gvnE:i9,Hacek:a9,hairsp:o9,half:s9,hamilt:l9,HARDcy:u9,hardcy:c9,harrcir:f9,harr:d9,hArr:h9,harrw:p9,Hat:v9,hbar:m9,Hcirc:g9,hcirc:y9,hearts:b9,heartsuit:w9,hellip:k9,hercon:x9,hfr:T9,Hfr:_9,HilbertSpace:C9,hksearow:S9,hkswarow:O9,hoarr:M9,homtht:E9,hookleftarrow:D9,hookrightarrow:A9,hopf:P9,Hopf:N9,horbar:R9,HorizontalLine:L9,hscr:I9,Hscr:$9,hslash:B9,Hstrok:H9,hstrok:F9,HumpDownHump:z9,HumpEqual:V9,hybull:q9,hyphen:U9,Iacute:W9,iacute:j9,ic:Y9,Icirc:G9,icirc:K9,Icy:X9,icy:J9,Idot:Q9,IEcy:Z9,iecy:eK,iexcl:tK,iff:rK,ifr:nK,Ifr:iK,Igrave:aK,igrave:oK,ii:sK,iiiint:lK,iiint:uK,iinfin:cK,iiota:fK,IJlig:dK,ijlig:hK,Imacr:pK,imacr:vK,image:mK,ImaginaryI:gK,imagline:yK,imagpart:bK,imath:wK,Im:kK,imof:xK,imped:TK,Implies:_K,incare:CK,in:"\u2208",infin:SK,infintie:OK,inodot:MK,intcal:EK,int:DK,Int:AK,integers:PK,Integral:NK,intercal:RK,Intersection:LK,intlarhk:IK,intprod:$K,InvisibleComma:BK,InvisibleTimes:HK,IOcy:FK,iocy:zK,Iogon:VK,iogon:qK,Iopf:UK,iopf:WK,Iota:jK,iota:YK,iprod:GK,iquest:KK,iscr:XK,Iscr:JK,isin:QK,isindot:ZK,isinE:eX,isins:tX,isinsv:rX,isinv:nX,it:iX,Itilde:aX,itilde:oX,Iukcy:sX,iukcy:lX,Iuml:uX,iuml:cX,Jcirc:fX,jcirc:dX,Jcy:hX,jcy:pX,Jfr:vX,jfr:mX,jmath:gX,Jopf:yX,jopf:bX,Jscr:wX,jscr:kX,Jsercy:xX,jsercy:TX,Jukcy:_X,jukcy:CX,Kappa:SX,kappa:OX,kappav:MX,Kcedil:EX,kcedil:DX,Kcy:AX,kcy:PX,Kfr:NX,kfr:RX,kgreen:LX,KHcy:IX,khcy:$X,KJcy:BX,kjcy:HX,Kopf:FX,kopf:zX,Kscr:VX,kscr:qX,lAarr:UX,Lacute:WX,lacute:jX,laemptyv:YX,lagran:GX,Lambda:KX,lambda:XX,lang:JX,Lang:QX,langd:ZX,langle:eJ,lap:tJ,Laplacetrf:rJ,laquo:nJ,larrb:iJ,larrbfs:aJ,larr:oJ,Larr:sJ,lArr:lJ,larrfs:uJ,larrhk:cJ,larrlp:fJ,larrpl:dJ,larrsim:hJ,larrtl:pJ,latail:vJ,lAtail:mJ,lat:gJ,late:yJ,lates:bJ,lbarr:wJ,lBarr:kJ,lbbrk:xJ,lbrace:TJ,lbrack:_J,lbrke:CJ,lbrksld:SJ,lbrkslu:OJ,Lcaron:MJ,lcaron:EJ,Lcedil:DJ,lcedil:AJ,lceil:PJ,lcub:NJ,Lcy:RJ,lcy:LJ,ldca:IJ,ldquo:$J,ldquor:BJ,ldrdhar:HJ,ldrushar:FJ,ldsh:zJ,le:VJ,lE:qJ,LeftAngleBracket:UJ,LeftArrowBar:WJ,leftarrow:jJ,LeftArrow:YJ,Leftarrow:GJ,LeftArrowRightArrow:KJ,leftarrowtail:XJ,LeftCeiling:JJ,LeftDoubleBracket:QJ,LeftDownTeeVector:ZJ,LeftDownVectorBar:eQ,LeftDownVector:tQ,LeftFloor:rQ,leftharpoondown:nQ,leftharpoonup:iQ,leftleftarrows:aQ,leftrightarrow:oQ,LeftRightArrow:sQ,Leftrightarrow:lQ,leftrightarrows:uQ,leftrightharpoons:cQ,leftrightsquigarrow:fQ,LeftRightVector:dQ,LeftTeeArrow:hQ,LeftTee:pQ,LeftTeeVector:vQ,leftthreetimes:mQ,LeftTriangleBar:gQ,LeftTriangle:yQ,LeftTriangleEqual:bQ,LeftUpDownVector:wQ,LeftUpTeeVector:kQ,LeftUpVectorBar:xQ,LeftUpVector:TQ,LeftVectorBar:_Q,LeftVector:CQ,lEg:SQ,leg:OQ,leq:MQ,leqq:EQ,leqslant:DQ,lescc:AQ,les:PQ,lesdot:NQ,lesdoto:RQ,lesdotor:LQ,lesg:IQ,lesges:$Q,lessapprox:BQ,lessdot:HQ,lesseqgtr:FQ,lesseqqgtr:zQ,LessEqualGreater:VQ,LessFullEqual:qQ,LessGreater:UQ,lessgtr:WQ,LessLess:jQ,lesssim:YQ,LessSlantEqual:GQ,LessTilde:KQ,lfisht:XQ,lfloor:JQ,Lfr:QQ,lfr:ZQ,lg:eZ,lgE:tZ,lHar:rZ,lhard:nZ,lharu:iZ,lharul:aZ,lhblk:oZ,LJcy:sZ,ljcy:lZ,llarr:uZ,ll:cZ,Ll:fZ,llcorner:dZ,Lleftarrow:hZ,llhard:pZ,lltri:vZ,Lmidot:mZ,lmidot:gZ,lmoustache:yZ,lmoust:bZ,lnap:wZ,lnapprox:kZ,lne:xZ,lnE:TZ,lneq:_Z,lneqq:CZ,lnsim:SZ,loang:OZ,loarr:MZ,lobrk:EZ,longleftarrow:DZ,LongLeftArrow:AZ,Longleftarrow:PZ,longleftrightarrow:NZ,LongLeftRightArrow:RZ,Longleftrightarrow:LZ,longmapsto:IZ,longrightarrow:$Z,LongRightArrow:BZ,Longrightarrow:HZ,looparrowleft:FZ,looparrowright:zZ,lopar:VZ,Lopf:qZ,lopf:UZ,loplus:WZ,lotimes:jZ,lowast:YZ,lowbar:GZ,LowerLeftArrow:KZ,LowerRightArrow:XZ,loz:JZ,lozenge:QZ,lozf:ZZ,lpar:eee,lparlt:tee,lrarr:ree,lrcorner:nee,lrhar:iee,lrhard:aee,lrm:oee,lrtri:see,lsaquo:lee,lscr:uee,Lscr:cee,lsh:fee,Lsh:dee,lsim:hee,lsime:pee,lsimg:vee,lsqb:mee,lsquo:gee,lsquor:yee,Lstrok:bee,lstrok:wee,ltcc:kee,ltcir:xee,lt:Tee,LT:_ee,Lt:Cee,ltdot:See,lthree:Oee,ltimes:Mee,ltlarr:Eee,ltquest:Dee,ltri:Aee,ltrie:Pee,ltrif:Nee,ltrPar:Ree,lurdshar:Lee,luruhar:Iee,lvertneqq:$ee,lvnE:Bee,macr:Hee,male:Fee,malt:zee,maltese:Vee,Map:"\u2905",map:qee,mapsto:Uee,mapstodown:Wee,mapstoleft:jee,mapstoup:Yee,marker:Gee,mcomma:Kee,Mcy:Xee,mcy:Jee,mdash:Qee,mDDot:Zee,measuredangle:ete,MediumSpace:tte,Mellintrf:rte,Mfr:nte,mfr:ite,mho:ate,micro:ote,midast:ste,midcir:lte,mid:ute,middot:cte,minusb:fte,minus:dte,minusd:hte,minusdu:pte,MinusPlus:vte,mlcp:mte,mldr:gte,mnplus:yte,models:bte,Mopf:wte,mopf:kte,mp:xte,mscr:Tte,Mscr:_te,mstpos:Cte,Mu:Ste,mu:Ote,multimap:Mte,mumap:Ete,nabla:Dte,Nacute:Ate,nacute:Pte,nang:Nte,nap:Rte,napE:Lte,napid:Ite,napos:$te,napprox:Bte,natural:Hte,naturals:Fte,natur:zte,nbsp:Vte,nbump:qte,nbumpe:Ute,ncap:Wte,Ncaron:jte,ncaron:Yte,Ncedil:Gte,ncedil:Kte,ncong:Xte,ncongdot:Jte,ncup:Qte,Ncy:Zte,ncy:ere,ndash:tre,nearhk:rre,nearr:nre,neArr:ire,nearrow:are,ne:ore,nedot:sre,NegativeMediumSpace:lre,NegativeThickSpace:ure,NegativeThinSpace:cre,NegativeVeryThinSpace:fre,nequiv:dre,nesear:hre,nesim:pre,NestedGreaterGreater:vre,NestedLessLess:mre,NewLine:gre,nexist:yre,nexists:bre,Nfr:wre,nfr:kre,ngE:xre,nge:Tre,ngeq:_re,ngeqq:Cre,ngeqslant:Sre,nges:Ore,nGg:Mre,ngsim:Ere,nGt:Dre,ngt:Are,ngtr:Pre,nGtv:Nre,nharr:Rre,nhArr:Lre,nhpar:Ire,ni:$re,nis:Bre,nisd:Hre,niv:Fre,NJcy:zre,njcy:Vre,nlarr:qre,nlArr:Ure,nldr:Wre,nlE:jre,nle:Yre,nleftarrow:Gre,nLeftarrow:Kre,nleftrightarrow:Xre,nLeftrightarrow:Jre,nleq:Qre,nleqq:Zre,nleqslant:ene,nles:tne,nless:rne,nLl:nne,nlsim:ine,nLt:ane,nlt:one,nltri:sne,nltrie:lne,nLtv:une,nmid:cne,NoBreak:fne,NonBreakingSpace:dne,nopf:hne,Nopf:pne,Not:vne,not:mne,NotCongruent:gne,NotCupCap:yne,NotDoubleVerticalBar:bne,NotElement:wne,NotEqual:kne,NotEqualTilde:xne,NotExists:Tne,NotGreater:_ne,NotGreaterEqual:Cne,NotGreaterFullEqual:Sne,NotGreaterGreater:One,NotGreaterLess:Mne,NotGreaterSlantEqual:Ene,NotGreaterTilde:Dne,NotHumpDownHump:Ane,NotHumpEqual:Pne,notin:Nne,notindot:Rne,notinE:Lne,notinva:Ine,notinvb:$ne,notinvc:Bne,NotLeftTriangleBar:Hne,NotLeftTriangle:Fne,NotLeftTriangleEqual:zne,NotLess:Vne,NotLessEqual:qne,NotLessGreater:Une,NotLessLess:Wne,NotLessSlantEqual:jne,NotLessTilde:Yne,NotNestedGreaterGreater:Gne,NotNestedLessLess:Kne,notni:Xne,notniva:Jne,notnivb:Qne,notnivc:Zne,NotPrecedes:eie,NotPrecedesEqual:tie,NotPrecedesSlantEqual:rie,NotReverseElement:nie,NotRightTriangleBar:iie,NotRightTriangle:aie,NotRightTriangleEqual:oie,NotSquareSubset:sie,NotSquareSubsetEqual:lie,NotSquareSuperset:uie,NotSquareSupersetEqual:cie,NotSubset:fie,NotSubsetEqual:die,NotSucceeds:hie,NotSucceedsEqual:pie,NotSucceedsSlantEqual:vie,NotSucceedsTilde:mie,NotSuperset:gie,NotSupersetEqual:yie,NotTilde:bie,NotTildeEqual:wie,NotTildeFullEqual:kie,NotTildeTilde:xie,NotVerticalBar:Tie,nparallel:_ie,npar:Cie,nparsl:Sie,npart:Oie,npolint:Mie,npr:Eie,nprcue:Die,nprec:Aie,npreceq:Pie,npre:Nie,nrarrc:Rie,nrarr:Lie,nrArr:Iie,nrarrw:$ie,nrightarrow:Bie,nRightarrow:Hie,nrtri:Fie,nrtrie:zie,nsc:Vie,nsccue:qie,nsce:Uie,Nscr:Wie,nscr:jie,nshortmid:Yie,nshortparallel:Gie,nsim:Kie,nsime:Xie,nsimeq:Jie,nsmid:Qie,nspar:Zie,nsqsube:eae,nsqsupe:tae,nsub:rae,nsubE:nae,nsube:iae,nsubset:aae,nsubseteq:oae,nsubseteqq:sae,nsucc:lae,nsucceq:uae,nsup:cae,nsupE:fae,nsupe:dae,nsupset:hae,nsupseteq:pae,nsupseteqq:vae,ntgl:mae,Ntilde:gae,ntilde:yae,ntlg:bae,ntriangleleft:wae,ntrianglelefteq:kae,ntriangleright:xae,ntrianglerighteq:Tae,Nu:_ae,nu:Cae,num:Sae,numero:Oae,numsp:Mae,nvap:Eae,nvdash:Dae,nvDash:Aae,nVdash:Pae,nVDash:Nae,nvge:Rae,nvgt:Lae,nvHarr:Iae,nvinfin:$ae,nvlArr:Bae,nvle:Hae,nvlt:Fae,nvltrie:zae,nvrArr:Vae,nvrtrie:qae,nvsim:Uae,nwarhk:Wae,nwarr:jae,nwArr:Yae,nwarrow:Gae,nwnear:Kae,Oacute:Xae,oacute:Jae,oast:Qae,Ocirc:Zae,ocirc:eoe,ocir:toe,Ocy:roe,ocy:noe,odash:ioe,Odblac:aoe,odblac:ooe,odiv:soe,odot:loe,odsold:uoe,OElig:coe,oelig:foe,ofcir:doe,Ofr:hoe,ofr:poe,ogon:voe,Ograve:moe,ograve:goe,ogt:yoe,ohbar:boe,ohm:woe,oint:koe,olarr:xoe,olcir:Toe,olcross:_oe,oline:Coe,olt:Soe,Omacr:Ooe,omacr:Moe,Omega:Eoe,omega:Doe,Omicron:Aoe,omicron:Poe,omid:Noe,ominus:Roe,Oopf:Loe,oopf:Ioe,opar:$oe,OpenCurlyDoubleQuote:Boe,OpenCurlyQuote:Hoe,operp:Foe,oplus:zoe,orarr:Voe,Or:qoe,or:Uoe,ord:Woe,order:joe,orderof:Yoe,ordf:Goe,ordm:Koe,origof:Xoe,oror:Joe,orslope:Qoe,orv:Zoe,oS:ese,Oscr:tse,oscr:rse,Oslash:nse,oslash:ise,osol:ase,Otilde:ose,otilde:sse,otimesas:lse,Otimes:use,otimes:cse,Ouml:fse,ouml:dse,ovbar:hse,OverBar:pse,OverBrace:vse,OverBracket:mse,OverParenthesis:gse,para:yse,parallel:bse,par:wse,parsim:kse,parsl:xse,part:Tse,PartialD:_se,Pcy:Cse,pcy:Sse,percnt:Ose,period:Mse,permil:Ese,perp:Dse,pertenk:Ase,Pfr:Pse,pfr:Nse,Phi:Rse,phi:Lse,phiv:Ise,phmmat:$se,phone:Bse,Pi:Hse,pi:Fse,pitchfork:zse,piv:Vse,planck:qse,planckh:Use,plankv:Wse,plusacir:jse,plusb:Yse,pluscir:Gse,plus:Kse,plusdo:Xse,plusdu:Jse,pluse:Qse,PlusMinus:Zse,plusmn:ele,plussim:tle,plustwo:rle,pm:nle,Poincareplane:ile,pointint:ale,popf:ole,Popf:sle,pound:lle,prap:ule,Pr:cle,pr:fle,prcue:dle,precapprox:hle,prec:ple,preccurlyeq:vle,Precedes:mle,PrecedesEqual:gle,PrecedesSlantEqual:yle,PrecedesTilde:ble,preceq:wle,precnapprox:kle,precneqq:xle,precnsim:Tle,pre:_le,prE:Cle,precsim:Sle,prime:Ole,Prime:Mle,primes:Ele,prnap:Dle,prnE:Ale,prnsim:Ple,prod:Nle,Product:Rle,profalar:Lle,profline:Ile,profsurf:$le,prop:Ble,Proportional:Hle,Proportion:Fle,propto:zle,prsim:Vle,prurel:qle,Pscr:Ule,pscr:Wle,Psi:jle,psi:Yle,puncsp:Gle,Qfr:Kle,qfr:Xle,qint:Jle,qopf:Qle,Qopf:Zle,qprime:eue,Qscr:tue,qscr:rue,quaternions:nue,quatint:iue,quest:aue,questeq:oue,quot:sue,QUOT:lue,rAarr:uue,race:cue,Racute:fue,racute:due,radic:hue,raemptyv:pue,rang:vue,Rang:mue,rangd:gue,range:yue,rangle:bue,raquo:wue,rarrap:kue,rarrb:xue,rarrbfs:Tue,rarrc:_ue,rarr:Cue,Rarr:Sue,rArr:Oue,rarrfs:Mue,rarrhk:Eue,rarrlp:Due,rarrpl:Aue,rarrsim:Pue,Rarrtl:Nue,rarrtl:Rue,rarrw:Lue,ratail:Iue,rAtail:$ue,ratio:Bue,rationals:Hue,rbarr:Fue,rBarr:zue,RBarr:Vue,rbbrk:que,rbrace:Uue,rbrack:Wue,rbrke:jue,rbrksld:Yue,rbrkslu:Gue,Rcaron:Kue,rcaron:Xue,Rcedil:Jue,rcedil:Que,rceil:Zue,rcub:ece,Rcy:tce,rcy:rce,rdca:nce,rdldhar:ice,rdquo:ace,rdquor:oce,rdsh:sce,real:lce,realine:uce,realpart:cce,reals:fce,Re:dce,rect:hce,reg:pce,REG:vce,ReverseElement:mce,ReverseEquilibrium:gce,ReverseUpEquilibrium:yce,rfisht:bce,rfloor:wce,rfr:kce,Rfr:xce,rHar:Tce,rhard:_ce,rharu:Cce,rharul:Sce,Rho:Oce,rho:Mce,rhov:Ece,RightAngleBracket:Dce,RightArrowBar:Ace,rightarrow:Pce,RightArrow:Nce,Rightarrow:Rce,RightArrowLeftArrow:Lce,rightarrowtail:Ice,RightCeiling:$ce,RightDoubleBracket:Bce,RightDownTeeVector:Hce,RightDownVectorBar:Fce,RightDownVector:zce,RightFloor:Vce,rightharpoondown:qce,rightharpoonup:Uce,rightleftarrows:Wce,rightleftharpoons:jce,rightrightarrows:Yce,rightsquigarrow:Gce,RightTeeArrow:Kce,RightTee:Xce,RightTeeVector:Jce,rightthreetimes:Qce,RightTriangleBar:Zce,RightTriangle:efe,RightTriangleEqual:tfe,RightUpDownVector:rfe,RightUpTeeVector:nfe,RightUpVectorBar:ife,RightUpVector:afe,RightVectorBar:ofe,RightVector:sfe,ring:lfe,risingdotseq:ufe,rlarr:cfe,rlhar:ffe,rlm:dfe,rmoustache:hfe,rmoust:pfe,rnmid:vfe,roang:mfe,roarr:gfe,robrk:yfe,ropar:bfe,ropf:wfe,Ropf:kfe,roplus:xfe,rotimes:Tfe,RoundImplies:_fe,rpar:Cfe,rpargt:Sfe,rppolint:Ofe,rrarr:Mfe,Rrightarrow:Efe,rsaquo:Dfe,rscr:Afe,Rscr:Pfe,rsh:Nfe,Rsh:Rfe,rsqb:Lfe,rsquo:Ife,rsquor:$fe,rthree:Bfe,rtimes:Hfe,rtri:Ffe,rtrie:zfe,rtrif:Vfe,rtriltri:qfe,RuleDelayed:Ufe,ruluhar:Wfe,rx:jfe,Sacute:Yfe,sacute:Gfe,sbquo:Kfe,scap:Xfe,Scaron:Jfe,scaron:Qfe,Sc:Zfe,sc:ede,sccue:tde,sce:rde,scE:nde,Scedil:ide,scedil:ade,Scirc:ode,scirc:sde,scnap:lde,scnE:ude,scnsim:cde,scpolint:fde,scsim:dde,Scy:hde,scy:pde,sdotb:vde,sdot:mde,sdote:gde,searhk:yde,searr:bde,seArr:wde,searrow:kde,sect:xde,semi:Tde,seswar:_de,setminus:Cde,setmn:Sde,sext:Ode,Sfr:Mde,sfr:Ede,sfrown:Dde,sharp:Ade,SHCHcy:Pde,shchcy:Nde,SHcy:Rde,shcy:Lde,ShortDownArrow:Ide,ShortLeftArrow:$de,shortmid:Bde,shortparallel:Hde,ShortRightArrow:Fde,ShortUpArrow:zde,shy:Vde,Sigma:qde,sigma:Ude,sigmaf:Wde,sigmav:jde,sim:Yde,simdot:Gde,sime:Kde,simeq:Xde,simg:Jde,simgE:Qde,siml:Zde,simlE:ehe,simne:the,simplus:rhe,simrarr:nhe,slarr:ihe,SmallCircle:ahe,smallsetminus:ohe,smashp:she,smeparsl:lhe,smid:uhe,smile:che,smt:fhe,smte:dhe,smtes:hhe,SOFTcy:phe,softcy:vhe,solbar:mhe,solb:ghe,sol:yhe,Sopf:bhe,sopf:whe,spades:khe,spadesuit:xhe,spar:The,sqcap:_he,sqcaps:Che,sqcup:She,sqcups:Ohe,Sqrt:Mhe,sqsub:Ehe,sqsube:Dhe,sqsubset:Ahe,sqsubseteq:Phe,sqsup:Nhe,sqsupe:Rhe,sqsupset:Lhe,sqsupseteq:Ihe,square:$he,Square:Bhe,SquareIntersection:Hhe,SquareSubset:Fhe,SquareSubsetEqual:zhe,SquareSuperset:Vhe,SquareSupersetEqual:qhe,SquareUnion:Uhe,squarf:Whe,squ:jhe,squf:Yhe,srarr:Ghe,Sscr:Khe,sscr:Xhe,ssetmn:Jhe,ssmile:Qhe,sstarf:Zhe,Star:epe,star:tpe,starf:rpe,straightepsilon:npe,straightphi:ipe,strns:ape,sub:ope,Sub:spe,subdot:lpe,subE:upe,sube:cpe,subedot:fpe,submult:dpe,subnE:hpe,subne:ppe,subplus:vpe,subrarr:mpe,subset:gpe,Subset:ype,subseteq:bpe,subseteqq:wpe,SubsetEqual:kpe,subsetneq:xpe,subsetneqq:Tpe,subsim:_pe,subsub:Cpe,subsup:Spe,succapprox:Ope,succ:Mpe,succcurlyeq:Epe,Succeeds:Dpe,SucceedsEqual:Ape,SucceedsSlantEqual:Ppe,SucceedsTilde:Npe,succeq:Rpe,succnapprox:Lpe,succneqq:Ipe,succnsim:$pe,succsim:Bpe,SuchThat:Hpe,sum:Fpe,Sum:zpe,sung:Vpe,sup1:qpe,sup2:Upe,sup3:Wpe,sup:jpe,Sup:Ype,supdot:Gpe,supdsub:Kpe,supE:Xpe,supe:Jpe,supedot:Qpe,Superset:Zpe,SupersetEqual:eve,suphsol:tve,suphsub:rve,suplarr:nve,supmult:ive,supnE:ave,supne:ove,supplus:sve,supset:lve,Supset:uve,supseteq:cve,supseteqq:fve,supsetneq:dve,supsetneqq:hve,supsim:pve,supsub:vve,supsup:mve,swarhk:gve,swarr:yve,swArr:bve,swarrow:wve,swnwar:kve,szlig:xve,Tab:Tve,target:_ve,Tau:Cve,tau:Sve,tbrk:Ove,Tcaron:Mve,tcaron:Eve,Tcedil:Dve,tcedil:Ave,Tcy:Pve,tcy:Nve,tdot:Rve,telrec:Lve,Tfr:Ive,tfr:$ve,there4:Bve,therefore:Hve,Therefore:Fve,Theta:zve,theta:Vve,thetasym:qve,thetav:Uve,thickapprox:Wve,thicksim:jve,ThickSpace:Yve,ThinSpace:Gve,thinsp:Kve,thkap:Xve,thksim:Jve,THORN:Qve,thorn:Zve,tilde:eme,Tilde:tme,TildeEqual:rme,TildeFullEqual:nme,TildeTilde:ime,timesbar:ame,timesb:ome,times:sme,timesd:lme,tint:ume,toea:cme,topbot:fme,topcir:dme,top:hme,Topf:pme,topf:vme,topfork:mme,tosa:gme,tprime:yme,trade:bme,TRADE:wme,triangle:kme,triangledown:xme,triangleleft:Tme,trianglelefteq:_me,triangleq:Cme,triangleright:Sme,trianglerighteq:Ome,tridot:Mme,trie:Eme,triminus:Dme,TripleDot:Ame,triplus:Pme,trisb:Nme,tritime:Rme,trpezium:Lme,Tscr:Ime,tscr:$me,TScy:Bme,tscy:Hme,TSHcy:Fme,tshcy:zme,Tstrok:Vme,tstrok:qme,twixt:Ume,twoheadleftarrow:Wme,twoheadrightarrow:jme,Uacute:Yme,uacute:Gme,uarr:Kme,Uarr:Xme,uArr:Jme,Uarrocir:Qme,Ubrcy:Zme,ubrcy:ege,Ubreve:tge,ubreve:rge,Ucirc:nge,ucirc:ige,Ucy:age,ucy:oge,udarr:sge,Udblac:lge,udblac:uge,udhar:cge,ufisht:fge,Ufr:dge,ufr:hge,Ugrave:pge,ugrave:vge,uHar:mge,uharl:gge,uharr:yge,uhblk:bge,ulcorn:wge,ulcorner:kge,ulcrop:xge,ultri:Tge,Umacr:_ge,umacr:Cge,uml:Sge,UnderBar:Oge,UnderBrace:Mge,UnderBracket:Ege,UnderParenthesis:Dge,Union:Age,UnionPlus:Pge,Uogon:Nge,uogon:Rge,Uopf:Lge,uopf:Ige,UpArrowBar:$ge,uparrow:Bge,UpArrow:Hge,Uparrow:Fge,UpArrowDownArrow:zge,updownarrow:Vge,UpDownArrow:qge,Updownarrow:Uge,UpEquilibrium:Wge,upharpoonleft:jge,upharpoonright:Yge,uplus:Gge,UpperLeftArrow:Kge,UpperRightArrow:Xge,upsi:Jge,Upsi:Qge,upsih:Zge,Upsilon:eye,upsilon:tye,UpTeeArrow:rye,UpTee:nye,upuparrows:iye,urcorn:aye,urcorner:oye,urcrop:sye,Uring:lye,uring:uye,urtri:cye,Uscr:fye,uscr:dye,utdot:hye,Utilde:pye,utilde:vye,utri:mye,utrif:gye,uuarr:yye,Uuml:bye,uuml:wye,uwangle:kye,vangrt:xye,varepsilon:Tye,varkappa:_ye,varnothing:Cye,varphi:Sye,varpi:Oye,varpropto:Mye,varr:Eye,vArr:Dye,varrho:Aye,varsigma:Pye,varsubsetneq:Nye,varsubsetneqq:Rye,varsupsetneq:Lye,varsupsetneqq:Iye,vartheta:$ye,vartriangleleft:Bye,vartriangleright:Hye,vBar:Fye,Vbar:zye,vBarv:Vye,Vcy:qye,vcy:Uye,vdash:Wye,vDash:jye,Vdash:Yye,VDash:Gye,Vdashl:Kye,veebar:Xye,vee:Jye,Vee:Qye,veeeq:Zye,vellip:ebe,verbar:tbe,Verbar:rbe,vert:nbe,Vert:ibe,VerticalBar:abe,VerticalLine:obe,VerticalSeparator:sbe,VerticalTilde:lbe,VeryThinSpace:ube,Vfr:cbe,vfr:fbe,vltri:dbe,vnsub:hbe,vnsup:pbe,Vopf:vbe,vopf:mbe,vprop:gbe,vrtri:ybe,Vscr:bbe,vscr:wbe,vsubnE:kbe,vsubne:xbe,vsupnE:Tbe,vsupne:_be,Vvdash:Cbe,vzigzag:Sbe,Wcirc:Obe,wcirc:Mbe,wedbar:Ebe,wedge:Dbe,Wedge:Abe,wedgeq:Pbe,weierp:Nbe,Wfr:Rbe,wfr:Lbe,Wopf:Ibe,wopf:$be,wp:Bbe,wr:Hbe,wreath:Fbe,Wscr:zbe,wscr:Vbe,xcap:qbe,xcirc:Ube,xcup:Wbe,xdtri:jbe,Xfr:Ybe,xfr:Gbe,xharr:Kbe,xhArr:Xbe,Xi:Jbe,xi:Qbe,xlarr:Zbe,xlArr:e0e,xmap:t0e,xnis:r0e,xodot:n0e,Xopf:i0e,xopf:a0e,xoplus:o0e,xotime:s0e,xrarr:l0e,xrArr:u0e,Xscr:c0e,xscr:f0e,xsqcup:d0e,xuplus:h0e,xutri:p0e,xvee:v0e,xwedge:m0e,Yacute:g0e,yacute:y0e,YAcy:b0e,yacy:w0e,Ycirc:k0e,ycirc:x0e,Ycy:T0e,ycy:_0e,yen:C0e,Yfr:S0e,yfr:O0e,YIcy:M0e,yicy:E0e,Yopf:D0e,yopf:A0e,Yscr:P0e,yscr:N0e,YUcy:R0e,yucy:L0e,yuml:I0e,Yuml:$0e,Zacute:B0e,zacute:H0e,Zcaron:F0e,zcaron:z0e,Zcy:V0e,zcy:q0e,Zdot:U0e,zdot:W0e,zeetrf:j0e,ZeroWidthSpace:Y0e,Zeta:G0e,zeta:K0e,zfr:X0e,Zfr:J0e,ZHcy:Q0e,zhcy:Z0e,zigrarr:ewe,zopf:twe,Zopf:rwe,Zscr:nwe,zscr:iwe,zwj:awe,zwnj:owe},swe="\xC1",lwe="\xE1",uwe="\xC2",cwe="\xE2",fwe="\xB4",dwe="\xC6",hwe="\xE6",pwe="\xC0",vwe="\xE0",mwe="&",gwe="&",ywe="\xC5",bwe="\xE5",wwe="\xC3",kwe="\xE3",xwe="\xC4",Twe="\xE4",_we="\xA6",Cwe="\xC7",Swe="\xE7",Owe="\xB8",Mwe="\xA2",Ewe="\xA9",Dwe="\xA9",Awe="\xA4",Pwe="\xB0",Nwe="\xF7",Rwe="\xC9",Lwe="\xE9",Iwe="\xCA",$we="\xEA",Bwe="\xC8",Hwe="\xE8",Fwe="\xD0",zwe="\xF0",Vwe="\xCB",qwe="\xEB",Uwe="\xBD",Wwe="\xBC",jwe="\xBE",Ywe=">",Gwe=">",Kwe="\xCD",Xwe="\xED",Jwe="\xCE",Qwe="\xEE",Zwe="\xA1",e1e="\xCC",t1e="\xEC",r1e="\xBF",n1e="\xCF",i1e="\xEF",a1e="\xAB",o1e="<",s1e="<",l1e="\xAF",u1e="\xB5",c1e="\xB7",f1e="\xA0",d1e="\xAC",h1e="\xD1",p1e="\xF1",v1e="\xD3",m1e="\xF3",g1e="\xD4",y1e="\xF4",b1e="\xD2",w1e="\xF2",k1e="\xAA",x1e="\xBA",T1e="\xD8",_1e="\xF8",C1e="\xD5",S1e="\xF5",O1e="\xD6",M1e="\xF6",E1e="\xB6",D1e="\xB1",A1e="\xA3",P1e='"',N1e='"',R1e="\xBB",L1e="\xAE",I1e="\xAE",$1e="\xA7",B1e="\xAD",H1e="\xB9",F1e="\xB2",z1e="\xB3",V1e="\xDF",q1e="\xDE",U1e="\xFE",W1e="\xD7",j1e="\xDA",Y1e="\xFA",G1e="\xDB",K1e="\xFB",X1e="\xD9",J1e="\xF9",Q1e="\xA8",Z1e="\xDC",eke="\xFC",tke="\xDD",rke="\xFD",nke="\xA5",ike="\xFF",ake={Aacute:swe,aacute:lwe,Acirc:uwe,acirc:cwe,acute:fwe,AElig:dwe,aelig:hwe,Agrave:pwe,agrave:vwe,amp:mwe,AMP:gwe,Aring:ywe,aring:bwe,Atilde:wwe,atilde:kwe,Auml:xwe,auml:Twe,brvbar:_we,Ccedil:Cwe,ccedil:Swe,cedil:Owe,cent:Mwe,copy:Ewe,COPY:Dwe,curren:Awe,deg:Pwe,divide:Nwe,Eacute:Rwe,eacute:Lwe,Ecirc:Iwe,ecirc:$we,Egrave:Bwe,egrave:Hwe,ETH:Fwe,eth:zwe,Euml:Vwe,euml:qwe,frac12:Uwe,frac14:Wwe,frac34:jwe,gt:Ywe,GT:Gwe,Iacute:Kwe,iacute:Xwe,Icirc:Jwe,icirc:Qwe,iexcl:Zwe,Igrave:e1e,igrave:t1e,iquest:r1e,Iuml:n1e,iuml:i1e,laquo:a1e,lt:o1e,LT:s1e,macr:l1e,micro:u1e,middot:c1e,nbsp:f1e,not:d1e,Ntilde:h1e,ntilde:p1e,Oacute:v1e,oacute:m1e,Ocirc:g1e,ocirc:y1e,Ograve:b1e,ograve:w1e,ordf:k1e,ordm:x1e,Oslash:T1e,oslash:_1e,Otilde:C1e,otilde:S1e,Ouml:O1e,ouml:M1e,para:E1e,plusmn:D1e,pound:A1e,quot:P1e,QUOT:N1e,raquo:R1e,reg:L1e,REG:I1e,sect:$1e,shy:B1e,sup1:H1e,sup2:F1e,sup3:z1e,szlig:V1e,THORN:q1e,thorn:U1e,times:W1e,Uacute:j1e,uacute:Y1e,Ucirc:G1e,ucirc:K1e,Ugrave:X1e,ugrave:J1e,uml:Q1e,Uuml:Z1e,uuml:eke,Yacute:tke,yacute:rke,yen:nke,yuml:ike},oke="&",ske="'",lke=">",uke="<",cke='"',hT={amp:oke,apos:ske,gt:lke,lt:uke,quot:cke},Rv={},fke={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},dke=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rv,"__esModule",{value:!0});var s0=dke(fke),hke=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function pke(r){return r>=55296&&r<=57343||r>1114111?"\uFFFD":(r in s0.default&&(r=s0.default[r]),hke(r))}Rv.default=pke;var Vc=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.decodeHTML=Hn.decodeHTMLStrict=Hn.decodeXML=void 0;var ep=Vc(dT),vke=Vc(ake),mke=Vc(hT),l0=Vc(Rv),gke=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Hn.decodeXML=pT(mke.default);Hn.decodeHTMLStrict=pT(ep.default);function pT(r){var e=vT(r);return function(t){return String(t).replace(gke,e)}}var u0=function(r,e){return r<e?1:-1};Hn.decodeHTML=function(){for(var r=Object.keys(vke.default).sort(u0),e=Object.keys(ep.default).sort(u0),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=vT(ep.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),a(s)}return function(s){return String(s).replace(i,o)}}();function vT(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?l0.default(parseInt(t.substr(3),16)):l0.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var Tr={},mT=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.escapeUTF8=Tr.escape=Tr.encodeNonAsciiHTML=Tr.encodeHTML=Tr.encodeXML=void 0;var yke=mT(hT),gT=bT(yke.default),yT=wT(gT);Tr.encodeXML=TT(gT);var bke=mT(dT),Lv=bT(bke.default),wke=wT(Lv);Tr.encodeHTML=xke(Lv,wke);Tr.encodeNonAsciiHTML=TT(Lv);function bT(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function wT(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var kT=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,kke=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function qc(r){return"&#x"+(r.length>1?kke(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function xke(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(kT,qc)}}var xT=new RegExp(yT.source+"|"+kT.source,"g");function Tke(r){return r.replace(xT,qc)}Tr.escape=Tke;function _ke(r){return r.replace(yT,qc)}Tr.escapeUTF8=_ke;function TT(r){return function(e){return e.replace(xT,function(t){return r[t]||qc(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=Hn,t=Tr;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}r.decode=n;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}r.decodeStrict=i;function a(l,u){return(!u||u<=0?t.encodeXML:t.encodeHTML)(l)}r.encode=a;var o=Tr;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=Hn;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(Nv);var _T="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",Cke=92,Ske=/[\\&]/,Iv="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Oke=new RegExp("\\\\"+Iv+"|"+_T,"gi"),Mke='[&<>"]',c0=new RegExp(Mke,"g"),Eke=function(r){return r.charCodeAt(0)===Cke?r.charAt(1):Nv.decodeHTML(r)};function Uo(r){return Ske.test(r)?r.replace(Oke,Eke):r}function Ns(r){try{return q3(r)}catch{return r}}function Dke(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function xa(r){return c0.test(r)?r.replace(c0,Dke):r}function tp(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function f0(r){return r?!/[^ \t]+/.test(r):!0}var Ake=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=$v(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r}();function $v(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var Pke=1,Uc={};function Nke(r){return Uc[r]}function rp(r){delete Uc[r]}function Rke(){Uc={}}var cs=function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=Pke++,this.type=e,this.sourcepos=t,Uc[this.id]=this}return r.prototype.isContainer=function(){return $v(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new Ake(this)},r}(),Vn=function(r){Nr(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(cs),Lke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e}(Vn),Ike=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(Vn),$ke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(Vn),Bke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e}(Vn),Hke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(Vn),Fke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(Vn),zke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(Vn),Vke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(Vn),qke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(cs),Uke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e}(cs),Wke=function(r){Nr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e}(cs);function lt(r,e){switch(r){case"heading":return new Ike(r,e);case"list":case"item":return new Lke(r,e);case"link":case"image":return new qke(r,e);case"codeBlock":return new $ke(r,e);case"htmlBlock":return new Vke(r,e);case"table":return new Bke(r,e);case"tableCell":return new Hke(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Vn(r,e);case"code":return new Uke(r,e);case"refDef":return new Fke(r,e);case"customBlock":return new zke(r,e);case"customInline":return new Wke(r,e);default:return new cs(r,e)}}function CT(r){return r.type==="codeBlock"}function jke(r){return r.type==="htmlBlock"}function Yke(r){return r.type==="heading"}function d0(r){return r.type==="list"}function Gke(r){return r.type==="table"}function ga(r){return r.type==="refDef"}function ST(r){return r.type==="customBlock"}function Kke(r){return r.type==="customInline"}function vt(r,e){var t=lt("text",e);return t.literal=r,t}var OT="[A-Za-z][A-Za-z0-9-]*",Xke="[a-zA-Z_:][a-zA-Z0-9:._-]*",Jke="[^\"'=<>`\\x00-\\x20]+",Qke="'[^']*'",Zke='"[^"]*"',exe="(?:"+Jke+"|"+Qke+"|"+Zke+")",txe="(?:\\s*=\\s*"+exe+")",rxe="(?:\\s+"+Xke+txe+"?)",MT="<"+OT+rxe+"*\\s*/?>",ET="</"+OT+"\\s*[>]",nxe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",ixe="[<][?].*?[?][>]",axe="<![A-Z]+\\s+[^>]*>",oxe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",sxe="(?:"+MT+"|"+ET+"|"+nxe+"|"+ixe+"|"+axe+"|"+oxe+")",lxe=new RegExp("^"+sxe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var np;if(String.fromCodePoint)np=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var uxe=String.fromCharCode,cxe=Math.floor;np=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,a,o=-1,s=r.length;if(!s)return"";for(var l="";++o<s;){var u=Number(r[o]);if(!isFinite(u)||u<0||u>1114111||cxe(u)!==u)return String.fromCharCode(65533);u<=65535?n.push(u):(u-=65536,i=(u>>10)+55296,a=u%1024+56320,n.push(i,a)),(o+1===s||n.length>t)&&(l+=uxe.apply(void 0,n),n.length=0)}return l}}var qf=np,fxe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",dxe="[^<\\s]*[^<?!.,:*_?~\\s]",hxe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function pxe(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var a=i[n];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return r.substring(0,r.length-o)}}return r}function vxe(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function mxe(r){for(var e=new RegExp(hxe,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function gxe(r){for(var e=new RegExp("(www|https?://)."+fxe+dxe,"g"),t=[],n;n=e.exec(r);){var i=vxe(pxe(n[0])),a=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return t}function yxe(r){return Zh(Zh([],gxe(r)),mxe(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function bxe(r,e){typeof e=="boolean"&&(e=yxe);for(var t,n=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=a.sourcepos[0],c=u[0],f=u[1],d=function(C,H){return[[c,f+C],[c,f+H]]},h=[],p=0,v=s;p<v.length;p++){var m=v[p],g=m.range,b=m.url,k=m.text;g[0]>l&&h.push(vt(o.substring(l,g[0]),d(l,g[0]-1)));var T=lt("link",d.apply(void 0,g));T.appendChild(vt(k,d.apply(void 0,g))),T.destination=b,T.extendedAutolink=!0,h.push(T),l=g[1]+1}l<o.length&&h.push(vt(o.substring(l),d(l,o.length-1)));for(var x=0,w=h;x<w.length;x++){var _=w[x];a.insertBefore(_)}a.unlink()}};t=r.next();)n()}function dc(r){return r[r.length-1]}function h0(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Rs(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function wxe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=At({},r);return e.forEach(function(i){delete n[i]}),n}function ya(r){return!Object.keys(r).length}function kxe(r){Object.keys(r).forEach(function(e){delete r[e]})}var ip=10,Uf=42,Ls=95,xxe=96,p0=91,Txe=93,Is=126,v0=60,_xe=33,m0=92,Cxe=38,g0=40,Wf=41,Sxe=58,Si=39,Oi=34,Mi=36,jf="\\\\"+Iv,y0=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Oxe=new RegExp('^(?:"('+jf+'|[^"\\x00])*"|'+("'("+jf+"|[^'\\x00])*'")+"|"+("\\(("+jf+"|[^()\\x00])*\\))")),Mxe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,b0=new RegExp("^"+Iv),Exe=new RegExp("^"+_T,"i"),Dxe=/`+/,Axe=/^`+/,Pxe=/\.\.\./g,Nxe=/--+/g,Rxe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Lxe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Ixe=/^ *(?:\n *)?/,Yf=/^[ \t\n\x0b\x0c\x0d]/,w0=/^\s/,$xe=/ *$/,Bxe=/^ */,k0=/^ *(?:\n|$)/,Hxe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,Fxe=/^[^\n`\[\]\\!<&*_'"~$]+/m,zxe=function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof t=="number"?[a,[i,t+n]]:a},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(Ixe),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(Axe);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(Dxe))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(t,this.pos),l=o.split(`
`);if(l.length>1){var u=dc(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var c=lt("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(vt(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===ip?(this.pos+=1,n=lt("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):b0.test(t.charAt(this.pos))?(e.appendChild(vt(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(vt("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,a=this.pos+1;return(t=this.match(Rxe))?(n=t.slice(1,t.length-1),i=lt("link",this.sourcepos(a,this.pos)),i.destination=Ns("mailto:"+n),i.title="",i.appendChild(vt(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(Lxe))?(n=t.slice(1,t.length-1),i=lt("link",this.sourcepos(a,this.pos)),i.destination=Ns(n),i.title="",i.appendChild(vt(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(lxe);if(n===null)return!1;var i=lt("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===Si||e===Oi)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===Is||e===Mi))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=qf(a);var s=w0.test(o),l=y0.test(o),u=w0.test(i),c=y0.test(i),f=!s&&(!l||u||c),d=!u&&(!c||s||l),h,p;return e===Ls?(h=f&&(!d||c),p=d&&(!f||l)):e===Si||e===Oi?(h=f&&!d,p=d):e===Mi?(h=!s,p=!u):(h=f,p=d),this.pos=n,{numdelims:t,canOpen:h,canClose:p}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===Si?o="\u2019":e===Oi?o="\u201C":o=this.subject.slice(a-1,this.pos);var s=vt(o,this.sourcepos(a,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==Si&&e!==Oi)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,a,o,s,l,u=!1,c=(t={},t[Ls]=[e,e,e],t[Uf]=[e,e,e],t[Si]=[e],t[Oi]=[e],t[Is]=[e],t[Mi]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var f=i.cc,d=f===Ls||f===Uf;if(!i.canClose)i=i.next;else{for(n=i.previous,l=!1;n!==null&&n!==e&&n!==c[f][d?i.origdelims%3:0];){if(u=d&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(a=i,d||f===Is||f===Mi){if(!l)i=i.next;else if(n){var h=i.numdelims>=2&&n.numdelims>=2?2:1,p=d?0:1;o=n.node,s=i.node;var v=d?h===1?"emph":"strong":"strike";f===Mi&&(v="customInline");var m=lt(v),g=o.sourcepos[1],b=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-h+1],[b[0],b[1]+h-1]],o.sourcepos[1][1]-=h,s.sourcepos[0][1]+=h,o.literal=o.literal.slice(h),s.literal=s.literal.slice(h),n.numdelims-=h,i.numdelims-=h;for(var k=o.next,T=void 0;k&&k!==s;)T=k.next,k.unlink(),m.appendChild(k),k=T;if(f===Mi){var x=m.firstChild,w=x.literal||"",_=w.split(/\s/)[0];m.info=_,w.length<=_.length?x.unlink():(x.sourcepos[0][1]+=_.length,x.literal=w.replace(_+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,i),n.numdelims<=p&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=p){i.numdelims===0&&s.unlink();var C=i.next;this.removeDelimiter(i),i=C}}}else f===Si?(i.node.literal="\u2019",l&&(n.node.literal="\u2018"),i=i.next):f===Oi&&(i.node.literal="\u201D",l&&(n.node.literal="\u201C"),i=i.next);l||(c[f][d?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(Oxe);return e===null?null:Uo(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(Mxe);if(e===null){if(this.peek()===v0)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===m0&&b0.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===g0)this.pos+=1,n+=1;else if(i===Wf){if(n<1)break;this.pos+=1,n-=1}else{if(Yf.exec(qf(i))!==null)break;this.pos+=1}return this.pos===t&&i!==Wf||n!==0?null:(e=this.subject.substr(t,this.pos-t),Ns(Uo(e)))}return Ns(Uo(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(Hxe);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=vt("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===p0){this.pos+=1;var n=vt("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=vt("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(vt("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(vt("]",this.sourcepos(a,a))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===g0&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(Yf.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Wf?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var c=this.pos,f=this.parseLinkLabel();if(f>2?u=this.subject.slice(c,c+f):o.bracketAfter||(u=this.subject.slice(o.index,a)),f===0&&(this.pos=l),u){u=h0(u);var d=this.refMap[u];d&&(t=d.destination,n=d.title,i=!0)}}if(i){var h=lt(s?"image":"link");h.destination=t,h.title=n||"",h.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var p=o.node.next,v=void 0;p;)v=p.next,p.unlink(),h.appendChild(p),p=v;if(e.appendChild(h),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=a,e.appendChild(vt("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(Exe))?(e.appendChild(vt(Nv.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(Fxe)){if(this.options.smart){var i=t.replace(Pxe,"\u2026").replace(Nxe,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),tp("\u2014",l)+tp("\u2013",s)});e.appendChild(vt(i,this.sourcepos(n,this.pos)))}else{var a=vt(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace($xe,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(lt(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(lt("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(Bxe),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===Sxe)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(k0)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(k0)!==null)),!u)return this.pos=i,0;var c=h0(o);if(c==="")return this.pos=i,0;var f=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=f[1][0]+1;var d=lt("refDef",f);return d.title=n,d.dest=s,d.label=c,e.insertBefore(d),t[c]?this.refDefCandidateMap[d.id]=d:t[c]=sp(d),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<t.length;o+=1){var s=t[o];if(Yf.test(s))break;if(/\:/.test(s)&&i===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;a={line:l,ch:t[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){a={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case ip:n=this.parseNewline(e);break;case m0:n=this.parseBackslash(e);break;case xxe:n=this.parseBackticks(e);break;case Uf:case Ls:case Is:case Mi:n=this.handleDelim(i,e);break;case Si:case Oi:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case p0:n=this.parseOpenBracket(e);break;case _xe:n=this.parseBang(e);break;case Txe:n=this.parseCloseBracket(e);break;case v0:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case Cxe:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(vt(qf(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],Yke(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&bxe(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var s=a.node,l=a.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},r}(),Vxe=/^\[([ \txX])\][ \t]+/;function qxe(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(Vxe);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var Uxe={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},Wxe={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},jxe={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},Yxe={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},Gxe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Kxe={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},Xxe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},hc=4,DT=9,AT=62,Jxe=60,PT=32,NT=91,RT=/[^ \t\f\v\r\n]/,Qxe=/^(?:`{3,}|~{3,})(?= *$)/;function x0(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function _r(r,e){return e<r.length?r.charCodeAt(e):-1}function LT(r){return!RT.test(r)}function Ka(r){return r===PT||r===DT}var Zxe=/^\$\$$/,eTe={continue:function(r,e){var t=r.currentLine,n=t.match(Zxe);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&Ka(_r(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),a=t.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=Uo(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},IT={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},tTe={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},rTe={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(x0(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(x0(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},nTe={continue:function(r){var e=r.currentLine;if(!r.indented&&_r(e,r.nextNonspace)===AT)r.advanceNextNonspace(),r.advanceOffset(1,!1),Ka(_r(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},iTe={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:qxe,canContain:function(r){return r!=="item"},acceptsLines:!1},aTe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},oTe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},sTe={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(Qxe);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.fenceOffset;a>0&&Ka(_r(t,r.offset));)r.advanceOffset(1,!0),a--}else if(n>=hc)r.advanceOffset(hc,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),s=a.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=Uo(s[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},lTe={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},uTe={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;_r(e.stringContent,0)===NT&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&LT(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},cTe=IT,fTe=IT,ba={document:tTe,list:rTe,blockQuote:nTe,item:iTe,heading:aTe,thematicBreak:oTe,codeBlock:sTe,htmlBlock:lTe,paragraph:uTe,table:Uxe,tableBody:Wxe,tableHead:jxe,tableRow:Kxe,tableCell:Xxe,tableDelimRow:Yxe,tableDelimCell:Gxe,refDef:cTe,customBlock:eTe,frontMatter:fTe};function ap(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var a=r.substring(e,i);e===0&&f0(a)?t=i+1:n.push(a),e=i+1}if(e<r.length){var a=r.substring(e,r.length);f0(a)||n.push(a)}return[t,n]}function op(r,e,t,n){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,f=void 0;if(u===s.length)u=0,c=0,f="";else{var d=s.match(/[ \t]+$/);c=d?d[0].length:0,f=s.slice(u,s.length-c)}var h=n+u,p=lt(r,[[t,n],[t,n+s.length-1]]);p.stringContent=f.replace(/\\\|/g,"|"),p.startIdx=i.length,p.endIdx=i.length,p.lineOffsets=[h-1],p.paddingLeft=u,p.paddingRight=c,i.push(p),n+=s.length+1}return i}function dTe(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var hTe=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,a=t.slice(i,n),o=r.currentLine.slice(r.nextNonspace),s=ap(a),l=s[0],u=s[1],c=ap(o),f=c[0],d=c[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!d.length||d.some(function(C){return!h.test(C)})||d.length===1&&o.indexOf("|")!==0)return 0;var p=e.lineOffsets,v=r.lineNumber-1,m=dc(p)+1,g=lt("table",[[v,m],[r.lineNumber,r.offset]]);if(g.columns=d.map(function(){return{align:null}}),e.insertAfter(g),p.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var b=t.lastIndexOf(`
`,i-2)+1,k=i-b-1;r.lastLineLength=p[p.length-2]+k,r.finalize(e,v-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var T=lt("tableHead",[[v,m],[r.lineNumber,r.offset]]);g.appendChild(T);var x=lt("tableRow",[[v,m],[v,m+a.length-1]]),w=lt("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);T.appendChild(x),T.appendChild(w),op("tableCell",u,v,m+l).forEach(function(C){x.appendChild(C)});var _=op("tableDelimCell",d,r.lineNumber,r.nextNonspace+1+f);return _.forEach(function(C){w.appendChild(C)}),g.columns=_.map(dTe),r.tip=g,2}return 0},pTe=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=lt("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var a=n.parent,o=r.currentLine.slice(r.nextNonspace),s=ap(o),l=s[0],u=s[1];return op("tableCell",u,r.lineNumber,r.nextNonspace+1+l).forEach(function(c,f){f>=a.columns.length&&(c.ignored=!0),i.appendChild(c)}),2},vTe=/^(\$\$)(\s*[a-zA-Z])+/,mTe=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,gTe=function(r){var e;if(!r.indented&&!mTe.test(r.currentLine)&&(e=r.currentLine.match(vTe))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},yTe=/^`{3,}(?!.*`)|^~{3,}/,bTe=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+MT+"|"+ET+")\\s*$","i")],wTe=/^(?:=+|-+)[ \t]*$/,kTe=/^#{1,6}(?:[ \t]+|$)/,xTe=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,$T=/^[*+-]/,BT=/^(\d{1,9})([.)])/;function TTe(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match($T))a.type="bullet",a.bulletChar=n[0][0];else if((n=t.match(BT))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=_r(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===DT||i===PT)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(RT))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var o=r.column,s=r.offset;do r.advanceOffset(1,!0),i=_r(r.currentLine,r.offset);while(r.column-o<5&&Ka(i));var l=_r(r.currentLine,r.offset)===-1,u=r.column-o;return u>=5||u<1||l?(a.padding=n[0].length+1,r.column=o,r.offset=s,Ka(_r(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):a.padding=n[0].length+u,a}function _Te(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function HT(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var CTe=function(r){return!r.indented&&_r(r.currentLine,r.nextNonspace)===AT?(r.advanceNextNonspace(),r.advanceOffset(1,!1),Ka(_r(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},STe=function(r,e){var t;if(!r.indented&&!HT(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(kTe))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},OTe=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(yTe))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},MTe=function(r,e){if(!r.indented&&_r(r.currentLine,r.nextNonspace)===Jxe){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(bTe[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}r.closeUnmatchedBlocks();var s=r.addChild("htmlBlock",r.offset);return s.htmlBlockType=i,2}}}return 0},ETe=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!HT(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(wTe))){r.closeUnmatchedBlocks();for(var n=void 0;_r(e.stringContent,0)===NT&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=lt("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},DTe=function(r){return!r.indented&&xTe.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},ATe=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=TTe(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!_Te(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},PTe=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(hc,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},Gf=[CTe,STe,OTe,MTe,ETe,DTe,ATe,PTe,hTe,pTe,gTe],FT=/^(-{3}|\+{3}|;{3})$/,NTe=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&FT.test(t)){r.closeUnmatchedBlocks();var a=r.addChild("frontMatter",r.nextNonspace);return a.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},RTe={continue:function(r,e){var t=r.currentLine,n=t.match(FT);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},LTe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],ITe=/^[#`~*+_=<>0-9-;$]/,$Te=/\r\n|\n|\r/;function Kf(){return lt("document",[[1,1],[0,0]])}var BTe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},HTe=function(){function r(e){this.options=At(At({},BTe),e),this.doc=Kf(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(ba.frontMatter=RTe,Gf.unshift(NTe)),this.inlineParser=new zxe(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=hc},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=tp(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!ba[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=lt(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],ba[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,o=t.entering,s=a.type;n&&n[s]&&n[s](a,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"\uFFFD")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),ba[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&ba[t.type].acceptsLines,o=Gf.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!ITe.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=Gf[s](this,t);if(l===1){t=this.tip;break}else if(l===2){t=this.tip,a=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var u=t.type,c=this.blank&&!(u==="blockQuote"||CT(t)&&t.isFenced||u==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),f=t;f;)f.lastLineBlank=c,f=f.parent;ba[u].acceptsLines?(this.addLine(),jke(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&LTe[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=Kf(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split($Te),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===ip&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=Kf(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){kxe(e)})},r}();function T0(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function FTe(r,e){var t=r[0],n=r[1];return T0(n,e)===1?1:T0(t,e)===-1?-1:0}function zTe(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];t[o]&&(rp(t[o].id),t[o]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function VTe(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function _0(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function qTe(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function UTe(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function zT(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function $s(r,e){for(var t=r.firstChild;t;){var n=zT(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function WTe(r){for(;r.lastChild;)r=r.lastChild;return r}function jTe(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function YTe(r,e){for(var t=r.firstChild,n=null;t;){var i=zT(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?jTe(WTe(n)):null}function GTe(r,e){for(var t=r,n=null;t;){var i=FTe(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function VT(r){return Nke(r)||null}function Xf(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function KTe(r){var e=VT(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var C0=/\r\n|\n|\r/;function XTe(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return $T.test(t)||BT.test(t)}function JTe(r){return!LT(r)&&r.indexOf("|")!==-1}function sp(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var qT=function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new HTe(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(C0),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,a=e[0],o=e[1],s=t[0],l=t[1],u=n.split(C0),c=u.length,f=this.lineTexts[a-1],d=this.lineTexts[s-1];u[0]=f.slice(0,o-1)+u[0],u[c-1]=u[c-1]+d.slice(l-1);var h=s-a+1;return(i=this.lineTexts).splice.apply(i,Zh([a-1,h],u)),c-h},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(_0(e,n),zTe(e,t),[e.id,t.id].forEach(function(i){return rp(i)}),e.unlink()):t?(_0(t,n),rp(t.id),t.unlink()):qTe(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=$s(this.root,e[0]),i=$s(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(d0(e.prev)&&XTe(this.lineTexts[n-1])||Gke(e.prev)&&JTe(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),s=t?t.next:this.root.firstChild,l=o.lastChild,u=l&&CT(l)&&l.open,c=l&&ST(l)&&l.open,f=l&&d0(l);(u||c)&&s||f&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,d)),e||(e=t),t=s,i=d,s=s.next}this.parser.partialParseFinish();var h=VTe(o);return{newNodes:h,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&ga(e)||t&&ga(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!ya(this.refMap)){var i=function(a){if(ga(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&Xf(i,e.parent,t),t&&Xf(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!ya(this.refMap)){var n=function(i){if(ga(i)){var a=i.label,o=t.refMap[a];(!o||o.unlinked)&&(t.refMap[a]=sp(i))}};e.forEach(function(i){Xf(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;ya(this.refDefCandidateMap)||Rs(this.refDefCandidateMap,function(t,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=sp(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,a){if(this.referenceDefinition&&!ya(this.refMap)){var o=$s(this.root,e-1),s=$s(this.root,t+1);o&&ga(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),s&&ga(s)&&s!==n&&s!==i&&(i=s,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),a=i[0],o=i[1],s=a?Math.min(a.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,a,o,n)),c=u.newNodes,f=u.extStartNode,d=u.extEndNode,h=this.getRemovedNodeRange(f,d),p=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(f,d),this.replaceRangeNodes(f,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(f,d,c),{nodes:c,removedNodeRange:h,nextNode:p}},r.prototype.parseRefLink=function(){var e=this,t=[];return ya(this.refMap)||Rs(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],Rs(e.refLinkCandidateMap,function(a,o){var s=o.node,l=o.refLabel;l===n&&t.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){ya(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Rs(e,function(t){KTe(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),a=this.parse(e,t,i),o=wxe(a,"nextNode");UTe(a.nextNode,i),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=GTe(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return YTe(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return VT(e)},r.prototype.removeAllNode=function(){Rke()},r}(),QTe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],S0=new RegExp("<(/?(?:"+QTe.join("|")+")[^>]*>)","ig");function O0(r){return S0.test(r)?r.replace(S0,function(e,t){return"&lt;"+t}):r}var M0={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",s={};return o==="ol"&&a!==null&&a!==1&&(s.start=a.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?O0(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?O0(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+xa(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:At({href:xa(a)},i&&{title:xa(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:At({src:xa(o),alt:t(r)},a&&{title:xa(a)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),s=t[o],l=e.entering;if(s)try{return s(r,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},E0={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,a=n.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:At(At({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,a=r.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[r.startIdx],s=o!=null&&o.align?{align:o.align}:null;return t?At({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},ZTe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function e_e(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Bv=function(){function r(e){this.buffer=[],this.options=At(At({},ZTe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=At({},M0);if(this.options.gfm&&(e=At(At({},e),E0)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=At(At({},M0),E0);n.forEach(function(a){var o=e[a],s=t[a],l=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[l]=function(u,c,f){return c.origin=function(){return o(u,c,f)},s(u,c)}:e[l]=s})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type];if(!u)return"continue";var c=!1,f={entering:l,leaf:!$v(s),options:o.options,getChildrenText:e_e,skipChildren:function(){c=!0}},d=ST(s)||Kke(s)?u(s,f,o.convertors):u(s,f);if(d){var h=Array.isArray(d)?d:[d];h.forEach(function(p,v){p.type==="openTag"&&t.options.nodeId&&v===0&&(p.attributes||(p.attributes={}),p.attributes["data-nodeid"]=String(s.id)),t.renderHTMLNode(p)}),c&&(n.resumeAt(s,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var s=a[o];t.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&dc(dc(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(xa(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function t_e(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var r_e=Object.hasOwnProperty,D0=Object.setPrototypeOf,n_e=Object.isFrozen,i_e=Object.getPrototypeOf,a_e=Object.getOwnPropertyDescriptor,or=Object.freeze,Fn=Object.seal,o_e=Object.create,UT=typeof Reflect<"u"&&Reflect,pc=UT.apply,lp=UT.construct;pc||(pc=function(e,t,n){return e.apply(t,n)});or||(or=function(e){return e});Fn||(Fn=function(e){return e});lp||(lp=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t_e(t))))});var s_e=Yr(Array.prototype.forEach),A0=Yr(Array.prototype.pop),go=Yr(Array.prototype.push),Fl=Yr(String.prototype.toLowerCase),P0=Yr(String.prototype.match),jn=Yr(String.prototype.replace),l_e=Yr(String.prototype.indexOf),u_e=Yr(String.prototype.trim),Tn=Yr(RegExp.prototype.test),N0=c_e(TypeError);function Yr(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return pc(r,e,n)}}function c_e(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return lp(r,t)}}function xe(r,e){D0&&D0(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=Fl(n);i!==n&&(n_e(e)||(e[t]=i),n=i)}r[n]=!0}return r}function Ei(r){var e=o_e(null),t=void 0;for(t in r)pc(r_e,r,[t])&&(e[t]=r[t]);return e}function Bs(r,e){for(;r!==null;){var t=a_e(r,e);if(t){if(t.get)return Yr(t.get);if(typeof t.value=="function")return Yr(t.value)}r=i_e(r)}function n(i){return console.warn("fallback value for",i),null}return n}var R0=or(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jf=or(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qf=or(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f_e=or(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zf=or(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),d_e=or(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L0=or(["#text"]),I0=or(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ed=or(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$0=or(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hs=or(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),h_e=Fn(/\{\{[\s\S]*|[\s\S]*\}\}/gm),p_e=Fn(/<%[\s\S]*|[\s\S]*%>/gm),v_e=Fn(/^data-[\-\w.\u00B7-\uFFFF]/),m_e=Fn(/^aria-[\-\w]+$/),g_e=Fn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),y_e=Fn(/^(?:\w+script|data):/i),b_e=Fn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function Zr(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var w_e=function(){return typeof window>"u"?null:window},k_e=function(e,t){if((typeof e>"u"?"undefined":Ao(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function WT(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w_e(),e=function(E){return WT(E)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,a=r.HTMLTemplateElement,o=r.Node,s=r.Element,l=r.NodeFilter,u=r.NamedNodeMap,c=u===void 0?r.NamedNodeMap||r.MozNamedAttrMap:u,f=r.Text,d=r.Comment,h=r.DOMParser,p=r.trustedTypes,v=s.prototype,m=Bs(v,"cloneNode"),g=Bs(v,"nextSibling"),b=Bs(v,"childNodes"),k=Bs(v,"parentNode");if(typeof a=="function"){var T=n.createElement("template");T.content&&T.content.ownerDocument&&(n=T.content.ownerDocument)}var x=k_e(p,t),w=x&&Kr?x.createHTML(""):"",_=n,C=_.implementation,H=_.createNodeIterator,V=_.createDocumentFragment,N=_.getElementsByTagName,U=t.importNode,R={};try{R=Ei(n).documentMode?n.documentMode:{}}catch{}var S={};e.isSupported=typeof k=="function"&&C&&typeof C.createHTMLDocument<"u"&&R!==9;var L=h_e,$=p_e,y=v_e,A=m_e,B=y_e,K=b_e,Q=g_e,D=null,P=xe({},[].concat(Zr(R0),Zr(Jf),Zr(Qf),Zr(Zf),Zr(L0))),q=null,pe=xe({},[].concat(Zr(I0),Zr(ed),Zr($0),Zr(Hs))),ke=null,qe=null,Ee=!0,we=!0,le=!1,ht=!1,me=!1,Ae=!1,We=!1,Ct=!1,sr=!1,Gr=!0,Kr=!1,la=!0,bi=!0,Xr=!1,Sr={},Jr=null,ua=xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ca=null,wi=xe({},["audio","video","img","source","image","track"]),O=null,W=xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oe="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",Be="http://www.w3.org/1999/xhtml",Gt=Be,Rr=!1,F=void 0,ae=["application/xhtml+xml","text/html"],St="text/html",st=void 0,Lr=null,de=n.createElement("form"),Qr=function(E){Lr&&Lr===E||((!E||(typeof E>"u"?"undefined":Ao(E))!=="object")&&(E={}),E=Ei(E),D="ALLOWED_TAGS"in E?xe({},E.ALLOWED_TAGS):P,q="ALLOWED_ATTR"in E?xe({},E.ALLOWED_ATTR):pe,O="ADD_URI_SAFE_ATTR"in E?xe(Ei(W),E.ADD_URI_SAFE_ATTR):W,ca="ADD_DATA_URI_TAGS"in E?xe(Ei(wi),E.ADD_DATA_URI_TAGS):wi,Jr="FORBID_CONTENTS"in E?xe({},E.FORBID_CONTENTS):ua,ke="FORBID_TAGS"in E?xe({},E.FORBID_TAGS):{},qe="FORBID_ATTR"in E?xe({},E.FORBID_ATTR):{},Sr="USE_PROFILES"in E?E.USE_PROFILES:!1,Ee=E.ALLOW_ARIA_ATTR!==!1,we=E.ALLOW_DATA_ATTR!==!1,le=E.ALLOW_UNKNOWN_PROTOCOLS||!1,ht=E.SAFE_FOR_TEMPLATES||!1,me=E.WHOLE_DOCUMENT||!1,Ct=E.RETURN_DOM||!1,sr=E.RETURN_DOM_FRAGMENT||!1,Gr=E.RETURN_DOM_IMPORT!==!1,Kr=E.RETURN_TRUSTED_TYPE||!1,We=E.FORCE_BODY||!1,la=E.SANITIZE_DOM!==!1,bi=E.KEEP_CONTENT!==!1,Xr=E.IN_PLACE||!1,Q=E.ALLOWED_URI_REGEXP||Q,Gt=E.NAMESPACE||Be,F=ae.indexOf(E.PARSER_MEDIA_TYPE)===-1?F=St:F=E.PARSER_MEDIA_TYPE,st=F==="application/xhtml+xml"?function(J){return J}:Fl,ht&&(we=!1),sr&&(Ct=!0),Sr&&(D=xe({},[].concat(Zr(L0))),q=[],Sr.html===!0&&(xe(D,R0),xe(q,I0)),Sr.svg===!0&&(xe(D,Jf),xe(q,ed),xe(q,Hs)),Sr.svgFilters===!0&&(xe(D,Qf),xe(q,ed),xe(q,Hs)),Sr.mathMl===!0&&(xe(D,Zf),xe(q,$0),xe(q,Hs))),E.ADD_TAGS&&(D===P&&(D=Ei(D)),xe(D,E.ADD_TAGS)),E.ADD_ATTR&&(q===pe&&(q=Ei(q)),xe(q,E.ADD_ATTR)),E.ADD_URI_SAFE_ATTR&&xe(O,E.ADD_URI_SAFE_ATTR),E.FORBID_CONTENTS&&(Jr===ua&&(Jr=Ei(Jr)),xe(Jr,E.FORBID_CONTENTS)),bi&&(D["#text"]=!0),me&&xe(D,["html","head","body"]),D.table&&(xe(D,["tbody"]),delete ke.tbody),or&&or(E),Lr=E)},Se=xe({},["mi","mo","mn","ms","mtext"]),fs=xe({},["foreignobject","desc","title","annotation-xml"]),qn=xe({},Jf);xe(qn,Qf),xe(qn,f_e);var Yc=xe({},Zf);xe(Yc,d_e);var A_=function(E){var J=k(E);(!J||!J.tagName)&&(J={namespaceURI:Be,tagName:"template"});var se=Fl(E.tagName),Ue=Fl(J.tagName);if(E.namespaceURI===he)return J.namespaceURI===Be?se==="svg":J.namespaceURI===oe?se==="svg"&&(Ue==="annotation-xml"||Se[Ue]):Boolean(qn[se]);if(E.namespaceURI===oe)return J.namespaceURI===Be?se==="math":J.namespaceURI===he?se==="math"&&fs[Ue]:Boolean(Yc[se]);if(E.namespaceURI===Be){if(J.namespaceURI===he&&!fs[Ue]||J.namespaceURI===oe&&!Se[Ue])return!1;var Ht=xe({},["title","style","font","a","script"]);return!Yc[se]&&(Ht[se]||!qn[se])}return!1},bn=function(E){go(e.removed,{element:E});try{E.parentNode.removeChild(E)}catch{try{E.outerHTML=w}catch{E.remove()}}},Wv=function(E,J){try{go(e.removed,{attribute:J.getAttributeNode(E),from:J})}catch{go(e.removed,{attribute:null,from:J})}if(J.removeAttribute(E),E==="is"&&!q[E])if(Ct||sr)try{bn(J)}catch{}else try{J.setAttribute(E,"")}catch{}},jv=function(E){var J=void 0,se=void 0;if(We)E="<remove></remove>"+E;else{var Ue=P0(E,/^[\r\n\t ]+/);se=Ue&&Ue[0]}F==="application/xhtml+xml"&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");var Ht=x?x.createHTML(E):E;if(Gt===Be)try{J=new h().parseFromString(Ht,F)}catch{}if(!J||!J.documentElement){J=C.createDocument(Gt,"template",null);try{J.documentElement.innerHTML=Rr?"":Ht}catch{}}var Ft=J.body||J.documentElement;return E&&se&&Ft.insertBefore(n.createTextNode(se),Ft.childNodes[0]||null),Gt===Be?N.call(J,me?"html":"body")[0]:me?J.documentElement:Ft},Yv=function(E){return H.call(E.ownerDocument||E,E,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},P_=function(E){return E instanceof f||E instanceof d?!1:typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof c)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"},io=function(E){return(typeof o>"u"?"undefined":Ao(o))==="object"?E instanceof o:E&&(typeof E>"u"?"undefined":Ao(E))==="object"&&typeof E.nodeType=="number"&&typeof E.nodeName=="string"},wn=function(E,J,se){!S[E]||s_e(S[E],function(Ue){Ue.call(e,J,se,Lr)})},Gv=function(E){var J=void 0;if(wn("beforeSanitizeElements",E,null),P_(E)||P0(E.nodeName,/[\u0080-\uFFFF]/))return bn(E),!0;var se=st(E.nodeName);if(wn("uponSanitizeElement",E,{tagName:se,allowedTags:D}),!io(E.firstElementChild)&&(!io(E.content)||!io(E.content.firstElementChild))&&Tn(/<[/\w]/g,E.innerHTML)&&Tn(/<[/\w]/g,E.textContent)||se==="select"&&Tn(/<template/i,E.innerHTML))return bn(E),!0;if(!D[se]||ke[se]){if(bi&&!Jr[se]){var Ue=k(E)||E.parentNode,Ht=b(E)||E.childNodes;if(Ht&&Ue)for(var Ft=Ht.length,zt=Ft-1;zt>=0;--zt)Ue.insertBefore(m(Ht[zt],!0),g(E))}return bn(E),!0}return E instanceof s&&!A_(E)||(se==="noscript"||se==="noembed")&&Tn(/<\/no(script|embed)/i,E.innerHTML)?(bn(E),!0):(ht&&E.nodeType===3&&(J=E.textContent,J=jn(J,L," "),J=jn(J,$," "),E.textContent!==J&&(go(e.removed,{element:E.cloneNode()}),E.textContent=J)),wn("afterSanitizeElements",E,null),!1)},Kv=function(E,J,se){if(la&&(J==="id"||J==="name")&&(se in n||se in de))return!1;if(!(we&&!qe[J]&&Tn(y,J))){if(!(Ee&&Tn(A,J))){if(!q[J]||qe[J])return!1;if(!O[J]){if(!Tn(Q,jn(se,K,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&E!=="script"&&l_e(se,"data:")===0&&ca[E])){if(!(le&&!Tn(B,jn(se,K,"")))){if(se)return!1}}}}}}return!0},Xv=function(E){var J=void 0,se=void 0,Ue=void 0,Ht=void 0;wn("beforeSanitizeAttributes",E,null);var Ft=E.attributes;if(!!Ft){var zt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(Ht=Ft.length;Ht--;){J=Ft[Ht];var kn=J,ao=kn.name,Jv=kn.namespaceURI;if(se=u_e(J.value),Ue=st(ao),zt.attrName=Ue,zt.attrValue=se,zt.keepAttr=!0,zt.forceKeepAttr=void 0,wn("uponSanitizeAttribute",E,zt),se=zt.attrValue,!zt.forceKeepAttr&&(Wv(ao,E),!!zt.keepAttr)){if(Tn(/\/>/i,se)){Wv(ao,E);continue}ht&&(se=jn(se,L," "),se=jn(se,$," "));var R_=st(E.nodeName);if(!!Kv(R_,Ue,se))try{Jv?E.setAttributeNS(Jv,ao,se):E.setAttribute(ao,se),A0(e.removed)}catch{}}}wn("afterSanitizeAttributes",E,null)}},N_=function fe(E){var J=void 0,se=Yv(E);for(wn("beforeSanitizeShadowDOM",E,null);J=se.nextNode();)wn("uponSanitizeShadowNode",J,null),!Gv(J)&&(J.content instanceof i&&fe(J.content),Xv(J));wn("afterSanitizeShadowDOM",E,null)};return e.sanitize=function(fe,E){var J=void 0,se=void 0,Ue=void 0,Ht=void 0,Ft=void 0;if(Rr=!fe,Rr&&(fe="<!-->"),typeof fe!="string"&&!io(fe)){if(typeof fe.toString!="function")throw N0("toString is not a function");if(fe=fe.toString(),typeof fe!="string")throw N0("dirty is not a string, aborting")}if(!e.isSupported){if(Ao(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof fe=="string")return r.toStaticHTML(fe);if(io(fe))return r.toStaticHTML(fe.outerHTML)}return fe}if(Ae||Qr(E),e.removed=[],typeof fe=="string"&&(Xr=!1),!Xr)if(fe instanceof o)J=jv("<!---->"),se=J.ownerDocument.importNode(fe,!0),se.nodeType===1&&se.nodeName==="BODY"||se.nodeName==="HTML"?J=se:J.appendChild(se);else{if(!Ct&&!ht&&!me&&fe.indexOf("<")===-1)return x&&Kr?x.createHTML(fe):fe;if(J=jv(fe),!J)return Ct?null:w}J&&We&&bn(J.firstChild);for(var zt=Yv(Xr?fe:J);Ue=zt.nextNode();)Ue.nodeType===3&&Ue===Ht||Gv(Ue)||(Ue.content instanceof i&&N_(Ue.content),Xv(Ue),Ht=Ue);if(Ht=null,Xr)return fe;if(Ct){if(sr)for(Ft=V.call(J.ownerDocument);J.firstChild;)Ft.appendChild(J.firstChild);else Ft=J;return Gr&&(Ft=U.call(t,Ft,!0)),Ft}var kn=me?J.outerHTML:J.innerHTML;return ht&&(kn=jn(kn,L," "),kn=jn(kn,$," ")),x&&Kr?x.createHTML(kn):kn},e.setConfig=function(fe){Qr(fe),Ae=!0},e.clearConfig=function(){Lr=null,Ae=!1},e.isValidAttribute=function(fe,E,J){Lr||Qr({});var se=st(fe),Ue=st(E);return Kv(se,Ue,J)},e.addHook=function(fe,E){typeof E=="function"&&(S[fe]=S[fe]||[],go(S[fe],E))},e.removeHook=function(fe){S[fe]&&A0(S[fe])},e.removeHooks=function(fe){S[fe]&&(S[fe]=[])},e.removeAllHooks=function(){S={}},e}var x_e=WT(),T_e=["iframe","embed"],jT=[];function YT(r){Bt(T_e,r)&&jT.push(r.toLowerCase())}function aa(r,e){return x_e.sanitize(r,I({ADD_TAGS:jT,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function GT(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function up(r){r=r.match(ja)[0];var e=r.match(new RegExp(qx,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(t[a]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function cp(r){return yn(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function B0(r,e,t,n){var i=n.getToDOMNode(e)(r),a=t(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var s=cp(i);return{dom:i,htmlAttrs:s}}var __e={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:cp(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=B0(n,r,e,t),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",hr([r,o],yn(a.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:cp(n)}}}],toDOM:function(n){var i=B0(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function C_e(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";YT(a),n[o][a]=__e[i](a,e,t)})}),n}var S_e=/^\s*<\s*\//,O_e={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(t>3&&(o["data-backticks"]=t),i.length>0&&i[0].length>0){var s=i[0];a.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,a=r.info;if(a.indexOf("widget")!==-1&&n){i();var o=Hx(r),s=Bx(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return t()}};function Hv(r,e){var t=I({},O_e);return r&&(t.link=function(n,i){var a=i.entering,o=i.origin,s=o();return a&&(s.attributes=I(I({},s.attributes),r)),s}),e&&Object.keys(e).forEach(function(n){var i=t[n],a=e[n];i&&Pr(a)?t[n]=function(o,s){var l=I({},s);return l.origin=function(){return i(o,s)},a(o,l)}:Bt(["htmlBlock","htmlInline"],n)&&!Pr(a)?t[n]=function(o,s){var l=o.literal.match(ja);if(l){var u=l[0],c=l[1],f=l[3],d=(c||f).toLowerCase(),h=a[d],p=GT(o,d);if(h){var v=I({},o);return v.attrs=up(u),v.childrenHTML=p,v.type=d,s.entering=!S_e.test(o.literal),h(v,s)}}return s.origin()}:t[n]=a}),t}var M_e=["list","item","blockQuote"],E_e=["UL","OL","BLOCKQUOTE"];function D_e(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function H0(r,e,t){var n=us(e)-1,i=Lc(e)-1,a=t[n].getBoundingClientRect(),o=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:o<=0?t[n].clientHeight:o+A_e(r,t,Math.min(i+1,r.childCount-1)),rect:a}}function A_e(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&D_e(r,t);)i+=e[t].clientHeight,t+=1;return i}function P_e(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function vc(r,e){for(var t=0;r&&r!==e&&(Bt(E_e,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function N_e(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var a=KT(i,r,vc(t,e));n=t,t=a}var o=t||n;return o===e?null:o}function KT(r,e,t){return r&&e>t+r.offsetTop?KT(r.nextElementSibling,e,t)||r:null}function R_e(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function td(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||xF(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return L_e({mdNode:e,el:t})}function L_e(r){for(var e=r.mdNode,t=r.el;(Bt(M_e,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var Vr={};function I_e(r,e){Vr[r]=Vr[r]||{},Vr[r].height=e}function $_e(r,e){Vr[r]=Vr[r]||{},Vr[r].offsetTop=e}function B_e(r){return Vr[r]&&Vr[r].height}function H_e(r){return Vr[r]&&Vr[r].offsetTop}function fp(r){r&&(delete Vr[Number(r.getAttribute("data-nodeid"))],yn(r.children).forEach(function(e){fp(e)}))}function F_e(r,e,t){var n=B_e(t),i=H_e(t),a=n||r.clientHeight,o=i||vc(r,e)||r.offsetTop;return n||I_e(t,a),i||$_e(t,o),{nodeHeight:a,offsetTop:o}}var rd=ie("md-preview-highlight");function z_e(r,e){for(var t=r.firstChild;t&&t.next&&!(Ic(t.next)>e+1);)t=t.next;return t}var XT=function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=ie("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,o=t.sanitizer,s=t.highlight,l=s===void 0?!1:s;this.renderer=new Bv({gfm:!0,nodeId:!0,convertors:Hv(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=Gx('<div class="'+ie("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){_v(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),fT(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",N_e(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Hr(e,rd)}},r.prototype.updateCursorNode=function(e,t){e&&(e=Wa(e,function(o){return!CF(o)}),e.type==="tableRow"?e=z_e(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Hr(i,rd),a&&hn(a,rd),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(p){return t.renderer.render(p)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var s=i.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),f=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);for(var d=c;d&&d!==f;){var h=d.nextElementSibling;ra(d),fp(d),d=h}d!=null&&d.parentNode&&(ra(d),fp(d))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){cT(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return Ov(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){gn(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){gn(this.el,{minHeight:e+"px"})},r}();function Ln(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function Xa(r){return!!Ln(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function mc(r){return!!Ln(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Ja(r){return Ln(r,function(e){var t=e.type;return t.name==="listItem"})}function Wc(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return I({},t&&{rawHTML:t})}}}function JT(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function QT(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(t[n]=Bt(["rawHTML","extended"],n)?a:Number(a)),t},{})}}}function _t(){return{htmlAttrs:{default:null},classNames:{default:null}}}function pt(r){var e=r.htmlAttrs,t=r.classNames;return I(I({},e),{class:t?t.join(" "):null})}function V_e(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}return null}function q_e(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<i;u+=1)l=l.matchType(t.child(u).type);if(l&&l.validEnd)return o}return null}function U_e(r,e,t,n){var i=V_e(r,t),a=q_e(e,t);if(i&&a){var o=i.map(function(l){return{type:l}}),s=a.map(function(l){return{type:l,attrs:n}});return o.concat({type:t}).concat(s)}return null}function W_e(r,e,t,n,i){for(var a=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=j.empty,f=t.length-1;f>=0;f-=1)c=j.from(t[f].type.create(t[f].attrs,c));r.step(new Tt(a-(n?2:0),o,a,o,new Z(c,0,0),t.length,!0));for(var d=0,f=0;f<t.length;f+=1)if(t[f].type===i){d=f+1;break}for(var h=t.length-d,p=a+t.length-(n?2:0),f=s,v=l;f<v;f+=1){var m=f===s;!m&&Aa(r.doc,p,h)&&(r.split(p,h),p+=h*2),p+=u.child(f).nodeSize}return r}function ZT(r,e,t,n){var i=e.$from,a=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&i.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(o-1)){var u=r.doc.resolve(e.start-2);s=new ju(u,u,o),e.endIndex<e.parent.childCount&&(e=new ju(i,r.doc.resolve(a.end(o)),o)),l=!0}var c=U_e(s,e,t,n);return c?W_e(r,e,c,l,t):r}function e_(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return Ja(t)}function j_e(r,e){var t=e.$from,n=e.$to,i=Ja(t),a=Ja(n);if(i&&a)for(;a;){var o=a.offset,s=a.node,l={task:!s.attrs.task,checked:!1};if(r.setNodeMarkup(o,null,l),o===i.offset)break;a=e_(r.doc,o)}return r}function Y_e(r,e,t){var n=e.$from,i=e.$to,a=Ja(n),o=Ja(i);if(a&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&r.setNodeMarkup(s,null,{task:!1,checked:!1});var c=r.doc.resolve(s);if(c.parent.type!==t){var f=c.before(u-1);r.setNodeMarkup(f,t)}if(s===a.offset)break;o=e_(r.doc,s)}return r}function t_(r){return function(e,t){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,s=a.blockRange(o);if(s){var l=Xa(a)?Y_e(i,s,r):ZT(i,s,r);return t(l),!0}return!1}}function G_e(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,a=t.$from,o=t.$to,s=a.blockRange(o);if(s){var l=Xa(a)?j_e(n,s):ZT(n,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function K_e(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(v){var m=v.childCount,g=v.firstChild;return!!m&&g.type===r});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==r)return!1;var c=u.lastChild&&u.lastChild.type===l.type,f=c?j.from(r.create()):null,d=new Z(j.from(r.create(null,j.from(l.type.create(null,f)))),c?3:1,0),h=s.start,p=s.end;return n.step(new Tt(h-(c?3:1),p,h,p,d,1,!0)),t(n),!0}return!1}}function X_e(r,e,t){var n=e.$from,i=e.$to,a=e.end,o=e.depth,s=e.parent,l=i.end(o);return a<l&&(r.step(new Tt(a-1,l,a,l,new Z(j.from(t.create(null,s.copy())),1,0),1,!0)),e=new ju(r.doc.resolve(n.pos),r.doc.resolve(l),o)),r.lift(e,Oc(e)),r}function J_e(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var o=r.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===t.childCount,c=o.node(-1),f=o.index(-1),d=c.canReplace(f+(l?0:1),f+1,s==null?void 0:s.content.append(u?j.empty:j.from(t)));if(s&&d){var h=o.pos,p=h+s.nodeSize;r.step(new Tt(h-(l?1:0),p+(u?1:0),h+1,p-1,new Z((l?j.empty:j.from(t.copy(j.empty))).append(u?j.empty:j.from(t.copy(j.empty))),l?0:1,u?0:1),l?0:1))}return r}function Q_e(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(c){var f=c.childCount,d=c.firstChild;return!!f&&d.type===r});if(s){var l=a.node(s.depth-1).type===r,u=l?X_e(n,s,r):J_e(n,s);return t(u),!0}return!1}}function Z_e(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var s=a.node(-1);if(s.type!==r)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==r||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var l=a.index(-1)>0,u=j.empty,c=a.depth-(l?1:2);c>=a.depth-3;c-=1)u=j.from(a.node(c).copy(u));return u=u.append(j.from(r.createAndFill())),n.replace(l?a.before():a.before(-1),a.after(-3),new Z(u,l?3:2,2)),n.setSelection(Ce.near(n.doc.resolve(a.pos+(l?3:2)))),t(n),!0}var f=o.pos===a.end()?s.contentMatchAt(0).defaultType:null,d=f&&[null,{type:f}];return n.delete(a.pos,o.pos),Aa(n.doc,a.pos,2,d)?(n.split(a.pos,2,d),t(n),!0):!1}}function eCe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Xa(i)?K_e(n.nodes.listItem)(r,e):!1}}}function tCe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Xa(i)?Q_e(n.nodes.listItem)(r,e):!1}}}function Fv(){return{indent:eCe(),outdent:tCe()}}var F0=new Map,Et=function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=Ln(e,function(p){var v=p.type;return v.name==="table"});if(t){var n=t.node,i=t.depth,a=t.offset,o=F0.get(n);if((o==null?void 0:o.tableStartPos)===a+1)return o;var s=[],l=e.start(i),u=n.child(0),c=n.child(1),f=dp(u,l),d=dp(c,l+u.nodeSize);u.forEach(function(p){return s.push(p)}),c.forEach(function(p){return s.push(p)});var h=new r(n,s,l,f.concat(d));return F0.set(n,h),h}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,a;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(t),c=u[0],f=u[1];return i=Fb(s,c),s=i[0],c=i[1],a=Fb(l,f),l=a[0],f=a[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:f})},r.prototype.getSpannedOffsets=function(e){return e},r}(),dp=function(r,e){var t=[];return r.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;a[u];)u+=1;a[u]={offset:e+i+s+2,nodeSize:l},a.length+=1}),t.push(a)}),t};function rCe(r,e){return wv(Et.prototype,r),dp=e,Et}function nCe(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,o=t.endColIdx,s=[],l=n;l<=a;l+=1)for(var u=i;u<=o;u+=1){var c=e.getCellInfo(l,u),f=c.offset,d=c.nodeSize;s.push(new Fk(r.resolve(f+1),r.resolve(f+d-1)))}return s}function iCe(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),j.from(t)}var zv=function(r){ee(e,r);function e(t,n){n===void 0&&(n=t);var i=this,a=t.node(0),o=Et.create(t),s=o.getRectOffsets(t,n),l=nCe(a,o,s);return i=r.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=t,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,a=this.endCell.pos,o=t.resolve(n.map(i)),s=t.resolve(n.map(a)),l=Et.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],f=s.end(s.depth-c),d=Math.min(f-4,s.pos);return Le.create(t,d)}return new e(o,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),o=t.child(1).type.create(),s=Et.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,f=l.endRowIdx,d=l.endColIdx,h=!1,p=u;p<=f;p+=1){for(var v=[],m=c;m<=d;m+=1){var g=s.getCellInfo(p,m).offset,b=t.nodeAt(g-n);b&&(h=b.type.name==="tableHeadCell",s.extendedRowspan(p,m)||s.extendedColspan(p,m)?v.push(b.type.create({extended:!0})):v.push(b.copy(b.content)))}var k=i.copy(j.from(v)),T=h?a:o;T.content=T.content.append(j.from(k))}return new Z(iCe(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Ce);function aCe(r,e,t){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<r;l+=1){var u=t&&t[l],c=o.create(null,u?e.text(u):[]);s.push(a.create(null,c))}return[i.create(null,s)]}function r_(r,e,t,n){for(var i=t.nodes,a=i.tableRow,o=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<r;u+=1){for(var c=[],f=0;f<e;f+=1){var d=n&&n[u*e+f],h=s.create(null,d?t.text(d):[]);c.push(o.create(null,h))}l.push(a.create(null,c))}return l}function zl(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,a=i.tableHeadCell,o=i.tableBodyCell,s=i.paragraph,l=e===0?a:o,u=[],c=0;c<r;c+=1)u.push(l.create(n,s.create()));return u}function n_(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function i_(r){return Ln(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function tn(r){if(r instanceof Le){var e=r.$anchor,t=i_(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function a_(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function Sa(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,a=n-e+1,o=i-t+1;return{rowCount:a,columnCount:o}}function oCe(r,e){return I(I({},r.attrs),e)}var Jn=new as("cellSelection"),sCe=2,lCe=function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=n_(e.target,this.view.dom);if(e.button===sCe){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=Jn.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Jn.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Jn,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),s=i_(o);if(s){var l=o.before(s.depth);return a.resolve(l)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,a=n.tr,o=Jn.getState(this.view.state)===null,s=new zv(e,t);if(o||!i.eq(s)){var l=a.setSelection(s);o&&l.setMeta(Jn,t.pos),this.view.dispatch(l)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r}(),uCe=ie("cell-selected");function cCe(r){var e=r.selection,t=r.doc;if(e instanceof zv){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,s=a.$to;n.push(fr.node(o.pos-1,s.pos+1,{class:uCe}))}),ut.create(t,n)}return null}function fCe(){return new mr({key:Jn,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(Jn);if(t)return t===-1?null:t;if(rc(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:cCe,createSelectionBetween:function(r){var e=r.state;return rc(Jn.getState(e))?null:e.selection}},view:function(r){return new lCe(r)}})}var o_=function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return ea(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(t,i,n.keys[a],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r}(),nd="en-US",dCe=function(){function r(){this.code=nd,this.langs=new o_}return r.prototype.setCode=function(e){this.code=e||nd},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var a=n.langs.get(i);n.langs.set(i,pv(a,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(nd));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r}(),be=new dCe,hCe=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function pCe(r,e){return hCe.map(function(t){return t.map(function(n){var i=n.action,a=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:be.get(i),onClick:function(){r.emit("command",a,o)},disabled:e&&!!s,className:l}})}).concat()}function vCe(r){return new mr({props:{handleDOMEvents:{contextmenu:function(e,t){var n=n_(t.target,e.dom);if(n){t.preventDefault();var i=t,a=i.clientX,o=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:a-l+10+"px",top:o-u+30+"px"},menuGroups:pCe(r,c),tableCell:n}),!0}return!1}}}})}function mCe(){return new mr({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,a=r.posAtCoords({left:n,top:i});if(a){var o=r.state,s=o.doc,l=o.tr,u=s.resolve(a.pos),c=Ja(u),f=e.target,d=getComputedStyle(f,":before"),h=e,p=h.offsetX,v=h.offsetY;if(!c||!Tv(d,p,v))return!1;e.preventDefault();var m=u.before(c.depth),g=c.node.attrs;return l.setNodeMarkup(m,null,I(I({},g),{checked:!g.checked})),r.dispatch(l),!0}return!1}}}})}var gCe=["image","link","customBlock","frontMatter"],yCe=["strong","strike","emph","code"],s_=["bulletList","orderedList","taskList"];function bCe(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function wCe(r,e){e[r]={active:!0},s_.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function kCe(r,e,t,n){yCe.forEach(function(i){var a=t.marks[i],o=r.marksAcross(e)||[],s=!!a.isInSet(o);s&&(n[i]={active:!0})})}function xCe(r,e,t){var n=r.$from,i=r.$to,a=r.from,o=r.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(l,u,c){var f=bCe(l,c);Bt(gCe,f)||(Bt(s_,f)?(wCe(f,s),s.indent.disabled=!1,s.outdent.disabled=!1):f==="paragraph"||f==="text"?kCe(n,i,t,s):s[f]={active:!0})}),s}function TCe(r){return new mr({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,a=t.schema;r.emit("changeToolbarState",{toolbarState:xCe(n,i,a)})}}}})}var _Ce=function(){function r(e,t,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new lv(a.innerViewContainer,{state:$i.create({doc:a.node,plugins:[Zo({"Mod-z":function(){return qo(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return hv(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:Tx,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),Px()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=ie("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=ie("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=ie("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(tt(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=yH(this.innerEditorView.state);for(this.canceled=!0;e--;)qo(this.innerEditorView.state,this.innerEditorView.dispatch),qo(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Le.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Pr(this.getPos)){for(var a=this.editorView.state.tr,o=kr.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)a.step(l[u].map(o));a.docChanged&&this.editorView.dispatch(a)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r}(),z0="image-link",CCe=function(){function r(e,t,n,i){var a=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(a.imageLink&&Pr(a.getPos)&&zx(l,z0)){var f=getComputedStyle(l,":before");if(s.stopPropagation(),Tv(f,u,c)){var d=a.view.state.tr,h=a.getPos();d.setSelection(tt(d,h,h+1)),a.view.dispatch(d),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=z0,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=pt(e.attrs);return t.src=i,a&&(t.alt=a),Sv(o,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r}(),SCe="toastui-editor-ww-code-block",OCe="toastui-editor-ww-code-block-language",MCe=function(){function r(e,t,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Pr(a.getPos)){var u=a.view.coordsAtPos(a.getPos()),c=u.top,f=u.right;a.createLanguageEditor({top:c,right:f})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=SCe;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=pt(this.node.attrs);return n&&t.setAttribute("data-language",n),Sv(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,a=document.createElement("span");a.className=OCe;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var s=a.clientWidth;gn(a,{top:n+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&Pr(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,ra(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r}(),ECe=/MsoListParagraph/,l_=/style=(.|\n)*mso-/,u_=/mso-list:(.*)/,DCe=/O:P/,ACe=/^(n|u|l)/,PCe="p.MsoListParagraph";function NCe(r){return l_.test(r)}function RCe(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(Bc(n)){var i=n,a=i.outerHTML,o=i.textContent,s=l_.test(a),l=u_.test(a);s&&!l&&o?e.push([n,!0]):(DCe.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],f=u[1];f?ZF(c):ra(c)}),r.innerHTML.trim()}function LCe(r,e){var t=r.getAttribute("style");if(t){var n=t.match(u_),i=n[1],a=i.trim().split(" "),o=a[1],s=parseInt(o.replace("level",""),10),l=ACe.test(r.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:RCe(r)}}return null}function ICe(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function $Ce(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],a=LCe(t,n);a&&(i&&ICe(a,i),e.push(a))}),e}function c_(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,t.appendChild(o),i.length&&t.appendChild(c_(i))}),t}function BCe(r){var e=$Ce(r),t=e.filter(function(n){var i=n.parent;return!i});return c_(t)}function HCe(r){for(;r&&!Bc(r);)r=r.nextSibling;return r?!ECe.test(r.className):!0}function FCe(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=XF(e,PCe);n.forEach(function(a){var o=HCe(a.nextSibling);if(t.push(a),o){var s=BCe(t),l=a.nextSibling;l?QF(s,l):JF(e,s),t=[]}ra(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var V0="<!--StartFragment-->",zCe="<!--EndFragment-->";function VCe(r){var e=r.indexOf(V0),t=r.lastIndexOf(zCe);return e>-1&&t>-1&&(r=r.slice(e+V0.length,t)),r.replace(/<br[^>]*>/g,jx)}function qCe(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function UCe(r){return r=VCe(r),r=qCe(r),NCe(r)&&(r=FCe(r)),r}function WCe(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function f_(r,e,t){for(var n=[],i=r.childCount,a=0;a<i;a+=1)if(!r.child(a).attrs.extended){var o=a<i?t.create(r.child(a).attrs,r.child(a).content):t.createAndFill();n.push(o)}return n}function d_(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableHeadCell,o=f_(r,e,a);return i.create(null,o)}function h_(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableBodyCell,o=f_(r,e,a);return i.create(null,o)}function jCe(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,a=[],o=0;o<r;o+=1){var s=i.createAndFill();a.push(s)}return n.create({dummyRowForPasting:!0},a)}function p_(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(a){return e.push(a)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(a){return t.push(a)})}return hr(hr([],e),t)}function YCe(r,e,t){var n=d_(r,e,t);return t.nodes.tableHead.create(null,n)}function q0(r,e,t){var n=r.map(function(a){return h_(a,e,t)});if(!r.length){var i=jCe(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function GCe(r,e,t,n){var i=WCe(r);if(t&&n)return e.nodes.table.create(null,[q0(r,i,e)]);var a=r[0],o=r.slice(1),s=[YCe(a,i,e)];return o.length&&s.push(q0(o,i,e)),e.nodes.table.create(null,s)}function KCe(r,e,t){var n=[],i=r.content,a=r.openStart,o=r.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=a_(new Z(j.from(s),0,0));if(l){var u=p_(l),c=l.firstChild.type.name==="tableBody",f=GCe(u,e,c,t);n.push(f)}}else n.push(s)}),new Z(j.from(n),a,o)}var XCe=4,JCe=2;function Vl(r){return r*XCe}function QCe(r,e,t){var n=[],i=p_(r),a=i[0].childCount,o=i.length,s=e.startRowIdx===0,l=i.slice(0,o);if(s){var u=l.shift();if(u){var c=d_(u,a,t).content;n.push(c)}}return l.forEach(function(f){if(!f.attrs.dummyRowForPasting){var d=h_(f,a,t).content;n.push(d)}}),n}function ZCe(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,a=t.length,o=0,s=function(h){var p=t[h].childCount;t[h].forEach(function(v){var m=v.attrs,g=m.colspan;g>1&&(p+=g-1)}),o=Math.max(o,p)},l=0;l<a;l+=1)s(l);var u=n+a-1,c=i+o-1,f=Math.max(u+1-r.totalRowCount,0),d=Math.max(c+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:u,endColIdx:c,addedRowCount:f,addedColumnCount:d}}function eSe(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,a=r.endColIdx,o=r.addedRowCount,s=r.addedColumnCount,l=t;l<=i-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:a-s})}function tSe(r,e,t,n,i){for(var a=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,f=t.totalRowCount,d=0,h=0;h<f;h+=1){var p=t.getCellInfo(h,l-c),v=p.offset,m=p.nodeSize,g=r.mapping.map(v+m),b=zl(c,h,e);if(r.insert(g,b),h>=a&&h<=s-u){var k=t.getCellInfo(h,l-c),T=r.mapping.map(k.offset),x=g+Vl(c);i[d]={rowIdx:h,startColIdx:o,endColIdx:l,dummyOffsets:[T,x]},d+=1}}}function rSe(r,e,t,n,i){var a=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=r.mapping.maps.length,c=t.tableEndOffset-2,f=r_(a,t.totalColumnCount+o,e),d=c;r.insert(r.mapping.slice(u).map(d),f);for(var h=0;h<a;h+=1){var p=d+Vl(s)+1,v=d+Vl(l+1)+1,m=d+Vl(t.totalColumnCount+o)+JCe;i.push({rowIdx:h+t.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[p,v]}),d=m}}function nSe(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(a,o){var s=a.rowIdx,l=a.startColIdx,u=a.endColIdx,c=a.dummyOffsets,f=r.mapping.slice(i),d=new Z(e[o],0,0),h=c?c[0]:n.getCellStartOffset(s,l),p=c?c[1]:n.getCellEndOffset(s,u);r.replace(f.map(h),f.map(p),d)})}function iSe(r,e){var t=r.state,n=t.selection,i=t.schema,a=t.tr,o=tn(n),s=o.anchor,l=o.head;if(s&&l){var u=a_(e);if(!u)return!1;var c=Et.create(s),f=c.getRectOffsets(s,l),d=QCe(u,f,i),h=ZCe(c,f,d),p=[];return oSe(c,h)&&(eSe(h,p),h.addedColumnCount&&tSe(a,i,c,h,p),h.addedRowCount&&rSe(a,i,c,h,p),nSe(a,d,p,c),r.dispatch(a),aSe(r,p,c.getCellInfo(0,0).offset)),!0}return!1}function aSe(r,e,t){var n=r.state,i=n.tr,a=n.doc,o=Et.create(a.resolve(t)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=Wt(e),f=c.rowIdx,d=c.endColIdx,h=o.getCellInfo(l,u).offset,p=o.getCellInfo(f,d).offset;r.dispatch(i.setSelection(new zv(a.resolve(h),a.resolve(p))))}function oSe(r,e){var t=r.getSpannedOffsets(e),n=Sa(t),i=n.rowCount,a=n.columnCount,o=Sa(e),s=o.rowCount,l=o.columnCount;return i===s&&a===l}var sSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Ke),lSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:I({},_t()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),uSe=/\s{1,4}$/,cSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,s=i.$to,l=o.blockRange(s);return l&&!Xa(o)&&!mc(o)?(n(a.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,s=i.$to,l=i.from,u=o.blockRange(s);if(u&&!Xa(o)&&!mc(o)){var c=o.nodeBefore;if(c&&c.isText){var f=c.text,d=f.replace(uSe,""),h=f.length-d.length;return n(a.delete(l-h,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Ke),fSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({level:n},a&&{rawHTML:a})}}});return{attrs:I({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},_t()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,pt(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.schema.nodes[t.level?"heading":"paragraph"];return dv(a,t)(n,i)}}},e}(Ke),dSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:I({language:{default:null},rawHTML:{default:null}},_t()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return I({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",I({"data-language":n.language},pt(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return dv(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,a){var o=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,c=n.context.view;if(c.endOfTextblock(t)&&u.node().type.name==="codeBlock"){var f=u.parent.textContent.split(`
`),d=t==="up"?u.start():u.end(),h=t==="up"?[d,f[0].length+d]:[d-Wt(f).length,d],p=s.resolve(t==="up"?u.before():u.after()),v=t==="up"?p.nodeBefore:p.nodeAfter;if(mF(u.pos,h[0],h[1])&&!v){var m=kv(o,p,l);if(m)return a(m),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Ke),hSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[Wc("ul")],toDOM:function(t){var n=t.attrs;return["ul",pt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return t_(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:G_e}},e.prototype.keymaps=function(){var t=this.changeList(),n=Fv(),i=n.indent,a=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e}(Ke),pSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:I({order:{default:1},rawHTML:{default:null}},_t()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return I({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",I({start:n.order===1?null:n.order},pt(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return t_(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=Fv(),i=n.indent,a=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e}(Ke),vSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return I({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",I({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,s=i.$from,l=i.empty,u=o.nodes.listItem,c=s.parent,f=s.node(-1);if(l&&!c.childCount&&f.type===u){if(s.index(-2)>=1)return a.delete(s.start(-1)-1,s.end(-1)),n(a),!0;var d=s.node(-3);if(d.type===u)return a.delete(s.start(-2)-1,s.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return Z_e(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(Ke),mSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},_t()),content:"block+",group:"block",parseDOM:[Wc("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",pt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return aH(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Ke),gSe={left:CSe,right:_Se,up:SSe,down:OSe};function ySe(r,e,t){var n=t[0],i=t[1],a=e.resolve(r.before(n-1));return i===n&&!a.nodeBefore}function bSe(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}t-=1}return!1}function wSe(r,e,t,n,i){var a=e[0],o=e[1],s=e[2];if(r==="left"||r==="up"){if(i&&!ySe(t,n,[a,o]))return!1;var l=t.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function kSe(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!bSe(t))return!1;var a=t.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function xSe(r,e,t,n){var i=e[0],a=e[1],o=i+3,s=a>=o,l=s?i+1:a,u=wSe(r,[a,o,l],t,n,s),c=kSe(r,l,t,n,s);return u&&c}function U0(r,e,t){var n=t[0],i=t[1],a=e.getRowspanStartInfo(n,i),o=r==="up"&&n===0,s=r==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return o||s}function TSe(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(Ce.near(n,-1)):kv(r,n,t)}function id(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?kv(r,i,t):r.setSelection(Ce.near(i,1))}function _Se(r,e){var t=r[0],n=r[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,s=t===i-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(t,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===a)&&(t+=1,l=0);var c=e.getCellInfo(t,l).offset;return c+2}return null}function CSe(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,a=n===0,o=t===0&&a;if(!o){n-=1,a&&(t-=1,n=i-1);var s=e.getCellInfo(t,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function SSe(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function OSe(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var a=t+1,o=e.getRowspanStartInfo(t,n);(o==null?void 0:o.count)>1&&(a+=o.count-1);var s=e.getCellInfo(a,n).offset;return s+2}return null}function W0(r,e,t,n){var i=gSe[r],a=i(t,n);if(a){var o=r==="right"||r==="down"?1:-1;return e.setSelection(Ce.near(e.doc.resolve(a),o))}return null}function MSe(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,i),l=s.offset,u=s.nodeSize,c=r==="left"?a:o,f=r==="left"?l-2:l+u+3;return c===f}function ESe(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new ye(n))}function DSe(r,e,t){var n,i,a;return r==="up"?(n=t.startRowIdx,i=0,a=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function ASe(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var PSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[Wc("table")],toDOM:function(t){var n=t.attrs;return["table",pt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=t.rowCount,o=t.columnCount,s=t.data,l=n.schema,u=n.selection,c=n.tr,f=u.from,d=u.to,h=u.$from,p=f===d;if(p&&!mc(h)){var v=l.nodes,m=v.tableHead,g=v.tableBody,b=s==null?void 0:s.slice(0,o),k=s==null?void 0:s.slice(o,s.length),T=aCe(o,l,b),x=r_(a-1,o,l,k),w=l.nodes.table.create(null,[m.create(null,T),g.create(null,x)]);return i(c.replaceSelectionWith(w)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Et.create(i.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,c=tt(a.delete(u,l),u);return n(a.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=tn(a),u=l.anchor,c=l.head;if(u&&c){for(var f=Et.create(u),d=f.getRectOffsets(u,c),h=t==="left"?d.startColIdx:d.endColIdx+1,p=Sa(d).columnCount,v=f.totalRowCount,m=0;m<v;m+=1){var g=zl(p,m,s);o.insert(o.mapping.map(f.posAt(m,h)),g)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=tn(i),s=o.anchor,l=o.head;if(s&&l){var u=Et.create(s),c=u.getRectOffsets(s,l),f=u.totalColumnCount,d=u.totalRowCount,h=Sa(c).columnCount,p=h===f;if(p)return!1;for(var v=c.startColIdx,m=c.endColIdx,g=a.mapping.maps.length,b=0;b<d;b+=1)for(var k=m;k>=v;k-=1){var T=u.getCellInfo(b,k),x=T.offset,w=T.nodeSize,_=a.mapping.slice(g).map(x),C=_+w;a.delete(_,C)}return n(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=tn(a),u=l.anchor,c=l.head;if(u&&c){var f=Et.create(u),d=f.totalColumnCount,h=f.getRectOffsets(u,c),p=Sa(h).rowCount,v=DSe(t,f,h),m=v.targetRowIdx,g=v.insertColIdx,b=v.nodeSize,k=m===0;if(!k){for(var T=[],x=s.mapping.map(f.posAt(m,g))+b,w=[],_=0;_<d;_+=1)w=w.concat(zl(1,m,o));for(var C=0;C<p;C+=1)T.push(o.nodes.tableRow.create(null,w));return i(s.insert(x,T)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=tn(i),s=o.anchor,l=o.head;if(s&&l){var u=Et.create(s),c=u.totalRowCount,f=u.totalColumnCount,d=u.getRectOffsets(s,l),h=Sa(d).rowCount,p=d.startRowIdx,v=d.endRowIdx,m=p===0,g=h===c-1;if(g||m)return!1;for(var b=v;b>=p;b-=1){var k=ASe(u,b,f),T=k.from,x=k.to;a.delete(T-1,x+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var a=t.align,o=n.selection,s=n.tr,l=tn(o),u=l.anchor,c=l.head;if(u&&c){for(var f=Et.create(u),d=f.totalRowCount,h=f.getRectOffsets(u,c),p=h.startColIdx,v=h.endColIdx,m=0;m<d;m+=1)for(var g=p;g<=v;g+=1)if(!f.extendedRowspan(m,g)&&!f.extendedColspan(m,g)){var b=f.getNodeAndPos(m,g),k=b.node,T=b.pos,x=oCe(k,{align:a});s.setNodeMarkup(T,null,x)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=tn(a),u=l.anchor,c=l.head;if(u&&c){var f=Et.create(u),d=f.getCellIndex(u),h=void 0;if(U0(t,f,d)?h=id(o,f,s):h=W0(t,o,d,f),h)return i(h),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=i.doc,u=i.schema,c=o.$from,f=n.context.view;if(!f.endOfTextblock(t))return!1;var d=Ln(c,function(k){var T=k.type;return T.name==="tableHeadCell"||T.name==="tableBodyCell"});if(d){var h=Ln(c,function(k){var T=k.type;return T.name==="paragraph"}),p=d.depth;if(h&&xSe(t,[p,h.depth],c,l)){var v=tn(o).anchor,m=Et.create(v),g=m.getCellIndex(v),b=void 0;if(MSe(t,m,g)?b=ESe(s,c,p):U0(t,m,g)?t==="up"?b=TSe(s,m,u):t==="down"&&(b=id(s,m,u)):b=W0(t,s,g,m),b)return a(b),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,a=t.selection,o=t.tr,s=tn(a),l=s.anchor,u=s.head,c=a instanceof Le;if(l&&u&&!c){for(var f=Et.create(l),d=f.getRectOffsets(l,u),h=d.startRowIdx,p=d.startColIdx,v=d.endRowIdx,m=d.endColIdx,g=h;g<=v;g+=1)for(var b=p;b<=m;b+=1)if(!f.extendedRowspan(g,b)&&!f.extendedColspan(g,b)){var k=f.getNodeAndPos(g,b),T=k.node,x=k.pos,w=zl(1,g,i,T.attrs);o.replaceWith(o.mapping.map(x),o.mapping.map(x+T.nodeSize),w)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,s=i.$from,l=Ln(s,function(d){var h=d.type;return h.name==="tableHeadCell"||h.name==="tableBodyCell"});if(l){var u=Ln(s,function(d){var h=d.type;return h.name==="paragraph"});if(u){var c=tn(i).anchor,f=Et.create(c);return n(id(a,f,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Ke),NSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[Wc("thead")],toDOM:function(t){var n=t.attrs;return["thead",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),RSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,a=t.getAttribute("data-raw-html");return i?I({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),LSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:I({rawHTML:{default:null}},_t()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?I({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",pt(n),0]}}},enumerable:!1,configurable:!0}),e}(Ke),ISe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:I({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},_t()),isolating:!0,parseDOM:[QT("th")],toDOM:function(t){var n=t.attrs,i=JT(n);return["th",I(I({},i),pt(n)),0]}}},enumerable:!1,configurable:!0}),e}(Ke),$Se=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[QT("td")],toDOM:function(t){var n=t.attrs,i=JT(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(Ke),BSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:I({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},_t()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=aa(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return I({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",I(I({src:Ca(n.imageUrl)},n.altText&&{alt:n.altText}),pt(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var a=n.schema,o=n.tr,s=t,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=a.nodes.image.createAndFill(I({imageUrl:l},u&&{altText:u}));return i(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Ke),j0=1,HSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},_t()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",pt(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var a,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,c=n.schema.nodes,f=c.thematicBreak,d=c.paragraph,h=[f.create()],p=s.node(j0),v=u.child(u.childCount-1)===p,m=u.resolve(s.after(j0)),g=((a=s.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(v||g)&&h.push(d.create()),i(n.tr.insert(m.pos,h).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Ke),FSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",pt(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return ls(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(rt),zSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",pt(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return ls(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(rt),VSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",pt(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return ls(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(rt),qSe=function(r){ee(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:I({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},_t()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=aa(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return I({linkUrl:a,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",I(I({href:Ca(i.linkUrl)},t.linkAttributes),pt(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var a=t,o=a.linkUrl,s=a.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,f=n.selection,d=f.empty,h=f.from,p=f.to;if(h&&p&&o){var v={linkUrl:o},m=u.mark("link",v);if(d&&l){var g=$t(u,l,m);c.replaceRangeWith(h,p,g)}else c.addMark(h,p,m);return i(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return ls(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(rt),USe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},_t()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return I({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",pt(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return ls(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(rt),WSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t!=null&&t.info?dv(n.schema.nodes.customBlock,t)(n,i):!1}}},e}(Ke),jSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?fv(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Ke),YSe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?fv(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Ke);function GSe(r){return new tT([new sSe,new lSe,new cSe,new fSe,new dSe,new hSe,new pSe,new vSe,new mSe,new PSe,new NSe,new RSe,new LSe,new ISe,new $Se,new BSe,new HSe,new FSe,new zSe,new VSe,new qSe(r),new USe,new WSe,new jSe,new Zx,new YSe])}var KSe=ie("contents"),XSe=function(r){ee(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,f=c===void 0?!0:c,d=n.wwPlugins,h=d===void 0?[]:d,p=n.wwNodeViews,v=p===void 0?{}:p;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=u,i.extraPlugins=h,i.pluginNodeViews=v,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(f),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(I(I({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return GSe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new Ok({nodes:I(I({},this.specs.nodes),t.nodes),marks:I(I({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return hr([fCe(),vCe(this.eventEmitter),mCe(),TCe(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(s,l,u){return i[o](s,l,u,n)}}),a},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new lv(this.el,{state:this.createState(),attributes:{class:KSe},nodeViews:I({customBlock:function(o,s,l){return new _Ce(o,s,l,i)},image:function(o,s,l){return new CCe(o,s,l,a)},codeBlock:function(o,s,l){return new MCe(o,s,l,a)},widget:Qx},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=t.view.state.applyTransaction(o).state;t.view.updateState(s),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:UCe,transformPasted:function(o){return KCe(o,t.schema,mc(t.view.state.selection.$from))},handlePaste:function(o,s,l){return iSe(o,l)},handleKeyDown:function(o,s){return t.eventEmitter.emit("keydown",t.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var c=yn(u).some(function(d){return d.kind==="string"&&d.type==="text/rtf"});if(!c){var f=Jx(u);f&&(s.preventDefault(),Mv(t.eventEmitter,f,s.type))}}return!1},keyup:function(o,s){return t.eventEmitter.emit("keyup",t.editorType,s),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Fv())},e.prototype.getHTML=function(){return Ov(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var a=this.view.state,o=a.schema,s=a.tr,l=t.split(`
`),u=l.map(function(d){return oc(o,Wi(d,o))}),c=new Z(j.from(u),1,1),f=En(n)&&En(i)?s.replaceRange(n,i,c):s.replaceSelection(c);this.view.dispatch(f),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,a=En(t)&&En(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;return En(t)&&En(n)&&(s=t,l=n),a.textBetween(s,l,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=tt(i,t,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var a=this.view,o=a.dispatch,s=a.state;o(s.tr.setMeta("widget",{pos:i!=null?i:s.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=Wi(i,s);this.view.dispatch(o.replaceWith(t,n,l))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t?i.resolve(t):a.$from,s=o.marks(),l=o.node(),u=o.start(),c=o.end(),f=l.type.name;if(s.length||f==="paragraph"){var d=s[s.length-1],h=function(p){return p.length?Bt(p,d):!0};f=d?d.type.name:"text",l.forEach(function(p,v){var m=p.isText,g=p.nodeSize,b=p.marks,k=o.pos-u;m&&v<=k&&v+g>=k&&h(b)&&(u=u+v,c=u+g)})}return{range:[u,c],type:f}},e}(eT),JSe=jr,QSe=rc;function ZSe(r){return!JSe(r)&&!QSe(r)}var eOe=ZSe,tOe=eOe;function rOe(r){return tOe(r)&&r!==!1}var nOe=rOe,iOe=nOe;function aOe(r){return!iOe(r)}var oOe=aOe,Y0=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],v_=function(){function r(){var e=this;this.events=new o_,this.eventTypes=Y0.reduce(function(t,n){return I(I({},t),{type:n})},{}),this.hold=!1,Y0.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(s){var l=s.apply(void 0,t);jr(l)||o.push(l)}),o},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var s=o.apply(void 0,hr([t],n));oOe(s)||(t=s)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!jr(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);!i||(i.map(function(a){return a.namespace!==t&&n.push(a),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r}(),sOe=function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r}();function ql(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function hp(r,e){var t=r.schema,n=e.literal,i=n.match(ja);if(i){var a=i[1],o=i[3],s=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[s]||t.nodes[s])}return!1}function pp(r){var e=r.type;return Bt(["text","strong","emph","strike","image","link","code"],e)}function G0(r){return(r==null?void 0:r.type)==="softbreak"}function yo(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(ja);if(n){var i=n[1],a=n[3],o=i||a;if(o)return Bt(["ul","ol","li"],o.toLowerCase())}return!1}function lOe(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function K0(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=aa(r);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function uOe(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=r[t]})}),e}var cOe={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var a=K0(n,"href")[0];r.openMark(i.create({linkUrl:a,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=K0(n,"src","alt"),a=i[0],o=i[1],s=r.schema.nodes.image;r.addNode(s,I({rawHTML:t,imageUrl:a},o&&{altText:o}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(G0(i)&&r.openNode(t),G0(a)?r.closeNode():a&&(r.closeNode(),r.openNode(t))):(n==null?void 0:n.type)==="tableCell"&&(i&&(pp(i)||hp(r,i))&&r.closeNode(),a&&(pp(a)||hp(r,a))&&r.openNode(t))},pre:function(r,e,t){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(ql(o)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,s=t==="ul"?i:a;t?(e.prev&&!yo(e.prev)&&r.closeNode(),r.openNode(s,{rawHTML:t})):(r.closeNode(),e.next&&!yo(e.next)&&r.openNode(o))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,a=i.listItem,o=i.paragraph;if(t){var s=lOe(e);e.prev&&!yo(e.prev)&&r.closeNode(),r.openNode(a,I({rawHTML:t},s)),e.next&&!yo(e.next)&&r.openNode(o)}else e.prev&&!yo(e.prev)&&r.closeNode(),r.closeNode()}}},fOe=uOe(cOe);function X0(r){return r.type==="htmlInline"&&Gh.test(r.literal)}function m_(r){yn(r.childNodes).forEach(function(e){if(Bc(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&m_(e)}})}var J0={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,a=t.entering;if(a){var o=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(o,n),r.closeNode()),r.openNode(o,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var a=e,o=a.level,s=a.headingType;r.openNode(r.schema.nodes.heading,I({level:o,headingType:s},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;r.openNode(n,I({language:a},t)),r.addText(ql(o||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var a=r.schema.nodes,o=a.bulletList,s=a.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?r.openNode(o,n):r.openNode(s,I({order:c},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,a=r.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(i){var u=I(I(I({},s&&{task:s}),l&&{checked:l}),n);r.openNode(a,u)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,a=t.skipChildren,o=r.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&a&&a(),r.addNode(o,I(I({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strong;i?r.openMark(a.create(n)):r.closeMark(a)},emph:function(r,e,t,n){var i=t.entering,a=r.schema.marks.emph;i?r.openMark(a.create(n)):r.closeMark(a)},link:function(r,e,t,n){var i=t.entering,a=r.schema.marks.link,o=e,s=o.destination,l=o.title;if(i){var u=I({linkUrl:s,title:l},n);r.openMark(a.create(u))}else r.closeMark(a)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!X0(t)&&r.closeNode(),n&&!X0(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(p){return p&&(pp(p)||hp(r,p))};if(n){var a=r.schema.nodes,o=a.tableHeadCell,s=a.tableBodyCell,l=a.paragraph,u=e.parent.parent,c=u.type==="tableHead"?o:s,f=u.parent,d=(f.columns[e.startIdx]||{}).align,h=I({},e.attrs);d&&(h.align=d),r.openNode(c,h),i(e.firstChild)&&r.openNode(l)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strike;i?r.openMark(a.create(n)):r.closeMark(a)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText(ql(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,a=e,o=a.info,s=a.literal;r.openNode(n,{info:o}),r.addText(ql(s||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(ja),i=n[1],a=n[3],o=(i||a).toLowerCase(),s=r.schema.marks[o],l=aa(t);if(s!=null&&s.spec.attrs.htmlInline)if(i){var u=up(l);r.openMark(s.create({htmlAttrs:u}))}else r.closeMark(s);else{var c=fOe[o];c&&c(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=GF.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var a=t.match(ja),o=a[1],s=a[3],l=(o||s).toLowerCase(),u=r.schema.nodes[l],c=aa(t);if(u!=null&&u.spec.attrs.htmlBlock){var f=up(c),d=GT(e,l);r.addNode(u,{htmlAttrs:f,childrenHTML:d})}else n.innerHTML=c,m_(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,a=e,o=a.info,s=a.firstChild,l=r.schema;if(o.indexOf("widget")!==-1&&n){var u=Hx(e);i(),r.addNode(l.nodes.widget,{info:o},[l.text($x(o,u))])}else{var c="$$";n&&(c+=s?o+" ":o),r.addText(c)}}};function dOe(r){var e=Object.keys(r),t=I({},J0),n=new Bv({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(a){var o=J0[a];o&&!Bt(["htmlBlock","htmlInline"],a)&&(t[a]=function(s,l,u){u.origin=function(){return i[a](l,u,i)};var c=r[a](l,u),f;if(c){var d=Array.isArray(c)?c[0]:c,h=d.attributes,p=d.classNames;f={htmlAttrs:h,classNames:p}}o(s,l,u,f)})}),t}function hOe(r,e){return r.isText&&e.isText&&De.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var pOe=function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=De.none}return r.prototype.top=function(){return Wt(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=Wt(t),i=this.schema.text(e,this.marks),a=n&&hOe(n,i);a?t[t.length-1]=a:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=De.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=Xi.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type],c=!1;if(u){var f={entering:l,leaf:!MF(s),getChildrenText:EF,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,f),(t==null?void 0:t.node)===s){var d=o.stack.reduce(function(h,p){return h+p.content.reduce(function(v,m){return v+m.nodeSize},0)},0)+1;t.setMappedPos(d)}}c&&(n.resumeAt(s,!1),n.next()),i=n.next()},o=this;i;)a()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r}();function vOe(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function mOe(r,e,t){var n=e.node,i=e.parent,a=t[0],o=t[1];r.stopNewline=!0,r.write(a),r.convertNode(n),r.write(o),(i==null?void 0:i.type.name)==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function gOe(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+nc("-",Math.max(t,3))+i}var vp={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?r.text(ic(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var o=a===0,s=!o&&n.child(a-1),l=s&&s.childCount===0,u=a<n.childCount-1&&n.child(a+1),c=u&&u.type.name==="paragraph",f=t.childCount===0;if(f&&l)r.write(`<br>
`);else if(f&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var d=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(d)}r.write(`
`)}else r.convertInline(t),c?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,a=n.attrs.headingType;a==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,s=o[0],l=o[1];r.write(s),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,a=t.delim;(i==null?void 0:i.type.name)===n.type.name&&r.flushClose(1),r.wrapBlock(a,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,nc(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,nc(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,a=n.checked;i&&r.write("["+(a?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,a=n.firstChild;r.convertNode(n);var o=i!=null?i:"";!i&&a&&a.forEach(function(s){var l=s.textContent,u=s.attrs,c=gOe(l,u.align);o+="| "+c+" "}),r.write(o+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,s=o[0],l=o[1];r.write(s),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function yOe(r,e){var t=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?ea(r,["heading","codeBlock"])>-1?vOe(t,n.node,a):ea(r,["image","thematicBreak"])>-1?t.write(a):mOe(t,n,a):vp[r](t,n,i)}function Q0(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var a=n.exec(t);a;)i=Math.max(i,a[0].length),a=n.exec(t);for(var o=i>0&&e>0?" `":"`",s=0;s<i;s+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function Ir(r){return r?["<"+r+">","</"+r+">"]:null}function bo(r){return r?"<"+r+">":null}function wo(r){return r?"</"+r+">":null}var ko={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=nc("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:Ir(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Ir(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:Ir(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:Ir(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:Ir(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,a=i.task,o=i.checked,s=t.attrs.rawHTML;n&&(s=s||"li");var l=a?' class="task-list-item'+(o?" checked":"")+'"':"",u=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:Ir(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+Ca(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+Ca(a)+'"'+o+">":null,attrs:{altText:ic(i||""),imageUrl:a}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:bo(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="**";return t||(o=i?"<strong>":"</strong>"),{delim:o,rawHTML:i?bo(a):wo(a)}},emph:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="*";return t||(o=i?"<em>":"</em>"),{delim:o,rawHTML:i?bo(a):wo(a)}},strike:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="~~";return t||(o=i?"<del>":"</del>"),{delim:o,rawHTML:i?bo(a):wo(a)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,a=i.title,o=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=a?' title="'+Ca(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+Ca(s)+'"'+l+">":null}:{delim:"]("+s+(a?" "+vF(ic(a)):"")+")",rawHTML:wo(o)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,a=i===void 0?0:i,o=e.entering,s=o?Q0(n.child(a),-1):Q0(n.child(a-1),1),l=o?bo(t.attrs.rawHTML):wo(t.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,o="<"+i,s="</"+i+">";return Object.keys(a).forEach(function(l){o+=" "+l+'="'+a[l].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+t.attrs.childrenHTML+s}}},Z0={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function bOe(r){var e={},t=Object.keys(vp);return t.forEach(function(n){e[n]=function(i,a){var o=vp[n];if(o){var s=r[n],l=s?s(a,{inTable:i.inTable}):{};yOe(n,{state:i,nodeInfo:a,params:l})}}}),e}function wOe(r){var e={},t=Object.keys(Z0);return t.forEach(function(n){e[n]=function(i,a,o){var s=Z0[n],l=r[n],u=l&&i&&!jr(a),c=u?l(i,{entering:a},o):{};return I(I({},c),s)}}),e}function kOe(r){var e=Object.keys(r);e.forEach(function(i){var a=ko[i],o=r[i];a?ko[i]=function(s,l){return l.origin=function(){return a(s,l)},o(s,l)}:ko[i]=o,delete r[i]});var t=bOe(ko),n=wOe(ko);return{nodeTypeConvertors:t,markTypeConvertors:n}}var xOe=function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.isBetweenSpaces=function(e,t){var n,i,a=e.content,o=t===0||yF((n=a.child(t-1).text)!==null&&n!==void 0?n:qb),s=t>=a.childCount-1||gF((i=a.child(t+1).text)!==null&&i!==void 0?i:qb);return o&&s},r.prototype.markText=function(e,t,n,i){var a=this.getMarkConvertor(e);if(a){var o=this.isBetweenSpaces(n,t?i:i-1),s=a({node:e,parent:n,index:i},t,o),l=s.delim,u=s.rawHTML;return u||l}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?pF(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},r.prototype.convertInline=function(e){var t=this,n=[],i="",a=function(o,s,l){var u=o?o.marks:[],c=i;i="";var f=o&&o.isText&&u.some(function(V){var N=t.getMarkConvertor(V),U=N&&N();return U&&U.removedEnclosingWhitespace});if(f&&o&&o.text){var d=/^(\s*)(.*?)(\s*)$/m.exec(o.text),h=d[1],p=d[2],v=d[3];c+=h,i=v,(h||v)&&(o=p?o.withText(p):null,o||(u=n))}for(var m=u.length&&Wt(u),g=m&&t.getMarkConvertor(m),b=g&&g(),k=b&&b.escape===!1,T=u.length-(k?1:0),x=0;x<T;x+=1){var p=u[x];if(b&&!b.mixable)break;for(var w=0;w<n.length;w+=1){var _=n[w];if(b&&!b.mixable)break;if(p.eq(_)){x>w?u=u.slice(0,w).concat(p).concat(u.slice(w,x)).concat(u.slice(x+1,T)):w>x&&(u=u.slice(0,x).concat(u.slice(x+1,w)).concat(p).concat(u.slice(w,T)));break}}}for(var C=0;C<Math.min(n.length,T)&&u[C].eq(n[C]);)C+=1;for(;C<n.length;){var H=n.pop();H&&t.text(t.markText(H,!1,e,l),!1)}if(c&&t.text(c),o){for(;n.length<T;){var p=u[n.length];n.push(p),t.text(t.markText(p,!0,e,l),!1)}k&&o.isText?t.text(t.markText(m,!0,e,l)+o.text+t.markText(m,!1,e,l+1),!1):t.convertBlock(o,e,l)}};e.forEach(a),a(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,c){c&&o&&i.flushClose(1),i.wrapBlock(t,n(c),e,function(){return i.convertBlock(l,e,c)})}),this.tightList=s},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(Bt(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,a),t.closed=!1;else if(t.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),(t==null?void 0:t.node)===i){var s=n.result.split(`
`);t.setMappedPos([s.length,Wt(s).length+1])}}),this.result},r}(),TOe=function(){function r(e,t,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=dOe(n),this.toMdConvertors=kOe(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new pOe(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new xOe(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r}();function _Oe(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,a={Plugin:mr,PluginKey:as,Selection:Ce,TextSelection:Le},o={Decoration:fr,DecorationSet:ut},s={Fragment:j},l={InputRule:yi,inputRules:Mx,undoInputRule:cH},u={keymap:Zo},c={eventEmitter:t,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:be};if(no(e)){var f=e[0],d=e[1],h=d===void 0?{}:d;return f(c,h)}return e(c)}function g_(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",rCe),(e!=null?e:[]).reduce(function(a,o){var s=_Oe({plugin:o,eventEmitter:t,usageStatistics:n,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,f=s.markdownPlugins,d=s.wysiwygPlugins,h=s.wysiwygNodeViews,p=s.markdownCommands,v=s.wysiwygCommands,m=s.toolbarItems;return u&&(a.toHTMLRenderers=ac(a.toHTMLRenderers,u)),c&&(a.toMarkdownRenderers=ac(a.toMarkdownRenderers,c)),f&&(a.mdPlugins=a.mdPlugins.concat(f)),d&&(a.wwPlugins=a.wwPlugins.concat(d)),h&&(a.wwNodeViews=I(I({},a.wwNodeViews),h)),p&&(a.mdCommands=I(I({},a.mdCommands),p)),v&&(a.wwCommands=I(I({},a.wwCommands),v)),m&&(a.toolbarItems=a.toolbarItems.concat(m)),l&&(a.markdownParsers=I(I({},a.markdownParsers),l)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var COe="data-task",SOe="data-task-disabled",OOe="checked";function MOe(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return YT(t)})})}var y_=function(){function r(e){var t=this;this.options=pv({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new v_;var n=Rx(this.options.linkAttributes),i=g_({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,f=s.frontMatter,d=s.customHTMLSanitizer,h={linkAttributes:n,customHTMLRenderer:I(I({},a),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:f,sanitizer:d||aa};MOe(h.customHTMLRenderer),this.options.events&&qa(this.options.events,function(k,T){t.on(T,k)});var p=this.options,v=p.el,m=p.initialValue,g=p.theme,b=v.innerHTML;g!=="light"&&v.classList.add(ie(g)),v.innerHTML="",this.toastMark=new qT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:f,customParser:o}),this.preview=new XT(this.eventEmitter,I(I({},h),{isViewer:!0})),fT(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):b&&this.preview.setHTML(b),v.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(SOe)&&t.hasAttribute(COe)&&Tv(n,e.offsetX,e.offsetY)&&(_v(t,OOe),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=Wt(t),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){cT(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r}();function Ul(r){return r instanceof Fr}function b_(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Bt(e,r)}function EOe(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!b_(n)&&Ul(r)?r.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],s=I(I({},i),o),l=r.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?I(I({},s),{attrs:u,childrenHTML:c}):s}var DOe={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,a=t.attributes,o=document.createElement(n),s={};i&&(o.className=i.join(" ")),a&&(s=I(I({},s),a)),Sv(s,o),e.push(o)},closeTag:function(r,e){if(e.length>1){var t=e.pop();Wt(e).appendChild(t)}},html:function(r,e){Wt(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);Wt(e).appendChild(t)}},AOe=function(){function r(e,t){var n=Hv(e,t),i=I(I({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new Bv({gfm:!0,convertors:I(I({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=EOe(e),n={entering:!0,leaf:Ul(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Ul(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,n,this.convertors),o=no(a)?a:[a];return(b_(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Ul(e)?e.textContent:""}),o=o.concat(i(t,n,this.convertors))),o},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return DOe[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return Bt(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r}(),POe=100,NOe=15,Fs=null,ad=null;function ew(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;ad&&clearTimeout(ad),t(r),ad=setTimeout(function(){n()},NOe)}function ROe(r,e,t){var n=e-r,i=Date.now(),a=function(){var o=Date.now(),s=(o-i)/POe,l;Fs&&clearTimeout(Fs),s<1?(l=r+n*Math.cos((1-s)*Math.PI/2),ew(Math.ceil(l),t),Fs=setTimeout(a,1)):(ew(e,t),Fs=null)};a()}var LOe=18,IOe=function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=td(this.previewRoot,t).el,a=vc(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,s=a+o-n*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,a=t.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,f=this.getMdNodeAtPos(c,u);if(!(!f||kF(f))){var d=i.scrollTop,h=n.dom,p=h.scrollTop,v=h.scrollHeight,m=h.clientHeight,g=h.children,b=v-p<=m+LOe,k=b?i.scrollHeight:0;if(p&&!b){if(e){var T=this.getScrollTopByCaretPos();if(!T)return;k=T}else{var x=td(this.previewRoot,f),w=x.el,_=x.mdNode,C=H0(c,_,g),H=C.height,V=C.rect,N=vc(w,a)||w.offsetTop,U=w.clientHeight,R=l>V.top?Math.min((l-V.top)/H,1):0;k=N+U*R}k=this.getResolvedScrollTop("editor",p,k,d),this.latestEditorScrollTop=p}k!==d&&this.run("editor",k,d)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,a=t.previewRoot,o=t.previewEl,s=i.dom,l=i.state,u=o.scrollTop,c=o.clientHeight,f=o.scrollHeight,d=f-u<=c,h=s.scrollTop,p=d?s.scrollHeight:0;if(u&&e&&!d){if(e=P_e(e,a),!e.getAttribute("data-nodeid"))return;var v=s.children,m=Number(e.getAttribute("data-nodeid")),g=td(this.previewRoot,n.findNodeById(m)),b=g.mdNode,k=g.el,T=us(b);p=v[T-1].offsetTop;var x=H0(l.doc,b,v).height,w=F_e(k,a,m),_=w.nodeHeight,C=w.offsetTop;p+=R_e(u,C,_,x),p=this.getResolvedScrollTop("preview",u,p,h),this.latestPreviewScrollTop=u}p!==h&&this.run("preview",p,h)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return a.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};ROe(n,t,o)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r}(),$Oe={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function BOe(r){r.eventEmitter.listen("query",function(e,t){return $Oe[e](r,t)})}var w_=function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=pv({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,f=n.widgetRules,d=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=be,this.i18n.setCode(this.options.language),this.eventEmitter=new v_,AF(f);var h=Rx(this.options.linkAttributes);this.pluginInfo=g_({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var p=this.pluginInfo,v=p.toHTMLRenderers,m=p.toMarkdownRenderers,g=p.mdPlugins,b=p.wwPlugins,k=p.wwNodeViews,T=p.mdCommands,x=p.wwCommands,w=p.markdownParsers,_={linkAttributes:h,customHTMLRenderer:ac(v,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:s,sanitizer:d||aa},C=new AOe(h,_.customHTMLRenderer),H=C_e(_.customHTMLRenderer,_.sanitizer,C);this.toastMark=new qT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:w}),this.mdEditor=new N3(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:g}),this.preview=new XT(this.eventEmitter,I(I({},_),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new XSe(this.eventEmitter,{toDOMAdaptor:C,useCommandShortcut:u,htmlSchemaMap:H,linkAttributes:h,wwPlugins:b,wwNodeViews:k}),this.convertor=new TOe(this.wwEditor.getSchema(),I(I({},m),l),Hv(h,_.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new sOe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&cF(),this.scrollSync=new IOe(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(T,x),BOe(this),this.options.hooks&&qa(this.options.hooks,function(V,N){return t.addHook(N,V)}),this.options.events&&qa(this.options.events,function(V,N){return t.on(N,V)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),nz(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(a,o){Object.keys(o).forEach(function(s){n.addCommand(a,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new y_(e):new r(e)},r.setLanguage=function(e,t){be.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,a=function(o){o===void 0&&(o={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,t,a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=ez(e);var i=Xi.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=Ov(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;zn(e)&&(e==="auto"?hn(t,"auto-height"):Hr(t,"auto-height"),this.setMinHeight(this.getMinHeight())),gn(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+ie("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&En(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,a;t===void 0&&(t=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(t),u=e,c=t;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(i=Bl(o,e,t),u=i[0],c=i[1]):n==="wysiwyg"&&s&&l&&(a=Pi(o,e,t),u=a[0],c=a[1]),[u,c]},r}();function HOe(r){for(var e,t,n=arguments,i=1,a="",o="",s=[0],l=function(c){i===1&&(c||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:a):i===3&&(c||a)?(s[1]=c?n[c]:a,i=2):i===2&&a==="..."&&c?s[2]=wv(s[2]||{},n[c]):i===2&&a&&!c?(s[2]=s[2]||{})[a]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[t]=c?a?a+n[c]:n[c]:a,i=6):(c||a)&&(s[2][t]+=c?a+n[c]:a)),a=""},u=0;u<r.length;u++){u&&(i===1&&l(),l(u));for(let c=0;c<r[u].length;c++)e=r[u][c],i===1?e==="<"?(l(),s=[s,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||r[u][c+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):a+=e),i===3&&a==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function FOe(r){return typeof r=="boolean"||r instanceof Boolean}var zOe=FOe,VOe=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r}(),qr=function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new VOe(this)},r.removalNodes=[],r}();function qOe(r){return new qr("TEXT_NODE",{nodeValue:r},[])}function tw(r,e){var t=r;zOe(r)||r==null?t=null:(zn(r)||En(r))&&(t=qOe(String(r))),t&&e.push(t)}function UOe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(o){tw(o,i)}):tw(a,i)}),new qr(r,e||{},i)}var Ne=HOe.bind(UOe);function WOe(r){return r===Object(r)}var jOe=WOe;function YOe(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),x_(e,{},r.props)),e}function k_(r,e){r.node?e.removeChild(r.node):k_(r.firstChild,e)}function GOe(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!KF(r)&&r.removeAttribute(n)}),x_(r,e,t,function(n){return!mv(e[n],t[n])})}var KOe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function x_(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();r.addEventListener(a,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&jOe(t[i])?XOe(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function XOe(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=En(i)&&!KOe.test(n)?i+"px":i})}function Vv(r){if(qr.removalNodes.forEach(function(a){return nw(a)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)nw(r);else if(Pr(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function rw(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function nw(r){if(!(!r||!r.parent)){if(r.node){var e=rw(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&GOe(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(Pr(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=rw(r);k_(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function JOe(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function T_(r){for(var e=r;r&&!r.skip;){if(Pr(r.type)){var t=JOe(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],iw(r)}else r.node||(r.node=YOe(r)),iw(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function QOe(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function iw(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(a,o){var s=QOe(t,a);s&&(a.old=t,a.parent=r,a.node=t.node,a.component=t.component,a.effect="U"),a&&!s&&(a.old=null,a.parent=r,a.node=null,a.effect="A"),t&&!s&&(qr.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?r.firstChild=a:a&&(n.next=a),n=a});var i=Wt(e);if(!e.length)for(;t;)qr.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(qr.removalNodes.push(t),t.effect="D",t=t.next)}function ZOe(r){r.effect="D",qr.removalNodes=[r],Vv(),qr.removalNodes=[]}function eMe(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),qr.removalNodes=[],T_(e),Vv(e),e.next&&(e.next.skip=!1)}function tMe(r,e){var t=new qr(r.tagName.toLowerCase(),{},[e]);return t.node=r,qr.removalNodes=[],T_(t),Vv(t),function(){return ZOe(t.firstChild)}}var Yt=function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=I(I({},this.state),e);mv(this.state,t)||(this.state=t,eMe(this))},r}(),rMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return Ne(aw||(aw=Pe([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),ie("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},be.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},be.get("WYSIWYG"))},e}(Yt),aw;function nMe(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var iMe=nMe,aMe=iMe;function oMe(r,e){var t,n=!0,i=function(c){r.apply(null,c),t=null},a,o,s;e=e||0,a=aMe(i,e);function l(){if(s=Array.prototype.slice.call(arguments),n){i(s),n=!1;return}o=Number(new Date),t=t||o,a(s),o-t>=e&&i(s)}function u(){n=!0,t=null}return l.reset=u,l}var sMe=oMe,__=function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,a){return i[0]===t?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(n,o[1],o[0])}},e}()}(),mp=typeof window<"u"&&typeof document<"u"&&window.document===document,gc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),lMe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(gc):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),uMe=2;function cMe(r,e){var t=!1,n=!1,i=0;function a(){t&&(t=!1,r()),n&&s()}function o(){lMe(a)}function s(){var l=Date.now();if(t){if(l-i<uMe)return;n=!0}else t=!0,n=!1,setTimeout(o,e);i=l}return s}var fMe=20,dMe=["top","right","bottom","left","width","height","size","weight"],hMe=typeof MutationObserver<"u",pMe=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=cMe(this.refresh.bind(this),fMe)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!mp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hMe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!mp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=dMe.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),C_=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r},Qa=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||gc},S_=jc(0,0,0,0);function yc(r){return parseFloat(r)||0}function ow(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+yc(a)},0)}function vMe(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var a=i[n],o=r["padding-"+a];t[a]=yc(o)}return t}function mMe(r){var e=r.getBBox();return jc(0,0,e.width,e.height)}function gMe(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return S_;var n=Qa(r).getComputedStyle(r),i=vMe(n),a=i.left+i.right,o=i.top+i.bottom,s=yc(n.width),l=yc(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=ow(n,"left","right")+a),Math.round(l+o)!==t&&(l-=ow(n,"top","bottom")+o)),!bMe(r)){var u=Math.round(s+a)-e,c=Math.round(l+o)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return jc(i.left,i.top,s,l)}var yMe=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Qa(r).SVGGraphicsElement}:function(r){return r instanceof Qa(r).SVGElement&&typeof r.getBBox=="function"}}();function bMe(r){return r===Qa(r).document.documentElement}function wMe(r){return mp?yMe(r)?mMe(r):gMe(r):S_}function kMe(r){var e=r.x,t=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return C_(o,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),o}function jc(r,e,t,n){return{x:r,y:e,width:t,height:n}}var xMe=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jc(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=wMe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),TMe=function(){function r(e,t){var n=kMe(t);C_(this,{target:e,contentRect:n})}return r}(),_Me=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new __,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new xMe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new TMe(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),O_=typeof WeakMap<"u"?new WeakMap:new __,M_=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=pMe.getInstance(),n=new _Me(e,t,this);O_.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){M_.prototype[r]=function(){var e;return(e=O_.get(this))[r].apply(e,arguments)}});var CMe=function(){return typeof gc.ResizeObserver<"u"?gc.ResizeObserver:M_}(),SMe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=pn(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return Ne(lw||(lw=Pe([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},be.get("Headings"),[1,2,3,4,5,6].map(function(n){return Ne(sw||(sw=Pe([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,be.get("Heading"),n)}),be.get("Paragraph"))},e}(Yt),sw,lw,E_=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return Ne(cw||(cw=Pe([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),ie("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=t.props.activeTab===i;return Ne(uw||(uw=Pe([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return t.toggleTab(s,i)},be.get(a),o?"true":"false",o?"0":"-1",be.get(a))}))},e}(Yt),uw,cw,OMe="ui",MMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Hr(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var o=n.item(0),s=function(l,u){return t.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,OMe)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,a=n.value||"image";if(Hr(t,"wrong"),!i.length){hn(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return Ne(fw||(fw=Pe([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),be.get("Insert image"),E_,this.tabs,i,this.toggleTab,i==="url"?"block":"none",be.get("Image URL"),function(s){return t.refs.url=s},i==="file"?"block":"none",be.get("Select image file"),ie("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:be.get("No file"),ie("file-select-button"),this.showFileSelectBox,be.get("Choose a file"),this.changeFile,function(s){return t.refs.file=s},be.get("Description"),function(s){return t.refs.altText=s},ie("button-container"),ie("close-button"),this.props.hidePopup,be.get("Cancel"),ie("ok-button"),this.execCommand,be.get("OK"))},e}(Yt),fw,EMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(Hr(n,"wrong"),Hr(i,"wrong"),n.value.length<1){hn(n,"wrong");return}var a=jr(t.props.initialValues.linkUrl);if(a&&i.value.length<1){hn(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,a=this.refs.url,o=this.refs.text;Hr(a,"wrong"),Hr(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(hn(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return Ne(dw||(dw=Pe([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),be.get("Insert link"),be.get("URL"),function(n){return t.refs.url=n},be.get("Link text"),function(n){return t.refs.text=n},ie("button-container"),ie("close-button"),this.props.hidePopup,be.get("Cancel"),ie("ok-button"),this.execCommand,be.get("OK"))},e}(Yt),dw,hw=20,pw=20,vw=5,mw=14,gw=5,yw=9,DMe=1,AMe=1,bw=1,PMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,s=a-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(I({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*hw,height:(n+1)*pw}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/hw),rowIdx:Math.floor(n/pw)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,a=Math.max(n,gw),o=Math.max(i,vw);return n>=gw&&a<yw&&(a+=1),i>=vw&&o<mw&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-bw,height:i-bw,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,DMe),mw),i.colIdx=Math.min(Math.max(i.colIdx,AMe),yw),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,a=[],o=0;o<i;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+ie("table-cell")+(o>0?"":" header");s.push(Ne(ww||(ww=Pe(['<div class="','"></div>'],['<div class="','"></div>'])),u))}a.push(Ne(kw||(kw=Pe(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),ie("table-row"),s))}return Ne(xw||(xw=Pe(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),ie("table"),a)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return Ne(Tw||(Tw=Pe([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),be.get("Insert table"),ie("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),ie("table-selection-layer"),i,ie("table-description"),this.getDescription())},e}(Yt),ww,kw,xw,Tw,NMe=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return Ne(_w||(_w=Pe(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e}(Yt),_w;function gp(r){return zn(r)?LMe(r):r}function RMe(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?hn(r,"active"):Hr(r,"active"),i("toggleScrollSync",{active:o})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function LMe(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:be.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:be.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:be.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:be.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:be.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:be.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:be.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:be.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:be.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:be.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:be.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:be.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:be.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:be.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:be.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:be.get("Outdent"),state:"outdent"};break;case"scrollSync":e=RMe();break;case"more":e={name:"more",className:"more",tooltip:be.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+ie("toolbar-icons")),e}function qv(r,e){var t=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(r){case"heading":return{render:function(o){return Ne(Cw||(Cw=Pe(["<"," ..."," />"],["<"," ..."," />"])),SMe,o)},className:ie("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(o){return Ne(Sw||(Sw=Pe(["<"," ..."," />"],["<"," ..."," />"])),EMe,o)},className:ie("popup-add-link"),fromEl:t,pos:n,initialValues:a};case"image":return{render:function(o){return Ne(Ow||(Ow=Pe(["<"," ..."," />"],["<"," ..."," />"])),MMe,o)},className:ie("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(o){return Ne(Mw||(Mw=Pe(["<"," ..."," />"],["<"," ..."," />"])),PMe,o)},className:ie("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?I({render:function(o){return Ne(Ew||(Ew=Pe(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),NMe,o,i.body)},fromEl:t,pos:n},i):null;default:return null}}function bc(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function IMe(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(o){return t(gp(o))}));var a=n[(n.length||1)-1];return a&&bc(a),n},[])}function $Me(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),bc(t)})}var Cw,Sw,Ow,Mw,Ew,BMe=20,HMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!pn(n.target,"."+ie("popup"))&&!pn(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&t.show!==i){var o=I({},a.pos),s=this.refs.el.offsetWidth,l=pn(this.refs.el,"."+ie("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-BMe),mv(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=i||{},c=u.className,f=c===void 0?"":c,d=u.style,h=u.render,p=u.initialValues,v=p===void 0?{}:p,m=I(I({display:a?"block":"none"},d),this.state.popupPos);return Ne(Dw||(Dw=Pe([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),ie("popup"),f,m,function(g){return t.refs.el=g},ie("popup-body"),h&&h({eventEmitter:s,show:a,hidePopup:o,execCommand:l,initialValues:v}))},e}(Yt),Dw,Aw=6;function Uv(r){return function(e){ee(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var s=i.getBound(a),l=s.left+Aw+"px",u=s.top+Aw+"px";gn(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){gn(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[a.state])!==null&&l!==void 0?l:{},f=c.active,d=c.disabled;n.setState({active:!!f,disabled:d!=null?d:n.props.disabled})})},t.prototype.getBound=function(n){var i=Kx(n,pn(n,"."+ie("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},t.prototype.render=function(){return Ne(Pw||(Pw=Pe([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(Yt)}var Pw,FMe=80,zMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=i.command,c=i.name,f=i.popup;if(u)a(u);else{var d=f?"customPopupBody":c,h=l.emit("query","getPopupInitialValues",{popupName:d})[0],p=qv(d,{el:t.refs.el,pos:s(t.refs.el),popup:f,initialValues:h});p&&o(p)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,Cv(this.refs.el)+(i.hidden?FMe:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,s=n.active,l=I({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return Ne(Nw||(Nw=Pe([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return t.refs.el=c},l,u,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e}(Yt),VMe=Uv(zMe),Nw,qMe=function(r){ee(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=qv("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,Cv(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,a=i.item,o=i.active,s=i.disabled;(t.active!==o||t.disabled!==s)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:s}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},s=function(l){return i?null:l};return Ne(Rw||(Rw=Pe([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return t.refs.el=l},o,ie("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(Yt),UMe=Uv(qMe),Rw,D_=function(r){ee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,s=a?{display:"none"}:null;return Ne(Iw||(Iw=Pe([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),ie("toolbar-group"),o,i.map(function(l){var u=l.el?UMe:VMe;return Ne(Lw||(Lw=Pe(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,t.props,l)}),ie("toolbar-divider"),s)},e}(Yt),Lw,Iw,WMe=4,jMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var a=i.target;!pn(a,"."+ie("dropdown-toolbar"))&&!pn(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=WMe,I(I({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,c=o.hideTooltip,f=u.filter(function(p){return!p.hidden}),d=f.length?null:{display:"none"},h=i?null:{display:"none"};return Ne(Bw||(Bw=Pe([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),ie("toolbar-group"),d,function(p){return t.refs.el=p},l.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,c,s,ie("dropdown-toolbar"),I(I({},h),a),function(p){return t.refs.dropdownEl=p},f.length?f.map(function(p,v){var m;return Ne($w||($w=Pe([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),D_,p,v===f.length-1||((m=f[v+1])===null||m===void 0?void 0:m.hidden),t.props)}):null)},e}(Yt),YMe=Uv(jMe),$w,Bw,GMe=50,KMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var s=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+ie("toolbar-group")+" ."+i);if(o){var s=Kx(o,pn(o,"."+ie("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=qv(i,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:a});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=IMe(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new CMe(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,a=t.itemIndex,o=this.initialItems[i];n=gp(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;Ua(this.initialItems,function(i){var a=!1;return Ua(i,function(o,s){return o.name===t?(a=!0,i.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=sMe(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+ie("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=Gx(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,a){var o=function(l){var u=l.pop();u&&a.push(u)};if(t>1)o(i);else{var s=Wt(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+ie("toolbar-divider")),o=a?Cv(a):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,f){var d=[],h=[];c.forEach(function(p,v){p.hidden||(n+=t.itemWidthMap[p.name],n>i-GMe?(u||(t.movePrevItemToDropdownToolbar(v,s,d,h),u=!0),h.push(p)):d.push(p))}),d.length&&(bc(d),s.push(d)),h.length&&(bc(h),l.push(h)),f<t.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,s=a!==t.previewStyle,l=i!==t.editorType;if(s||l){$Me(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),ra(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,f=s.items,d=s.dropdownItems,h={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},p=i==="tab"?{borderTopLeftRadius:0}:null;return Ne(Fw||(Fw=Pe([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),ie("toolbar"),ie("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",E_,this.tabs,c,this.toggleTab,ie("defaultUI-toolbar"),function(v){return t.refs.el=v},p,f.map(function(v,m){var g;return Ne(Hw||(Hw=Pe([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),D_,v,m===f.length-1||((g=f[m+1])===null||g===void 0?void 0:g.hidden),t.setItemWidth,h)}),YMe,gp("more"),d,h,HMe,l,u,a,this.hidePopup,this.execCommand)},e}(Yt),Hw,Fw,XMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){pn(i.target,"."+ie("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,s){var l=[];return s.forEach(function(u){var c=u.label,f=u.className,d=f===void 0?!1:f,h=u.disabled,p=u.onClick,v=function(){h||(p(),t.setState({pos:null}))};l.push(Ne(zw||(zw=Pe([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),v,h?" disabled":"",d,c))}),o.push(Ne(Vw||(Vw=Pe([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var t=I({display:this.state.pos?"block":"none"},this.state.pos);return Ne(qw||(qw=Pe(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),ie("context-menu"),t,this.getMenuGroupElements())},e}(Yt),zw,Vw,qw,JMe=function(r){ee(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,f=l.editorType,d=u?" hidden":"",h=ie(f==="markdown"?"md-mode":"ww-mode"),p=ie("md")+"-"+c+"-style",v=ie([s!=="light",s+" "]);return Ne(Ww||(Ww=Pe([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),v,ie("defaultUI"),d,function(m){return t.refs.el=m},KMe,function(m){return t.toolbar=m},i,c,o,f,ie("main"),h,function(m){return t.refs.editorSection=m},ie("main-container"),ie("md-container"),p,function(m){return t.refs.mdContainer=m},ie("md-splitter"),ie("ww-container"),function(m){return t.refs.wwContainer=m},!a&&Ne(Uw||(Uw=Pe(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),rMe,i,f),XMe,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(Yt),Uw,Ww,QMe=function(r){ee(e,r);function e(t){var n,i=r.call(this,t)||this,a,o=tMe(i.options.el,Ne(jw||(jw=Pe([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),JMe,function(s){return a=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new y_(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e}(w_),jw;w_.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});const ZMe=jt({mounted(){new QMe({el:document.querySelector("#editor"),height:"500px",initialEditType:"markdown",previewStyle:"vertical"}).getMarkdown()}}),eEe={class:"EditorPage"},tEe=ce("h1",null,"Toast Editor",-1),rEe=ce("div",{id:"editor"},null,-1),nEe=[tEe,rEe];function iEe(r,e,t,n,i,a){return z(),X("div",eEe,nEe)}const aEe=wp(ZMe,[["render",iEe]]),oEe=r=>(Xw("data-v-a20c852c"),r=r(),Jw(),r),sEe=oEe(()=>ce("h1",null,"Test Page",-1)),lEe=jt({__name:"TestPage",setup(r){const{delayPromise:e,timeoutPromise:t}=W_();pr(()=>{n()});const n=()=>{let i=e;console.log("---promise start : true---"),i(!0).then(a=>{console.log(a)}).catch(a=>{console.error(a)}),console.log("---promise start : false---"),i(!1).then(a=>{console.log(a)}).catch(a=>{console.error(a)}),Promise.race([t,i(!1)]).then(a=>{console.log("success",a)}).catch(a=>{console.error("error:timeout",a)})};return(i,a)=>(z(),X(Me,null,[sEe,ce("section",null,[Ar(PM)]),ce("section",null,[Ar(b$)]),ce("section",null,[Ar(aEe)])],64))}});const dEe=wp(lEe,[["__scopeId","data-v-a20c852c"]]);export{dEe as default};
